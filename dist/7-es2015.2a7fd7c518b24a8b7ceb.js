(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0FX9":function(t,e,a){var i=a("Z92M"),n=a("qmMu"),r=a("QUaw"),o=a("QAZZ");function s(t,e,a,r,o){var s=[].slice.call(arguments,1),c=s.length,l="function"==typeof s[c-1];if(!l&&!i())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(a=e,e=r=void 0):2!==c||e.getContext||(r=a,a=e,e=void 0),new Promise((function(i,o){try{var s=n.create(a,r);i(t(s,e,r))}catch(c){o(c)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(o=a,a=e,e=r=void 0):3===c&&(e.getContext&&void 0===o?(o=r,r=void 0):(o=r,r=a,a=e,e=void 0));try{var u=n.create(a,r);o(null,t(u,e,r))}catch(d){o(d)}}e.create=n.create,e.toCanvas=s.bind(null,r.render),e.toDataURL=s.bind(null,r.renderToDataURL),e.toString=s.bind(null,(function(t,e,a){return o.render(t,a)}))},"1sBl":function(t,e,a){var i=a("e/Dd").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,a=i(t),n=145===a?26:2*Math.ceil((a-13)/(2*e-2)),r=[a-7],o=1;o<e-1;o++)r[o]=r[o-1]-n;return r.push(6),r.reverse()},e.getPositions=function(t){for(var a=[],i=e.getRowColCoords(t),n=i.length,r=0;r<n;r++)for(var o=0;o<n;o++)0===r&&0===o||0===r&&o===n-1||r===n-1&&0===o||a.push([i[r],i[o]]);return a}},"3X7Y":function(t,e,a){var i=a("u/Db");function n(t){this.mode=i.NUMERIC,this.data=t.toString()}n.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){var e,a,i;for(e=0;e+3<=this.data.length;e+=3)a=this.data.substr(e,3),i=parseInt(a,10),t.put(i,10);var n=this.data.length-e;n>0&&(a=this.data.substr(e),i=parseInt(a,10),t.put(i,3*n+1))},t.exports=n},"7uVY":function(t,e){var a={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==a.call(t)}},AZa5:function(t,e,a){var i=a("Wogr"),n=a("u/Db");function r(t){this.mode=n.BYTE,this.data=i.from(t)}r.getBitsLength=function(t){return 8*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){for(var e=0,a=this.data.length;e<a;e++)t.put(this.data[e],8)},t.exports=r},BCVQ:function(t,e){var a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(a=a.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(a,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(i,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var n=new RegExp("^"+a+"$"),r=new RegExp("^[0-9]+$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return n.test(t)},e.testNumeric=function(t){return r.test(t)},e.testAlphanumeric=function(t){return o.test(t)}},ELBg:function(t,e,a){"use strict";var i={single_source_shortest_paths:function(t,e,a){var n={},r={};r[e]=0;var o,s,c,l,u,d,b=i.PriorityQueue.make();for(b.push(e,0);!b.empty();)for(c in l=(o=b.pop()).cost,u=t[s=o.value]||{})u.hasOwnProperty(c)&&(d=l+u[c],(void 0===r[c]||r[c]>d)&&(r[c]=d,b.push(c,d),n[c]=s));if(void 0!==a&&void 0===r[a]){var h=["Could not find a path from ",e," to ",a,"."].join("");throw new Error(h)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var a=[],i=e;i;)a.push(i),i=t[i];return a.reverse(),a},find_path:function(t,e,a){var n=i.single_source_shortest_paths(t,e,a);return i.extract_shortest_path_from_predecessor_list(n,a)},PriorityQueue:{make:function(t){var e,a=i.PriorityQueue,n={};for(e in t=t||{},a)a.hasOwnProperty(e)&&(n[e]=a[e]);return n.queue=[],n.sorter=t.sorter||a.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=i},H7XF:function(t,e,a){"use strict";e.byteLength=function(t){var e=l(t),a=e[1];return 3*(e[0]+a)/4-a},e.toByteArray=function(t){var e,a,i=l(t),o=i[0],s=i[1],c=new r(function(t,e,a){return 3*(e+a)/4-a}(0,o,s)),u=0,d=s>0?o-4:o;for(a=0;a<d;a+=4)e=n[t.charCodeAt(a)]<<18|n[t.charCodeAt(a+1)]<<12|n[t.charCodeAt(a+2)]<<6|n[t.charCodeAt(a+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===s&&(e=n[t.charCodeAt(a)]<<2|n[t.charCodeAt(a+1)]>>4,c[u++]=255&e),1===s&&(e=n[t.charCodeAt(a)]<<10|n[t.charCodeAt(a+1)]<<4|n[t.charCodeAt(a+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c},e.fromByteArray=function(t){for(var e,a=t.length,n=a%3,r=[],o=0,s=a-n;o<s;o+=16383)r.push(u(t,o,o+16383>s?s:o+16383));return 1===n?r.push(i[(e=t[a-1])>>2]+i[e<<4&63]+"=="):2===n&&r.push(i[(e=(t[a-2]<<8)+t[a-1])>>10]+i[e>>4&63]+i[e<<2&63]+"="),r.join("")};for(var i=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)i[s]=o[s],n[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=t.indexOf("=");return-1===a&&(a=e),[a,a===e?0:4-a%4]}function u(t,e,a){for(var n,r=[],o=e;o<a;o+=3)r.push(i[(n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]))>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return r.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},J6Nv:function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},JzKC:function(t,e,a){var i=a("Wogr"),n=a("aZ40");e.mul=function(t,e){for(var a=i.alloc(t.length+e.length-1),r=0;r<t.length;r++)for(var o=0;o<e.length;o++)a[r+o]^=n.mul(t[r],e[o]);return a},e.mod=function(t,e){for(var a=i.from(t);a.length-e.length>=0;){for(var r=a[0],o=0;o<e.length;o++)a[o]^=n.mul(e[o],r);for(var s=0;s<a.length&&0===a[s];)s++;a=a.slice(s)}return a},e.generateECPolynomial=function(t){for(var a=i.from([1]),r=0;r<t;r++)a=e.mul(a,[1,n.exp(r)]);return a}},Lzq4:function(t,e,a){var i=a("u/Db"),n=a("e/Dd");function r(t){this.mode=i.KANJI,this.data=t}r.getBitsLength=function(t){return 13*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var a=n.toSJIS(this.data[e]);if(a>=33088&&a<=40956)a-=33088;else{if(!(a>=57408&&a<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");a-=49472}t.put(a=192*(a>>>8&255)+(255&a),13)}},t.exports=r},NPxG:function(t,e,a){var i=a("ekOh"),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case i.L:return n[4*(t-1)+0];case i.M:return n[4*(t-1)+1];case i.Q:return n[4*(t-1)+2];case i.H:return n[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case i.L:return r[4*(t-1)+0];case i.M:return r[4*(t-1)+1];case i.Q:return r[4*(t-1)+2];case i.H:return r[4*(t-1)+3];default:return}}},QAZZ:function(t,e,a){var i=a("Rb7d");function n(t,e){var a=t.a/255,i=e+'="'+t.hex+'"';return a<1?i+" "+e+'-opacity="'+a.toFixed(2).slice(1)+'"':i}function r(t,e,a){var i=t+e;return void 0!==a&&(i+=" "+a),i}e.render=function(t,e,a){var o=i.getOptions(e),s=t.modules.size,c=t.modules.data,l=s+2*o.margin,u=o.color.light.a?"<path "+n(o.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+n(o.color.dark,"stroke")+' d="'+function(t,e,a){for(var i="",n=0,o=!1,s=0,c=0;c<t.length;c++){var l=Math.floor(c%e),u=Math.floor(c/e);l||o||(o=!0),t[c]?(s++,c>0&&l>0&&t[c-1]||(i+=o?r("M",l+a,.5+u+a):r("m",n,0),n=0,o=!1),l+1<e&&t[c+1]||(i+=r("h",s),s=0)):n++}return i}(c,s,o.margin)+'"/>',b='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+'viewBox="0 0 '+l+" "+l+'" shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof a&&a(null,b),b}},QUaw:function(t,e,a){var i=a("Rb7d");e.render=function(t,e,a){var n=a,r=e;void 0!==n||e&&e.getContext||(n=e,e=void 0),e||(r=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),n=i.getOptions(n);var o=i.getImageWidth(t.modules.size,n),s=r.getContext("2d"),c=s.createImageData(o,o);return i.qrToImageData(c.data,t,n),function(t,e,a){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=a,e.width=a,e.style.height=a+"px",e.style.width=a+"px"}(s,r,o),s.putImageData(c,0,0),r},e.renderToDataURL=function(t,a,i){var n=i;return void 0!==n||a&&a.getContext||(n=a,a=void 0),n||(n={}),e.render(t,a,n).toDataURL(n.type||"image/png",(n.rendererOpts||{}).quality)}},Rb7d:function(t,e){function a(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");var a=parseInt(e.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:255&a,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=t.width&&t.width>=21?t.width:void 0;return{width:e,scale:e?4:t.scale||4,margin:null==t.margin||t.margin<0?4:t.margin,color:{dark:a(t.color.dark||"#000000ff"),light:a(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,a){var i=e.getScale(t,a);return Math.floor((t+2*a.margin)*i)},e.qrToImageData=function(t,a,i){for(var n=a.modules.size,r=a.modules.data,o=e.getScale(n,i),s=Math.floor((n+2*i.margin)*o),c=i.margin*o,l=[i.color.light,i.color.dark],u=0;u<s;u++)for(var d=0;d<s;d++){var b=4*(u*s+d),h=i.color.light;u>=c&&d>=c&&u<s-c&&d<s-c&&(h=l[r[Math.floor((u-c)/o)*n+Math.floor((d-c)/o)]?1:0]),t[b++]=h.r,t[b++]=h.g,t[b++]=h.b,t[b]=h.a}}},V35J:function(t,e,a){var i=a("Wogr");function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=i.alloc(t*t),this.reservedBit=i.alloc(t*t)}n.prototype.set=function(t,e,a,i){var n=t*this.size+e;this.data[n]=a,i&&(this.reservedBit[n]=!0)},n.prototype.get=function(t,e){return this.data[t*this.size+e]},n.prototype.xor=function(t,e,a){this.data[t*this.size+e]^=a},n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=n},Wogr:function(t,e,a){"use strict";var i=a("7uVY"),n=(r.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(e){return!1}}())?2147483647:1073741823;function r(t,e,a){return r.TYPED_ARRAY_SUPPORT||this instanceof r?"number"==typeof t?c(this,t):function(t,e,a,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,a,i){if(a<0||e.byteLength<a)throw new RangeError("'offset' is out of bounds");if(e.byteLength<a+(i||0))throw new RangeError("'length' is out of bounds");var n;return n=void 0===a&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,a):new Uint8Array(e,a,i),r.TYPED_ARRAY_SUPPORT?n.__proto__=r.prototype:n=l(t,n),n}(t,e,a,i):"string"==typeof e?function(t,e){var a=0|d(e),i=s(t,a),n=i.write(e);return n!==a&&(i=i.slice(0,n)),i}(t,e):function(t,e){if(r.isBuffer(e)){var a=0|o(e.length),i=s(t,a);return 0===i.length?i:(e.copy(i,0,0,a),i)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):l(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return l(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}(this,t,e,a):new r(t,e,a)}function o(t){if(t>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|t}function s(t,e){var a;return r.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(e)).__proto__=r.prototype:(null===(a=t)&&(a=new r(e)),a.length=e),a}function c(t,e){var a=s(t,e<0?0:0|o(e));if(!r.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)a[i]=0;return a}function l(t,e){for(var a=e.length<0?0:0|o(e.length),i=s(t,a),n=0;n<a;n+=1)i[n]=255&e[n];return i}function u(t,e){var a;e=e||1/0;for(var i=t.length,n=null,r=[],o=0;o<i;++o){if((a=t.charCodeAt(o))>55295&&a<57344){if(!n){if(a>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&r.push(239,191,189);continue}n=a;continue}if(a<56320){(e-=3)>-1&&r.push(239,191,189),n=a;continue}a=65536+(n-55296<<10|a-56320)}else n&&(e-=3)>-1&&r.push(239,191,189);if(n=null,a<128){if((e-=1)<0)break;r.push(a)}else if(a<2048){if((e-=2)<0)break;r.push(a>>6|192,63&a|128)}else if(a<65536){if((e-=3)<0)break;r.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return r}function d(t){return r.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:u(t).length)}r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),r.prototype.write=function(t,e,a){void 0===e?(a=this.length,e=0):void 0===a&&"string"==typeof e?(a=this.length,e=0):isFinite(e)&&(e|=0,isFinite(a)?a|=0:a=void 0);var i=this.length-e;if((void 0===a||a>i)&&(a=i),t.length>0&&(a<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(t,e,a,i){return function(t,e,a,i){for(var n=0;n<i&&!(n+a>=e.length||n>=t.length);++n)e[n+a]=t[n];return n}(u(e,t.length-a),t,a,i)}(this,t,e,a)},r.prototype.slice=function(t,e){var a,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),r.TYPED_ARRAY_SUPPORT)(a=this.subarray(t,e)).__proto__=r.prototype;else{var n=e-t;a=new r(n,void 0);for(var o=0;o<n;++o)a[o]=this[o+t]}return a},r.prototype.copy=function(t,e,a,i){if(a||(a=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<a&&(i=a),i===a)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-a&&(i=t.length-e+a);var n,o=i-a;if(this===t&&a<e&&e<i)for(n=o-1;n>=0;--n)t[n+e]=this[n+a];else if(o<1e3||!r.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)t[n+e]=this[n+a];else Uint8Array.prototype.set.call(t,this.subarray(a,a+o),e);return o},r.prototype.fill=function(t,e,a){if("string"==typeof t){if("string"==typeof e?(e=0,a=this.length):"string"==typeof a&&(a=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<a)throw new RangeError("Out of range index");if(a<=e)return this;var n;if(e>>>=0,a=void 0===a?this.length:a>>>0,t||(t=0),"number"==typeof t)for(n=e;n<a;++n)this[n]=t;else{var o=r.isBuffer(t)?t:new r(t),s=o.length;for(n=0;n<a-e;++n)this[n+e]=o[n%s]}return this},r.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s(null,0);var a;if(void 0===e)for(e=0,a=0;a<t.length;++a)e+=t[a].length;var n=c(null,e),o=0;for(a=0;a<t.length;++a){var l=t[a];if(!r.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(n,o),o+=l.length}return n},r.byteLength=d,r.prototype._isBuffer=!0,r.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.exports.alloc=function(t){var e=new r(t);return e.fill(0),e},t.exports.from=function(t){return new r(t)}},YkKr:function(t,e,a){"use strict";a.r(e);var i=a("ofXK"),n=a("3Pt+"),r=a("tyNb"),o=a("2yk9"),s=a("fXoL");let c=(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Ib({type:t,selectors:[["app-courses"]],features:[s.Bb([o.a])],decls:1,vars:0,template:function(t,e){1&t&&s.Pb(0,"router-outlet")},directives:[r.g],styles:[""]}),t})();var l=a("I9ts"),u=a("M9IT"),d=a("+0xr"),b=a("Dh3D"),h=a("EUZL"),f=a("dK5w"),g=a("0IaG"),p=a("qXBG"),m=a("yTNM"),v=a("mroY"),y=a("kmnG"),w=a("d3UM"),C=a("qFsG"),T=a("FKr1"),D=a("NFeN"),E=a("PA/I"),U=a("OHc7");function S(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",8),s.Ub(1,"strong"),s.Ec(2,"Error:"),s.Tb(),s.Ec(3," Server error please try after some time "),s.Ub(4,"button",9),s.cc("click",(function(e){return s.wc(t),s.gc().hideErrorMsg()})),s.Ub(5,"span",10),s.Ec(6,"\xd7"),s.Tb(),s.Tb(),s.Tb()}}function I(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",11),s.Ub(1,"strong"),s.Ec(2,"Message: "),s.Tb(),s.Ec(3),s.Ub(4,"button",9),s.cc("click",(function(e){return s.wc(t),s.gc().hideErrorMsg()})),s.Ub(5,"span",10),s.Ec(6,"\xd7"),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.gc();s.Cb(3),s.Gc(" ",t.warningErrMsg," ")}}function A(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",12),s.Ub(1,"button",13),s.cc("click",(function(e){return s.wc(t),s.gc().redirectToAddCourse(!1,!1)})),s.Ec(2),s.Tb(),s.Tb()}if(2&t){const t=s.gc();s.Cb(2),s.Fc(t.langObj.val.addCourse)}}const O=function(t,e){return{"bgc-primary":t,"btn-secondary":e}};function F(t,e){if(1&t){const t=s.Vb();s.Ub(0,"button",16),s.cc("click",(function(a){s.wc(t);const i=e.$implicit;return s.gc(2).getCourses(i)})),s.Ec(1),s.Tb()}if(2&t){const t=e.$implicit,a=s.gc(2);s.mc("ngClass",s.qc(2,O,t.active,!t.active)),s.Cb(1),s.Fc(a.langObj.val[t.title])}}function _(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",14),s.Ub(1,"button",13),s.cc("click",(function(e){return s.wc(t),s.gc().generateReport()})),s.Ec(2,"Export To Excel"),s.Tb(),s.Dc(3,F,2,5,"button",15),s.Tb()}if(2&t){const t=s.gc();s.Cb(3),s.mc("ngForOf",t.courseButtons)}}function x(t,e){if(1&t&&(s.Ub(0,"mat-option",49),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.mc("value",t.id),s.Cb(1),s.Gc(" ",t.category," ")}}function k(t,e){if(1&t&&(s.Ub(0,"mat-option",49),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.mc("value",t.id),s.Cb(1),s.Gc(" ",t.name," ")}}function P(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.courseName," ")}}function j(t,e){if(1&t){const t=s.Vb();s.Ub(0,"td",51),s.cc("click",(function(a){s.wc(t);const i=e.$implicit;return s.gc(2).redirectToDetails(i)})),s.Ec(1),s.Tb()}if(2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.course_name," ")}}function N(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.startDate," ")}}function M(t,e){if(1&t&&(s.Ub(0,"td",52),s.Ec(1),s.hc(2,"dateFormat"),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",s.ic(2,1,t.start_date)," ")}}function R(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.endDate," ")}}function B(t,e){if(1&t&&(s.Ub(0,"td",52),s.Ec(1),s.hc(2,"dateFormat"),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",s.ic(2,1,t.end_date)," ")}}function V(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.lastDateForNomination," ")}}function G(t,e){if(1&t&&(s.Ub(0,"td",52),s.Ec(1),s.hc(2,"dateFormat"),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",s.ic(2,1,t.lastDateForNom)," ")}}function L(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.days," ")}}function $(t,e){if(1&t&&(s.Ub(0,"td",52),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.days," ")}}function q(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.courseSession," ")}}function z(t,e){if(1&t&&(s.Ub(0,"td",53),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.session," ")}}function Y(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.instructors," ")}}function Z(t,e){if(1&t&&(s.Ub(0,"td",52),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.instructor," ")}}function J(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.classSize," ")}}function H(t,e){if(1&t&&(s.Ub(0,"td",52),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.class_size," ")}}function W(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.confirmSeats," ")}}function K(t,e){if(1&t&&(s.Ub(0,"td",52),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.confirmed_seat," ")}}function Q(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.candidates," ")}}function X(t,e){if(1&t&&(s.Ub(0,"td",54),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.candidatesCount,"")}}function tt(t,e){if(1&t&&(s.Ub(0,"th",50),s.Ec(1),s.Tb()),2&t){const t=s.gc(3);s.Cb(1),s.Fc(t.langObj.val.action)}}function et(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-icon",60),s.cc("click",(function(e){s.wc(t);const a=s.gc().$implicit;return s.gc(3).redirectToAddCourse(!0,a)})),s.Ec(1,"edit"),s.Tb()}}function at(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-icon",61),s.cc("click",(function(e){s.wc(t);const a=s.gc().$implicit;return s.gc(3).deleteCourse(a)})),s.Ec(1,"delete"),s.Tb()}}function it(t,e){if(1&t&&(s.Ub(0,"td",57),s.Dc(1,et,2,0,"mat-icon",58),s.Dc(2,at,2,0,"mat-icon",59),s.Tb()),2&t){const t=e.$implicit,a=s.gc(3);s.Cb(1),s.mc("ngIf",a.userAccess.dualRole||a.userAccess.isAdmin||t.user_id-0===a.userId),s.Cb(1),s.mc("ngIf",a.userAccess.dualRole||a.userAccess.isAdmin||t.user_id-0===a.userId)}}function nt(t,e){1&t&&(s.Sb(0,55),s.Dc(1,tt,2,1,"th",29),s.Dc(2,it,3,2,"td",56),s.Rb())}function rt(t,e){if(1&t&&(s.Ub(0,"td",64),s.Ec(1),s.Tb()),2&t){const t=s.gc(3);s.Cb(1),s.Gc(" ",t.langObj.val.noRecordFound,"")}}function ot(t,e){1&t&&(s.Sb(0,62),s.Dc(1,rt,2,1,"td",63),s.Rb())}function st(t,e){1&t&&s.Pb(0,"tr",65)}function ct(t,e){1&t&&s.Pb(0,"tr",66)}function lt(t,e){1&t&&s.Pb(0,"tr",68)}const ut=function(){return["noRecord"]};function dt(t,e){1&t&&(s.Sb(0),s.Dc(1,lt,1,0,"tr",67),s.Rb()),2&t&&(s.Cb(1),s.mc("matFooterRowDef",s.oc(1,ut)))}const bt=function(){return[10,25,100]};function ht(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",17),s.Ub(1,"div",18),s.Ub(2,"h2",19),s.Ec(3),s.Tb(),s.Ub(4,"mat-form-field",20),s.Ub(5,"mat-label"),s.Ec(6),s.Tb(),s.Ub(7,"mat-select",21),s.cc("selectionChange",(function(e){return s.wc(t),s.gc().getSubCategory(e.value)})),s.Dc(8,x,2,2,"mat-option",22),s.Tb(),s.Tb(),s.Ub(9,"mat-form-field",23),s.Ub(10,"mat-label"),s.Ec(11),s.Tb(),s.Ub(12,"mat-select",21),s.cc("selectionChange",(function(e){return s.wc(t),s.gc().getCourseByCategory(e.value)})),s.Dc(13,k,2,2,"mat-option",22),s.Tb(),s.Tb(),s.Ub(14,"mat-form-field",24),s.Ub(15,"mat-label"),s.Ec(16),s.Tb(),s.Ub(17,"input",25),s.cc("keyup",(function(e){return s.wc(t),s.gc().applyFilter(e)})),s.Tb(),s.Tb(),s.Ub(18,"button",26),s.cc("click",(function(e){return s.wc(t),s.gc().getCourseByCategory(!1)})),s.Ec(19,"Reset"),s.Tb(),s.Tb(),s.Ub(20,"table",27),s.Sb(21,28),s.Dc(22,P,2,1,"th",29),s.Dc(23,j,2,1,"td",30),s.Rb(),s.Sb(24,31),s.Dc(25,N,2,1,"th",29),s.Dc(26,M,3,3,"td",32),s.Rb(),s.Sb(27,33),s.Dc(28,R,2,1,"th",29),s.Dc(29,B,3,3,"td",32),s.Rb(),s.Sb(30,34),s.Dc(31,V,2,1,"th",29),s.Dc(32,G,3,3,"td",32),s.Rb(),s.Sb(33,35),s.Dc(34,L,2,1,"th",29),s.Dc(35,$,2,1,"td",32),s.Rb(),s.Sb(36,36),s.Dc(37,q,2,1,"th",29),s.Dc(38,z,2,1,"td",37),s.Rb(),s.Sb(39,38),s.Dc(40,Y,2,1,"th",29),s.Dc(41,Z,2,1,"td",32),s.Rb(),s.Sb(42,39),s.Dc(43,J,2,1,"th",29),s.Dc(44,H,2,1,"td",32),s.Rb(),s.Sb(45,40),s.Dc(46,W,2,1,"th",29),s.Dc(47,K,2,1,"td",32),s.Rb(),s.Sb(48,41),s.Dc(49,Q,2,1,"th",29),s.Dc(50,X,2,1,"td",42),s.Rb(),s.Dc(51,nt,3,0,"ng-container",43),s.Dc(52,ot,2,0,"ng-container",44),s.Dc(53,st,1,0,"tr",45),s.Dc(54,ct,1,0,"tr",46),s.Dc(55,dt,2,2,"ng-container",47),s.Tb(),s.Pb(56,"mat-paginator",48),s.Tb()}if(2&t){const t=s.gc();s.Cb(3),s.Fc(t.langObj.val.courseDashboard),s.Cb(3),s.Fc(t.langObj.val.category),s.Cb(1),s.mc("formControl",t.selectedCategory),s.Cb(1),s.mc("ngForOf",t.category),s.Cb(3),s.Fc(t.langObj.val.subCategory),s.Cb(1),s.mc("formControl",t.selectedSubCategory),s.Cb(1),s.mc("ngForOf",t.subCategory),s.Cb(3),s.Fc(t.langObj.val.search),s.Cb(1),s.mc("placeholder",t.langObj.val.search),s.Cb(3),s.mc("dataSource",t.dataSource),s.Cb(31),s.mc("ngIf",t.userAccess.dualRole||t.userAccess.isAdmin||t.userAccess.ipa),s.Cb(1),s.mc("ngIf",!t.courses||0===t.courses.length),s.Cb(1),s.mc("matHeaderRowDef",t.courseHeader),s.Cb(1),s.mc("matRowDefColumns",t.courseHeader),s.Cb(1),s.mc("ngIf",!t.courses||0===t.courses.length),s.Cb(1),s.mc("pageSizeOptions",s.oc(16,bt))}}function ft(t,e){1&t&&s.Pb(0,"app-loadingbar",69)}const gt=function(t){return{"ipa-container":t}};let pt=(()=>{class t{constructor(t,e,a,i,r,o,s){this.dialog=t,this.route=e,this.router=a,this.coursesService=i,this.authService=r,this.apiService=o,this.langService=s,this.showWarningMsg=!1,this.category=[],this.subCategory=[],this.selectedCategory=new n.c,this.selectedSubCategory=new n.c,this.loading=!0,this.dtOptions={},this.langObj={},this.langOpt="ms",this.courseButtons=[],this.courseHeader=["course_name","start_date","end_date","lastDateForNom","days","hours","instructor","class_size","confirmed_seat","candidates"],this.showErrorMsg=!1,this.isAll=!1,this.userAccess={},this.langService.setLang(this.langService.defaultLangCode),this.langObj=this.langService.langDetail}ngOnInit(){let t=this.route.snapshot.data.data.data||[];this.userAccess=this.authService.userAccess,this.isAll=this.userAccess.isMin||!1,this.userId=+this.authService.getUserId(),this.courseButtons=[{title:"myCourse",isAll:!1,active:!0},{title:"allCourse",isAll:!0,active:!1}],this.apiService.selectedBtnTitle&&this.courseButtons.forEach(t=>{t.active=t.title===this.apiService.selectedBtnTitle}),t=t.map(t=>Object.assign(Object.assign({},t.course),{candidatesCount:t.total})),this.loadingObj=this.apiService.loadingObj,this.courses=t,console.clear(),console.log(this.courses),this.dataSource=new d.o(this.courses),this.dtOptions={paging:!1},this.userType=this.authService.getUserType(),(this.userAccess.allowEditCourse||this.userAccess.isAdmin)&&this.courseHeader.push("action"),this.showTable=!0,this.apiService.getCategory().subscribe(t=>{this.category=t.data||[]})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}hideErrorMsg(){this.showErrorMsg=!1}getSubCategory(t){this.apiService.getSubCategory(t).subscribe(t=>{this.subCategory=t.data||[],0===this.subCategory.length&&(this.showWarningMsg=!0,this.warningErrMsg="No Sub Category available")},t=>{this.showErrorMsg=!0})}getSubCatForRedirect(t,e){this.apiService.getSubCategory(t.category_id).subscribe(a=>{this.coursesService.editCourseDetail=t,this.coursesService.category=e,this.coursesService.subCategory=a.data||[],this.router.navigate(["courses","add"])},t=>{this.showErrorMsg=!0})}getCourses(t){this.apiService.selectedBtnTitle=t.title,this.isAll=t.isAll,this.courseButtons.forEach(t=>{t.active=!1}),t.active=!0,this.getCourseByCategory(!1)}getCourseByCategory(t){t||(this.selectedCategory.reset(),this.selectedSubCategory.reset()),this.apiService.getCourse({userId:this.authService.getUserId(),isAll:this.isAll,catId:t}).subscribe(t=>{let e=t.data||[];e=e.map(t=>Object.assign(Object.assign({},t.course),{candidatesCount:t.total})),this.courses=e,this.dataSource.disconnect(),this.dataSource=null,setTimeout(()=>{this.dataSource=new d.o(this.courses),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},100)},t=>{})}redirectToAddCourse(t,e){this.showErrorMsg=!1,this.apiService.getCategory().subscribe(a=>{const i=a.data||[];t?this.getSubCatForRedirect(e,i):(this.coursesService.category=i,this.router.navigate(["courses","add"]))},t=>{this.showErrorMsg=!0})}getMinRelationship(){this.apiService.getMinRelationship(this.authService.getUserId(),this.authService.getUserTypeId()).subscribe(t=>{this.coursesService.minRelationship=t.data||[],this.router.navigate(["courses","detail"])})}deleteCourse(t){this.dialog.open(f.a,{data:{imgUrl:"/assets/images/warning-icon.png",msg:"Are you sure you want to delete this course.",buttonType:"action"}}).afterClosed().subscribe(e=>{if(e){const e=this.authService.getUserId();this.apiService.delteCourse({userId:e,id:t.course_id}).subscribe(e=>{let a=this.courses;a=a.filter(e=>e.id!=t.id),this.courses=a,this.dataSource.disconnect(),this.dataSource=null,setTimeout(()=>{this.dataSource=new d.o(this.courses),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},100)},t=>{console.log(t)})}})}redirectToDetails(t){if(t){const e={course:t},a=this.authService.getUserId(),i=this.authService.getUserTypeId();this.apiService.getCandidate(a,t.course_id,i).subscribe(t=>{e.candidateDetails=t.data.candidateDetail,e.selfEnrollmentTotal=t.data.selfEnrollmentCount.total,this.coursesService.courseDetail=e,+this.authService.getUserTypeId()>=101&&+this.authService.getUserTypeId()<=113||115==+this.authService.getUserTypeId()||114==+this.authService.getUserTypeId()?this.getMinRelationship():(this.coursesService.minRelationship=[],this.router.navigate(["courses","detail"]))},t=>{})}}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}generateReport(){const t=[["Course Name","Start Date","End Date","Last Date For Nomination","Days","Course Session","Class Size","Confirmed Seats","Candidates"]];for(let n=0;n<this.courses.length;n++){const e=this.courses[n].start_date.split(" "),a=this.courses[n].end_date.split(" "),i=this.courses[n].lastDateForNom.split(" ");t.push([this.courses[n].course_name.toUpperCase(),e[0],a[0],i[0],this.courses[n].days,this.courses[n].session.toUpperCase(),this.courses[n].class_size,this.courses[n].confirmed_seat,this.courses[n].candidatesCount])}const e=h.utils.book_new(),a=h.utils.aoa_to_sheet(t),i=new Date;h.utils.book_append_sheet(e,a,`${i.getDate()}-${i.getMonth()+1}-${i.getFullYear()}`),a["!cols"]=[{wch:30},{wch:20},{wch:20},{wch:30},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20}],h.writeFile(e,"courses_report.xlsx")}getLanguageFile(t){}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(g.b),s.Ob(r.a),s.Ob(r.c),s.Ob(o.a),s.Ob(p.a),s.Ob(m.a),s.Ob(v.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-dashboard"]],viewQuery:function(t,e){var a;1&t&&(s.Jc(u.a,!0),s.Jc(b.a,!0)),2&t&&(s.tc(a=s.dc())&&(e.paginator=a.first),s.tc(a=s.dc())&&(e.sort=a.first))},decls:8,vars:9,consts:[[1,"container-fluid",3,"ngClass"],["class","alert alert-danger alert-dismissible fade show m-t-b-10","role","alert",4,"ngIf"],["class","alert alert-warning alert-dismissible fade show m-t-b-10","role","alert",4,"ngIf"],[1,"ipa-buttons"],["class","filter-box",4,"ngIf"],["class","filter-box course-action-btn",4,"ngIf"],["class","table-box mat-elevation-z8",4,"ngIf"],["class","ipa-spinner",4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","m-t-b-10"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","m-t-b-10"],[1,"filter-box"],["type","button",1,"btn","bgc-primary",3,"click"],[1,"filter-box","course-action-btn"],["type","button","class","btn btn-secondary",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary",3,"ngClass","click"],[1,"table-box","mat-elevation-z8"],[1,"flex-sb","dashboard-filters"],[1,"header-2","table-header"],[1,"grey-color","dropdown","mg-lf-auto"],[3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"grey-color","dropdown"],[1,"fl-jc-rg","mg-rt-10"],["matInput","","autocomplete","off",3,"placeholder","keyup"],[1,"btn","btn-course-reset","btn-secondary",3,"click"],["mat-table","","matSort","",1,"full-width",3,"dataSource"],["matColumnDef","course_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","link-label",3,"click",4,"matCellDef"],["matColumnDef","start_date"],["mat-cell","",4,"matCellDef"],["matColumnDef","end_date"],["matColumnDef","lastDateForNom"],["matColumnDef","days"],["matColumnDef","hours"],["mat-cell","","class","capitalize",4,"matCellDef"],["matColumnDef","instructor"],["matColumnDef","class_size"],["matColumnDef","confirmed_seat"],["matColumnDef","candidates"],["mat-cell","","class","max-w-150 table-ellipsis",4,"matCellDef"],["matColumnDef","action",4,"ngIf"],["matColumnDef","noRecord",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"pageSizeOptions"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"link-label",3,"click"],["mat-cell",""],["mat-cell","",1,"capitalize"],["mat-cell","",1,"max-w-150","table-ellipsis"],["matColumnDef","action"],["class","link-label","mat-cell","",4,"matCellDef"],["mat-cell","",1,"link-label"],["class","edit-icon ","title","Edit","aria-hidden","false","aria-label","Example edit icon",3,"click",4,"ngIf"],["class","edit-icon delete-icon","title","Delete","aria-hidden","false","aria-label","Example edit icon",3,"click",4,"ngIf"],["title","Edit","aria-hidden","false","aria-label","Example edit icon",1,"edit-icon",3,"click"],["title","Delete","aria-hidden","false","aria-label","Example edit icon",1,"edit-icon","delete-icon",3,"click"],["matColumnDef","noRecord"],["mat-footer-cell","","colspan","10","class","ta-center",4,"matFooterCellDef"],["mat-footer-cell","","colspan","10",1,"ta-center"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""],[1,"ipa-spinner"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Dc(1,S,7,0,"div",1),s.Dc(2,I,7,1,"div",2),s.Ub(3,"div",3),s.Dc(4,A,3,1,"div",4),s.Dc(5,_,4,1,"div",5),s.Tb(),s.Dc(6,ht,57,17,"div",6),s.Tb(),s.Dc(7,ft,1,0,"app-loadingbar",7)),2&t&&(s.mc("ngClass",s.pc(7,gt,"ipa"===e.userType)),s.Cb(1),s.mc("ngIf",e.showErrorMsg),s.Cb(1),s.mc("ngIf",e.showWarningMsg),s.Cb(2),s.mc("ngIf",e.userAccess.allowAddCourse||e.userAccess.isAdmin),s.Cb(1),s.mc("ngIf",e.userAccess.dualRole||e.userAccess.ipa),s.Cb(1),s.mc("ngIf",e.showTable),s.Cb(1),s.mc("ngIf",e.loadingObj.show))},directives:[i.i,i.k,i.j,y.b,y.e,w.a,n.m,n.d,C.b,d.n,b.a,d.c,d.i,d.b,d.k,d.m,u.a,T.n,d.h,b.b,d.a,D.a,d.e,d.d,d.j,d.l,d.g,d.f,E.a],pipes:[U.a],styles:[""]}),t})();var mt=a("LRne"),vt=a("JIr8");let yt=(()=>{class t{constructor(t,e){this.authService=t,this.apiService=e}resolve(t){return this.apiService.getCourse({userId:this.authService.getUserId(),isAll:!1,catId:!1,resolver:!0}).pipe(Object(vt.a)(t=>Object(mt.a)([])))}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(p.a),s.Yb(m.a))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var wt=a("mrSG"),Ct=a("cxbk"),Tt=a("0FX9"),Dt=a.n(Tt),Et=a("8DG/"),Ut=a("7EHt"),St=a("Xa2L");function It(t,e){1&t&&(s.Ub(0,"div",4),s.Pb(1,"mat-spinner",5),s.Tb())}function At(t,e){if(1&t&&(s.Ub(0,"mat-expansion-panel"),s.Ub(1,"mat-expansion-panel-header"),s.Ub(2,"mat-panel-title",8),s.Ec(3),s.Tb(),s.Ub(4,"mat-panel-description",8),s.Ec(5),s.Tb(),s.Tb(),s.Ub(6,"div",9),s.Ub(7,"div",10),s.Ub(8,"div",11),s.Ec(9),s.Tb(),s.Ub(10,"div",12),s.Ec(11),s.Tb(),s.Tb(),s.Ub(12,"div",10),s.Ub(13,"div",11),s.Ec(14),s.Tb(),s.Ub(15,"div",12),s.Ec(16),s.Tb(),s.Tb(),s.Ub(17,"div",10),s.Ub(18,"div",11),s.Ec(19),s.Tb(),s.Ub(20,"div",12),s.Ec(21),s.Tb(),s.Tb(),s.Ub(22,"div",10),s.Ub(23,"div",11),s.Ec(24),s.Tb(),s.Ub(25,"div",12),s.Ec(26),s.Tb(),s.Tb(),s.Ub(27,"div",10),s.Ub(28,"div",11),s.Ec(29),s.Tb(),s.Ub(30,"div",12),s.Ec(31),s.Tb(),s.Tb(),s.Ub(32,"div",10),s.Ub(33,"div",11),s.Ec(34,"Comments"),s.Tb(),s.Ub(35,"div",13),s.Ec(36),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t){const t=e.$implicit,a=s.gc(2);s.Cb(3),s.Gc(" ",t.candidate_name," "),s.Cb(2),s.Gc(" IC No: ",t.ic_number," "),s.Cb(4),s.Fc(a.data.questions.first_question),s.Cb(2),s.Fc(a.answerObj[t.first_question]),s.Cb(3),s.Fc(a.data.questions.second_question),s.Cb(2),s.Fc(a.answerObj[t.second_question]),s.Cb(3),s.Fc(a.data.questions.third_question),s.Cb(2),s.Fc(a.answerObj[t.third_question]),s.Cb(3),s.Fc(a.data.questions.fourth_question),s.Cb(2),s.Fc(a.answerObj[t.fourth_question]),s.Cb(3),s.Fc(a.data.questions.fifth_question),s.Cb(2),s.Fc(a.answerObj[t.fifth_question]),s.Cb(5),s.Fc(t.comments)}}function Ot(t,e){if(1&t&&(s.Ub(0,"mat-accordion",6),s.Dc(1,At,37,13,"mat-expansion-panel",7),s.Tb()),2&t){const t=s.gc();s.Cb(1),s.mc("ngForOf",t.data.evaluationDetails)}}let Ft=(()=>{class t{constructor(t,e){this.data=t,this.langService=e,this.langObj={},this.answerObj={1:"Strongly Disagree",2:"Disagree",3:"Neutral",4:"Agree",5:"Strongly Agree"},this.showContent=!1,this.langService.setLang(this.langService.defaultLangCode),this.langObj=this.langService.langDetail,setTimeout(()=>{this.showContent=!0},1e3)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(g.a),s.Ob(v.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-evaluation-data"]],viewQuery:function(t,e){var a;1&t&&s.Jc(Ut.a,!0),2&t&&s.tc(a=s.dc())&&(e.accordion=a.first)},decls:5,vars:2,consts:[["mat-dialog-title",""],["class","spinner evaluation-spinner",4,"ngIf"],[1,"mat-typography"],["class","evaluation-accordion example-headers-align",4,"ngIf"],[1,"spinner","evaluation-spinner"],["color","accent"],[1,"evaluation-accordion","example-headers-align"],[4,"ngFor","ngForOf"],[1,"label-box"],[1,"evaluation-container"],[1,"evaluation-row"],[1,"evaluation-column"],[1,"evaluation-column","answer"],[1,"evaluation-column","comments"]],template:function(t,e){1&t&&(s.Ub(0,"h2",0),s.Ec(1,"Evaluation Details"),s.Tb(),s.Dc(2,It,2,0,"div",1),s.Ub(3,"mat-dialog-content",2),s.Dc(4,Ot,2,1,"mat-accordion",3),s.Tb()),2&t&&(s.Cb(2),s.mc("ngIf",!e.showContent),s.Cb(2),s.mc("ngIf",e.showContent))},directives:[g.h,i.k,g.e,St.b,Ut.a,i.j,Ut.c,Ut.e,Ut.f,Ut.d],styles:[".label-box[_ngcontent-%COMP%]{font-size:14px;color:#380c3c;font-weight:600;letter-spacing:.3px}mat-panel-description[_ngcontent-%COMP%]{-webkit-box-pack:end;justify-content:flex-end}.spinner[_ngcontent-%COMP%], mat-panel-description[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.spinner[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center;margin-top:30px}.mat-accordion[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]{margin-top:10px}.mat-expansion-panel[_ngcontent-%COMP%]:last-child{margin-bottom:10px}.evaluation-btn-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start;margin-bottom:20px}.evaluation-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:20px}.evaluation-row[_ngcontent-%COMP%]{border:1px solid rgba(106,72,131,.24);border-radius:5px!important;padding:10px;margin-bottom:10px}mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 0 3px hsla(0,0%,50.2%,.79)!important;border-radius:7px!important}.evaluation-column[_ngcontent-%COMP%]{text-align:left;color:rgba(0,0,0,.72)!important;font-weight:700;font-size:14px;letter-spacing:.4px}.evaluation-column.answer[_ngcontent-%COMP%]{color:#6a0676!important;margin-top:15px;text-align:left}.evaluation-column.answer.comments[_ngcontent-%COMP%]{color:#6a0676!important}.evaluation-container[_ngcontent-%COMP%]{max-height:80vh!important;overflow-y:auto}mat-dialog-content[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}"]}),t})();var _t=a("ES73"),xt=a("iadO"),kt=a("QibW"),Pt=a("Qu3c"),jt=a("bSwM");function Nt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",8),s.Ub(1,"div",7),s.Ec(2,"Download Report"),s.Tb(),s.Ub(3,"div",22),s.cc("click",(function(e){return s.wc(t),s.gc().openModalPopup()})),s.Pb(4,"img",23),s.Tb(),s.Tb()}}function Mt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",8),s.Ub(1,"div",7),s.Ec(2,"Download QR Code"),s.Tb(),s.Ub(3,"div",22),s.cc("click",(function(e){return s.wc(t),s.gc().getQrCode("attendance")})),s.Pb(4,"img",24),s.Tb(),s.Tb()}}function Rt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",8),s.Ub(1,"div",7),s.Ec(2,"QR Code For Evaluation"),s.Tb(),s.Ub(3,"div",22),s.cc("click",(function(e){return s.wc(t),s.gc().getQrCode("evaluation")})),s.Pb(4,"img",24),s.Tb(),s.Tb()}}function Bt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",8),s.Ub(1,"div",7),s.Ec(2,"Evaluation Report"),s.Tb(),s.Ub(3,"div",22),s.cc("click",(function(e){return s.wc(t),s.gc().getEvaluationReport()})),s.Pb(4,"img",23),s.Tb(),s.Tb()}}function Vt(t,e){if(1&t&&(s.Ub(0,"div",13),s.Ub(1,"div",7),s.Ec(2),s.Tb(),s.Ub(3,"div"),s.Ec(4),s.Tb(),s.Tb()),2&t){const t=s.gc();s.Cb(2),s.Fc(t.langObj.val.internalNotes),s.Cb(2),s.Fc(t.courseDetail.internal_notes)}}function Gt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"button",30),s.cc("click",(function(e){return s.wc(t),s.gc(2).toggleCandidateForm(!0)})),s.Ec(1),s.Tb()}if(2&t){const t=s.gc(2);s.mc("disabled",t.lastDateExceeded),s.Cb(1),s.Gc(" ",t.langObj.val.addCandidate," ")}}function Lt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"span",31),s.cc("click",(function(e){return s.wc(t),s.gc(2).toggleCandidateForm(!1)})),s.Ec(1,"X"),s.Tb()}}function $t(t,e){if(1&t&&(s.Ub(0,"mat-option",64),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.mc("value",t.department_id),s.Cb(1),s.Gc(" ",t.department_name," ")}}function qt(t,e){if(1&t&&(s.Ub(0,"mat-option",64),s.Ec(1),s.Tb()),2&t){const t=e.$implicit,a=s.gc(4);s.mc("value",t.value),s.Cb(1),s.Gc(" ",a.langObj.val.candidateOptions[t.viewValue]," ")}}function zt(t,e){if(1&t&&(s.Ub(0,"mat-option",64),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.mc("value",t.value),s.Cb(1),s.Gc(" ",t.viewValue," ")}}function Yt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div"),s.Ub(1,"mat-form-field",37),s.Ub(2,"mat-label"),s.Ec(3),s.Tb(),s.Pb(4,"input",43),s.Tb(),s.Ub(5,"mat-form-field",37),s.Ub(6,"mat-label"),s.Ec(7),s.Tb(),s.Pb(8,"input",44),s.Tb(),s.Ub(9,"mat-form-field",37),s.Ub(10,"mat-label"),s.Ec(11),s.Tb(),s.Pb(12,"input",45),s.Tb(),s.Ub(13,"mat-form-field",37),s.Ub(14,"mat-label"),s.Ec(15),s.Tb(),s.Pb(16,"input",46),s.Tb(),s.Ub(17,"mat-form-field",37),s.Ub(18,"mat-label"),s.Ec(19),s.Tb(),s.Ub(20,"span",47),s.Ec(21,"+673"),s.Tb(),s.Ub(22,"input",48),s.cc("keydown",(function(e){return s.wc(t),s.gc(3).keyDown(e)})),s.Tb(),s.Tb(),s.Ub(23,"mat-form-field",37),s.Ub(24,"mat-label"),s.Ec(25),s.Tb(),s.Pb(26,"input",49),s.Tb(),s.Ub(27,"mat-form-field",37),s.Ub(28,"mat-label"),s.Ec(29),s.Tb(),s.Ub(30,"mat-select",50),s.Dc(31,$t,2,2,"mat-option",51),s.Tb(),s.Tb(),s.Ub(32,"mat-form-field",37),s.Ub(33,"mat-label"),s.Ec(34),s.Tb(),s.Pb(35,"input",52),s.Pb(36,"mat-datepicker-toggle",53),s.Pb(37,"mat-datepicker",null,54),s.Tb(),s.Ub(39,"mat-form-field",37),s.Ub(40,"mat-label"),s.Ec(41),s.Tb(),s.Pb(42,"input",55),s.Pb(43,"mat-datepicker-toggle",53),s.Pb(44,"mat-datepicker",null,56),s.Tb(),s.Ub(46,"mat-form-field",37),s.Ub(47,"mat-label"),s.Ec(48),s.Tb(),s.Pb(49,"input",57),s.Tb(),s.Ub(50,"mat-form-field",37),s.Ub(51,"mat-label"),s.Ec(52),s.Tb(),s.Ub(53,"mat-select",58),s.Dc(54,qt,2,2,"mat-option",51),s.Tb(),s.Tb(),s.Ub(55,"mat-form-field",37),s.Ub(56,"mat-label"),s.Ec(57),s.Tb(),s.Ub(58,"mat-select",59),s.Dc(59,zt,2,2,"mat-option",51),s.Tb(),s.Tb(),s.Ub(60,"mat-radio-group",60),s.Ub(61,"mat-label",61),s.Ec(62),s.Tb(),s.Ub(63,"mat-radio-button",62),s.Ec(64),s.Tb(),s.Ub(65,"mat-radio-button",63),s.Ec(66),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.uc(38),e=s.uc(45),a=s.gc(3);s.Cb(3),s.Fc(a.langObj.val.candidateName),s.Cb(4),s.Fc(a.langObj.val.candEmail),s.Cb(4),s.Fc(a.langObj.val.companyname),s.Cb(4),s.Fc(a.langObj.val.companyemail),s.Cb(4),s.Fc(a.langObj.val.candPhone),s.Cb(6),s.Fc(a.langObj.val.ministry),s.Cb(4),s.Fc(a.langObj.val.department),s.Cb(2),s.mc("ngForOf",a.pmoDepartments),s.Cb(3),s.Fc(a.langObj.val.dob),s.Cb(1),s.mc("max",a.endDate)("matDatepicker",t),s.Cb(1),s.mc("for",t),s.Cb(5),s.Fc(a.langObj.val.doj),s.Cb(1),s.mc("max",a.endDate)("matDatepicker",e),s.Cb(1),s.mc("for",e),s.Cb(5),s.Fc(a.langObj.val.position),s.Cb(4),s.Fc(a.langObj.val.type),s.Cb(2),s.mc("ngForOf",a.candidateTypeOptions),s.Cb(3),s.Fc(a.langObj.val.salaryGrade),s.Cb(2),s.mc("ngForOf",a.salaryGradeOptions),s.Cb(3),s.Fc(a.langObj.val.gender),s.Cb(2),s.Fc(a.langObj.val.male),s.Cb(2),s.Fc(a.langObj.val.female)}}function Zt(t,e){if(1&t&&(s.Ub(0,"button",65),s.Ec(1),s.Tb()),2&t){const t=s.gc(3);s.Cb(1),s.Fc(t.selectedCandidate?t.langObj.val.update:t.langObj.val.submit)}}function Jt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",32),s.Ub(1,"div",33),s.Ub(2,"div",34),s.Ub(3,"div",35),s.Ub(4,"form",36),s.cc("ngSubmit",(function(e){s.wc(t);const a=s.gc(2);return a.onSubmit(a.candidateForm)})),s.Ub(5,"mat-form-field",37),s.Ub(6,"mat-label"),s.Ec(7),s.Tb(),s.Ub(8,"input",38),s.cc("keydown",(function(e){return s.wc(t),s.gc(2).keyDown(e)})),s.Tb(),s.Tb(),s.Dc(9,Yt,67,24,"div",39),s.Ub(10,"div",40),s.Ub(11,"button",41),s.cc("click",(function(e){return s.wc(t),s.gc(2).resetForm()})),s.Ec(12),s.Tb(),s.Dc(13,Zt,2,1,"button",42),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.gc(2);s.Cb(4),s.mc("formGroup",t.candidateForm),s.Cb(3),s.Fc(t.langObj.val.enterIcNo),s.Cb(2),s.mc("ngIf",t.showInlineForm),s.Cb(3),s.Fc(t.langObj.val.reset),s.Cb(1),s.mc("ngIf",t.showInlineForm)}}function Ht(t,e){if(1&t&&(s.Ub(0,"div",25),s.Ub(1,"div",26),s.Dc(2,Gt,2,2,"button",27),s.Dc(3,Lt,2,0,"span",28),s.Tb(),s.Dc(4,Jt,14,5,"div",29),s.Tb()),2&t){const t=s.gc();s.Cb(2),s.mc("ngIf",!t.showCandidateForm),s.Cb(1),s.mc("ngIf",t.showCandidateForm),s.Cb(1),s.mc("ngIf",t.showCandidateForm)}}function Wt(t,e){if(1&t&&(s.Ub(0,"span",68),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc("(",t.selfEnrollmentTotal,")")}}const Kt=function(t){return{active:t}};function Qt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",66),s.cc("click",(function(a){s.wc(t);const i=e.$implicit;return s.gc().getCandidateDetails(i)})),s.Ec(1),s.Dc(2,Wt,2,1,"span",67),s.Tb()}if(2&t){const t=e.$implicit,a=s.gc();s.mc("ngClass",s.pc(3,Kt,t.active)),s.Cb(1),s.Gc(" ",a.langObj.val.candTabsLabel[t.name],""),s.Cb(1),s.mc("ngIf","selfEnrolledCandidates"===t.name)}}function Xt(t,e){if(1&t&&(s.Ub(0,"th",93),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.candidate," ")}}function te(t,e){if(1&t){const t=s.Vb();s.Ub(0,"td",94),s.cc("click",(function(a){s.wc(t);const i=e.$implicit;return s.gc(2).redirectToCandidate(i)})),s.Ec(1),s.Tb()}if(2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.candidate_name," ")}}function ee(t,e){if(1&t&&(s.Ub(0,"th",93),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.department," ")}}function ae(t,e){if(1&t&&(s.Ub(0,"td",95),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.departName," ")}}function ie(t,e){if(1&t&&(s.Ub(0,"th",93),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.ministry," ")}}function ne(t,e){if(1&t&&(s.Ub(0,"td",95),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.ministry," ")}}function re(t,e){if(1&t&&(s.Ub(0,"th",93),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.position," ")}}function oe(t,e){if(1&t&&(s.Ub(0,"td",95),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.position," ")}}function se(t,e){if(1&t&&(s.Ub(0,"th",93),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.salaryGrade," ")}}function ce(t,e){if(1&t&&(s.Ub(0,"td",95),s.Ec(1),s.Tb()),2&t){const t=e.$implicit,a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.salaryGradeOptions[t.salary_grade]," ")}}function le(t,e){if(1&t&&(s.Ub(0,"th",93),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.selected," ")}}function ue(t,e){if(1&t&&(s.Ub(0,"td",96),s.Ec(1),s.Tb()),2&t){const t=e.$implicit,a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.selectedObj[t.status]," ")}}function de(t,e){if(1&t&&(s.Ub(0,"th",93),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.attended," ")}}function be(t,e){if(1&t&&(s.Ub(0,"td",96),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Gc(" ",t.attended," ")}}function he(t,e){if(1&t&&(s.Ub(0,"th",97),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Gc(" ",t.langObj.val.action," ")}}function fe(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-icon",105),s.cc("click",(function(e){s.wc(t);const a=s.gc(2).$implicit;return s.gc(2).changeStatus("approved",a)})),s.Ec(1,"thumb_up_alt"),s.Tb()}if(2&t){const t=s.gc(4);s.nc("matTooltip",t.langObj.val.approve),s.mc("title",t.langObj.val.approve)}}function ge(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-icon",106),s.cc("click",(function(e){s.wc(t);const a=s.gc(2).$implicit;return s.gc(2).changeStatus("deferred",a)})),s.Ec(1,"not_interested"),s.Tb()}if(2&t){const t=s.gc(4);s.nc("matTooltip",t.langObj.val.defer)}}function pe(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-icon",107),s.cc("click",(function(e){s.wc(t);const a=s.gc(2).$implicit;return s.gc(2).changeStatus("rejected",a)})),s.Ec(1,"thumb_down_alt"),s.Tb()}if(2&t){const t=s.gc(4);s.nc("matTooltip",t.langObj.val.reject)}}function me(t,e){if(1&t&&(s.Ub(0,"span",101),s.Dc(1,fe,2,2,"mat-icon",102),s.Dc(2,ge,2,1,"mat-icon",103),s.Dc(3,pe,2,1,"mat-icon",104),s.Tb()),2&t){const t=s.gc().$implicit;s.Cb(1),s.mc("ngIf","approved"!=t.status),s.Cb(1),s.mc("ngIf","deferred"!=t.status),s.Cb(1),s.mc("ngIf","rejected"!=t.status)}}function ve(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-icon",108),s.cc("click",(function(e){s.wc(t);const a=s.gc().$implicit;return s.gc(2).editCandidate(a)})),s.Ec(1,"edit"),s.Tb()}}function ye(t,e){if(1&t){const t=s.Vb();s.Ub(0,"span",101),s.Ub(1,"mat-icon",105),s.cc("click",(function(e){s.wc(t);const a=s.gc().$implicit;return s.gc(2).updateSelfEnrollment("approved",a)})),s.Ec(2,"thumb_up_alt"),s.Tb(),s.Ub(3,"mat-icon",107),s.cc("click",(function(e){s.wc(t);const a=s.gc().$implicit;return s.gc(2).updateSelfEnrollment("rejected",a)})),s.Ec(4,"thumb_down_alt"),s.Tb(),s.Tb()}if(2&t){const t=s.gc(3);s.Cb(1),s.nc("matTooltip",t.langObj.val.approve),s.mc("title",t.langObj.val.approve),s.Cb(2),s.nc("matTooltip",t.langObj.val.reject)}}function we(t,e){if(1&t&&(s.Ub(0,"td",98),s.Dc(1,me,4,3,"span",99),s.Dc(2,ve,2,0,"mat-icon",100),s.Dc(3,ye,5,3,"span",99),s.Tb()),2&t){const t=e.$implicit,a=s.gc(2);s.Cb(1),s.mc("ngIf",!a.isSelfCandidateTables&&a.userAccess.allowEnrollment||a.userAccess.isAdmin),s.Cb(1),s.mc("ngIf",!a.isSelfCandidateTables&&a.userAccess.dualRole||a.userAccess.isAdmin||a.userAccess.isMin&&t.ministry_id-0===a.currentUserId),s.Cb(1),s.mc("ngIf",a.isSelfCandidateTables)}}function Ce(t,e){1&t&&s.Pb(0,"tr",109)}function Te(t,e){1&t&&s.Pb(0,"tr",110)}function De(t,e){if(1&t&&(s.Ub(0,"div",111),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Fc(t.langObj.val.noRecordFound)}}const Ee=function(){return[10,50,100]};function Ue(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",69),s.Ub(1,"div",70),s.Ub(2,"h2",71),s.Ec(3),s.Tb(),s.Ub(4,"mat-form-field",72),s.Ub(5,"mat-label"),s.Ec(6,"Search"),s.Tb(),s.Ub(7,"input",73),s.cc("keyup",(function(e){return s.wc(t),s.gc().applyFilter(e)})),s.Tb(),s.Tb(),s.Tb(),s.Ub(8,"table",74),s.Sb(9,75),s.Dc(10,Xt,2,1,"th",76),s.Dc(11,te,2,1,"td",77),s.Rb(),s.Sb(12,78),s.Dc(13,ee,2,1,"th",76),s.Dc(14,ae,2,1,"td",79),s.Rb(),s.Sb(15,80),s.Dc(16,ie,2,1,"th",76),s.Dc(17,ne,2,1,"td",79),s.Rb(),s.Sb(18,81),s.Dc(19,re,2,1,"th",76),s.Dc(20,oe,2,1,"td",79),s.Rb(),s.Sb(21,82),s.Dc(22,se,2,1,"th",76),s.Dc(23,ce,2,1,"td",79),s.Rb(),s.Sb(24,83),s.Dc(25,le,2,1,"th",76),s.Dc(26,ue,2,1,"td",84),s.Rb(),s.Sb(27,85),s.Dc(28,de,2,1,"th",76),s.Dc(29,be,2,1,"td",84),s.Rb(),s.Sb(30,86),s.Dc(31,he,2,1,"th",87),s.Dc(32,we,4,3,"td",88),s.Rb(),s.Dc(33,Ce,1,0,"tr",89),s.Dc(34,Te,1,0,"tr",90),s.Tb(),s.Dc(35,De,2,1,"div",91),s.Pb(36,"mat-paginator",92),s.Tb()}if(2&t){const t=s.gc();s.Cb(3),s.Fc(t.langObj.val.candidateDetails),s.Cb(5),s.mc("dataSource",t.dataSource),s.Cb(25),s.mc("matHeaderRowDef",t.isSelfCandidateTables?t.selfCandidateHeader:t.candidateHeader),s.Cb(1),s.mc("matRowDefColumns",t.isSelfCandidateTables?t.selfCandidateHeader:t.candidateHeader),s.Cb(1),s.mc("ngIf",!t.candidateDetails||0===t.candidateDetails.length),s.Cb(1),s.mc("pageSizeOptions",s.oc(6,Ee))}}function Se(t,e){1&t&&s.Pb(0,"app-loadingbar",112)}function Ie(t,e){if(1&t&&(s.Ub(0,"div",123),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Fc(t.langObj.val.selectAnyStatus)}}function Ae(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",113),s.Pb(1,"div",114),s.Ub(2,"div",115),s.Dc(3,Ie,2,1,"div",116),s.Ub(4,"h2",117),s.Ec(5,"Please select the status"),s.Tb(),s.Ub(6,"div",118),s.Ub(7,"mat-checkbox",119),s.cc("ngModelChange",(function(e){return s.wc(t),s.gc().attendanceReport.approved=e})),s.Ec(8),s.Tb(),s.Ub(9,"mat-checkbox",119),s.cc("ngModelChange",(function(e){return s.wc(t),s.gc().attendanceReport.rejected=e})),s.Ec(10),s.Tb(),s.Ub(11,"mat-checkbox",119),s.cc("ngModelChange",(function(e){return s.wc(t),s.gc().attendanceReport.deferred=e})),s.Ec(12),s.Tb(),s.Ub(13,"mat-checkbox",119),s.cc("ngModelChange",(function(e){return s.wc(t),s.gc().attendanceReport.pending=e})),s.Ec(14),s.Tb(),s.Tb(),s.Ub(15,"div",120),s.Ub(16,"button",121),s.cc("click",(function(e){return s.wc(t),s.gc().closeModalPopup(!1)})),s.Ec(17,"Cancel"),s.Tb(),s.Ub(18,"button",122),s.cc("click",(function(e){return s.wc(t),s.gc().closeModalPopup(!0)})),s.Ec(19,"Download"),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.gc();s.Cb(3),s.mc("ngIf",t.attendanceReportMsg),s.Cb(4),s.mc("ngModel",t.attendanceReport.approved),s.Cb(1),s.Fc(t.langObj.val.approved),s.Cb(1),s.mc("ngModel",t.attendanceReport.rejected),s.Cb(1),s.Fc(t.langObj.val.rejected),s.Cb(1),s.mc("ngModel",t.attendanceReport.deferred),s.Cb(1),s.Fc(t.langObj.val.deferred),s.Cb(1),s.mc("ngModel",t.attendanceReport.pending),s.Cb(1),s.Fc(t.langObj.val.pending)}}const Oe=function(t){return{"ipa-container":t}};let Fe=(()=>{class t{constructor(t,e,a,i,n,r,o){this.coursesService=t,this.candidateService=e,this.router=a,this.authService=i,this.dialog=n,this.langService=r,this.apiService=o,this.userAccess={},this.wopts={bookType:"xlsx",type:"array"},this.malayCode=Et.a,this.attendanceReport={approved:!1,rejected:!1,deferred:!1,pending:!1},this.showEvaluationData=!1,this.showAttendancePopup=!1,this.lastDateExceeded=!1,this.fileName="Phalcon.xlsx",this.langObj={},this.courseDetail={},this.showInlineForm=!1,this.showAddButton=!1,this.showReport=!1,this.validateIc=!0,this.dtOptions={},this.showCandidateForm=!1,this.btnName="Add Candidate",this.selectedCandidate=null,this.attendanceReportMsg=!1,this.disableDepartment=!1,this.showCandidateTables=!0,this.showSelfCandTables=!1,this.isSelfCandidateTables=!1,this.tabLabels=[{name:"candidates",active:!0},{name:"selfEnrolledCandidates",active:!1}],this.pmoDepartments=[{value:"2",viewValue:"Kustom dan Tradisi Diraja"},{value:"4",viewValue:"Jabatan Peguam Negara"},{value:"6",viewValue:"Jabatan Audit"},{value:"7",viewValue:"Pasukan Polis Diraja Brunei"},{value:"8",viewValue:"Pejabat Anti Rasuah"},{value:"9",viewValue:"Jabatan Perkhidmatan Awam"},{value:"10",viewValue:"Jabatan Keselamatan Dalam Negeri"},{value:"11",viewValue:"Jabatan Majlis Negeri"},{value:"12",viewValue:"Biro Kawalan Narkotik"},{value:"13",viewValue:"Jabatan Radio dan Televisyen Brunei"},{value:"14",viewValue:"Suruhanjaya Perkhidmatan Awam"},{value:"15",viewValue:"Jabatan Mufti Negeri"},{value:"16",viewValue:"Jabatan Perkhidmatan Pengurusan"},{value:"17",viewValue:"Jabatan Percetakan Kerajaan"},{value:"18",viewValue:"Jabatan Penerangan"},{value:"19",viewValue:"Jabatan Kehakiman Negara"},{value:"20",viewValue:"Jabatan Penyelidikan Brunei"}],this.salaryGradeOptions=[{value:"default",viewValue:"Leave Blank"},{value:"grade_a1_a2",viewValue:"Grade A1/A2"},{value:"superscale_special",viewValue:"Superscale Special"},{value:"superscale_a_b_c",viewValue:"Superscale A/B/C"},{value:"kumpilan_123",viewValue:"kumpulan 1/2/3"},{value:"b3",viewValue:"B3"},{value:"b2",viewValue:"B2"},{value:"c3",viewValue:"C3"},{value:"c2",viewValue:"C2"},{value:"c1",viewValue:"C1"},{value:"iv",viewValue:"IV"},{value:"v",viewValue:"V"}],this.candidateTypeOptions=[{value:"default",viewValue:"default"},{value:"100",viewValue:"fullTime"},{value:"101",viewValue:"daily"},{value:"102",viewValue:"open"},{value:"103",viewValue:"contract"}],this.candidateHeader=["candidate_name","department","ministry","position","salary_grade","status","attended","action"],this.selfCandidateHeader=["candidate_name","position","salary_grade","action"],this.tableHeaders=[],this.selfCandDetails=[],this.langService.setLang(this.langService.defaultLangCode),this.langObj=this.langService.langDetail}ngOnInit(){this.currentUserId=+this.authService.getUserId(),this.userAccess=this.authService.userAccess,this.loadingObj=this.apiService.loadingObj,this.userTypeId=this.authService.getUserTypeId(),this.coursesService.courseDetail||this.router.navigate(["/courses"]),this.pmoDepartments=this.coursesService.minRelationship?[...this.coursesService.minRelationship]:[];const t=new Date;this.endDate=t,this.candidateForm=new n.f({candidateName:new n.c("",[n.s.required]),icNo:new n.c("",[n.s.required,n.s.pattern(/^[0-9]{8}$/)],this.icValidator.bind(this)),email:new n.c("",[n.s.required,n.s.email]),mobileNo:new n.c("",[n.s.required,n.s.pattern(/^[0-9]{7}$/)]),dept:new n.c("",[n.s.required]),ministry:new n.c("Default",[n.s.required]),companyName:new n.c("",[]),companyEmail:new n.c("",[n.s.email]),dob:new n.c("",[n.s.required]),doj:new n.c("",[n.s.required]),position:new n.c("",[n.s.required]),candidateType:new n.c("",[n.s.required]),salaryGrade:new n.c("",[n.s.required]),gender:new n.c("male",[n.s.required]),attended:new n.c("no",[n.s.required])});let{course:e={},candidateDetails:a=[],selfEnrollmentTotal:i}=this.coursesService.courseDetail||{};this.courseDetail=e,this.selfEnrollmentTotal=i,a=a.map(t=>Object.assign(Object.assign({},t.candidate),{status:t.status,attended:t.attended,departName:t.department_name}));const r=this.courseDetail.lastDateForNom?this.courseDetail.lastDateForNom.split(" "):[],o=new Date(r[0]+"T00:00:00Z"),s=new Date(t.getFullYear()+"-"+this.padWithZero(+t.getMonth()+1)+"-"+this.padWithZero(+t.getDate())+"T00:00:00Z");this.lastDateExceeded=!(s.getTime()<=o.getTime()),this.candidateDetails=a,this.dtOptions={paging:!0},this.userType=this.authService.getUserType(),this.showAddButton=this.userAccess.isAdmin||this.userAccess.allowAddCandidate,this.dataSource=new d.o(this.candidateDetails),this.langOpt=this.langService.defaultLangCode,this.checkDateForReport()}ngAfterViewInit(){this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}patchFormValue(t){this.candidateForm.patchValue({candidateName:t.candidate_name,email:t.cemail_id,mobileNo:t.phone_number,dept:t.department,ministry:"Default",companyName:t.company_name,companyEmail:t.company_email,dob:this.getDate(t.dob),doj:this.getDate(t.doj),position:t.position,candidateType:t.type,salaryGrade:t.salary_grade,gender:t.gender||"male",attended:t.attended||"no"})}icValidator(t){const e=t.value;return!1===this.validateIc?Promise.resolve(null):new Promise((t,a)=>{this.apiService.candidateExist(e).subscribe(e=>{this.showInlineForm=!0,e.isExist?(this.disableDepartment=!0,this.pmoDepartments=[{department_id:e.candidate.department,department_name:e.department_name}],this.patchFormValue(e.candidate)):(this.disableDepartment=!1,this.pmoDepartments=[...this.coursesService.minRelationship],this.candidateForm.patchValue({candidateName:"",email:"",mobileNo:"",dept:"",ministry:"Default",companyName:"",companyEmail:"",dob:"",doj:"",position:"",candidateType:"",salaryGrade:"",gender:"male",attended:"no"})),t(null)},e=>{t({icNumberValidation:!1})})})}openModalPopup(){this.attendanceReport={approved:!1,rejected:!1,deferred:!1,pending:!1},this.showAttendancePopup=!0}closeModalPopup(t){if(this.attendanceReportMsg=!1,!0===t){let t=!1;const e=Object.keys(this.attendanceReport);for(let a=0;a<e.length;a++)if(this.attendanceReport[e[a]]){t=!0;break}t?(this.showAttendancePopup=!1,this.generateReport()):this.attendanceReportMsg=!0}else this.showAttendancePopup=!1}checkDateForReport(){let t=this.courseDetail.start_date,e=this.courseDetail.end_date;if(!t||!e)return!1;let a=new Date,i=a.getDate(),n=a.getMonth()+1;const r=a.getFullYear();n=n<10?"0"+n:n,i=i<10?"0"+i:i,a=new Date(`${r}-${n}-${i}T00:00:00Z`),t=t.split(" "),e=e.split(" ");const o=`${e[0]}T00:00:00Z`;t=new Date(`${t[0]}T00:00:00Z`),e=new Date(o),a.getTime()>=t.getTime()&&a.getTime()<=e.getTime()&&(this.showReport=!0)}getLanguageFile(t){}padWithZero(t){return t<10?`0${t}`:t}onSubmit(t,e=!1){if(t.valid){let t=this.malayCode.ministryType[116],a=!1;const i=new Date(this.candidateForm.get("dob").value),n=new Date(this.candidateForm.get("doj").value),r=`${this.padWithZero(i.getDate())}/${this.padWithZero(i.getMonth()+1)}/${i.getFullYear()}`,o=`${this.padWithZero(n.getDate())}/${this.padWithZero(n.getMonth()+1)}/${n.getFullYear()}`,s=Object.assign(Object.assign({},this.candidateForm.value),{dob:r,doj:o,ministry:t,courseId:this.coursesService.courseDetail.course.course_id,ipaId:this.coursesService.courseDetail.course.user_id,ministryId:115,userId:this.authService.getUserId()});e&&(s.isConfirmed=e),this.selectedCandidate&&(a=!0,s.candidateId=this.selectedCandidate.candidate_id),this.apiService.addCandidate(s,a).subscribe(t=>{if(!0===t.clashDate){const e=t.preAttended&&t.preAttended.length>0?t.preAttended[0]:null;return t.data&&this.dialog.open(f.a,{data:{type:"clashDate",header:"Candidate have below training sessions on the same date",preAttended:e,records:t.data,buttonType:"normal"}}),!t.data&&e&&this.dialog.open(f.a,{data:{type:"clashDate",header:"This candidate already attended this course previously",records:[e],preAttendConf:!0,buttonType:"action",successBtn:"Confirm"}}).afterClosed().subscribe(t=>{t&&this.onSubmit(this.candidateForm,!0)}),!1}this.candidateDetails=t.data||[],this.candidateDetails=this.candidateDetails.map(t=>Object.assign(Object.assign({},t.candidate.candidate),{status:t.candidate.status,attended:t.candidate.attended,departName:t.candidate.department_name})),this.dataSource.disconnect(),this.dataSource=null,setTimeout(()=>{this.dataSource=new d.o(this.candidateDetails),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},100),this.dialog.open(f.a,{data:{imgUrl:"/assets/images/success-icon.png",msg:`Candidate details has been ${this.selectedCandidate?"updated":"added"} successfully`,buttonType:"normal"}}).afterClosed().subscribe(t=>{this.resetForm(),this.showCandidateForm=!1,this.showInlineForm=!1,this.selectedCandidate=null})},t=>{this.showPopup(t,"/assets/images/alert-icon.jpg",!1)})}}getDate(t){const e=t.split("/");return new Date(e[2],+e[1]-1,e[0])}resetForm(){this.candidateForm.reset(),this.candidateForm.patchValue({ministry:this.langObj.val.ministryType[116],gender:"male",attended:"no"})}editCandidate(t){this.disableDepartment=+t.ministry_id!=+this.authService.getUserId(),this.selectedCandidate=t,this.showInlineForm=!0,this.showCandidateForm=!0,this.validateIc=!1,+t.ministry_id!=+this.authService.getUserId()?this.apiService.getMinRelationship(this.authService.getUserId(),this.authService.getUserTypeId()).subscribe(e=>{this.pmoDepartments=e.data||[],this.setFormData(t)}):(this.pmoDepartments=[...this.coursesService.minRelationship],this.setFormData(t))}setFormData(t){this.candidateForm.setValue({candidateName:t.candidate_name,icNo:t.ic_number,email:t.cemail_id,mobileNo:t.phone_number,dept:t.department,ministry:t.ministry,companyName:t.company_name,companyEmail:t.company_email,dob:this.getDate(t.dob),doj:this.getDate(t.doj),position:t.position,candidateType:t.type,salaryGrade:t.salary_grade,gender:t.gender||"male",attended:t.attended||"no"}),setTimeout(()=>{this.validateIc=!0},100)}toggleCandidateForm(t){if(!0===t){if(!0===this.lastDateExceeded)return!1;this.showInlineForm=!1,this.pmoDepartments=[...this.coursesService.minRelationship]}else this.selectedCandidate=null,this.resetForm();this.showCandidateForm=t}changeStatus(t,e,a=!1){"deferred"===t||"rejected"===t?this.dialog.open(f.a,{data:{type:"inputComments",buttonType:"inputComments",successBtn:"Submit"}}).afterClosed().subscribe(i=>{i&&this.candidateEnrollment({status:t,candidate:e,msg:i,isConfirmed:a})}):this.candidateEnrollment({status:t,candidate:e,msg:!1,isConfirmed:a})}candidateEnrollment({status:t,candidate:e,msg:a,isConfirmed:i}){const n={candidateId:e.candidate_id,courseId:this.courseDetail.course_id,userId:this.authService.getUserId(),status:t,msg:a,isConfirmed:i};this.apiService.candidteEnrollment(n).subscribe(a=>{if(!0===a.clashDate){const t=a.preAttended&&a.preAttended.length>0?a.preAttended[0]:null;return a.data&&this.dialog.open(f.a,{data:{type:"clashDate",header:"Candidate have below training sessions on the same date",preAttended:t,records:a.data,buttonType:"normal"}}),!a.data&&t&&this.dialog.open(f.a,{data:{type:"clashDate",header:"This candidate already attended this course previously",records:[t],preAttendConf:!0,buttonType:"action",successBtn:"Confirm"}}).afterClosed().subscribe(t=>{t&&this.changeStatus("approved",e,!0)}),!1}this.courseDetail.confirmed_seat=a.confirmedSeat,e.status=t,this.showPopup(`Candidate has been ${t}`,"/assets/images/success-icon.png")},e=>{this.showPopup(`Candidate has not been ${t}`,"/assets/images/warning-icon.png")})}showPopup(t,e,a=!0){this.dialog.open(f.a,{data:{imgUrl:e,msg:t,buttonType:"normal"}}).afterClosed().subscribe(t=>{a&&this.candidateForm.reset()})}ngOnDestroy(){this.coursesService.courseDetail=null}redirectTo(){this.router.navigate(["/courses"])}redirectToCandidate(t){this.candidateService.candidateDetails=t,this.candidateService.selectedCourse=this.coursesService.courseDetail.course,this.router.navigate(["/candidate",t.candidate_id])}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}keyDown(t){return t.keyCode>=48&&t.keyCode<=57&&t.shiftKey?(t.preventDefault(),!1):t.keyCode>=8&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||void t.preventDefault()}generateReport(){const t=[["Candidate Name","IC Number","Mobile No","Department","Position","Gender","Attended"]];let e=!1;for(let r=0;r<this.candidateDetails.length;r++)this.attendanceReport[this.candidateDetails[r].status.toLowerCase()]&&(e=!0,t.push([this.candidateDetails[r].candidate_name,this.candidateDetails[r].ic_number,this.candidateDetails[r].phone_number,this.candidateDetails[r].department,this.candidateDetails[r].position,this.candidateDetails[r].gender,""]));const a=h.utils.book_new(),i=h.utils.aoa_to_sheet(t),n=new Date;h.utils.book_append_sheet(a,i,`${n.getDate()}-${n.getMonth()+1}-${n.getFullYear()}`),i["!cols"]=[{wch:30},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20}],h.writeFile(a,`${this.courseDetail.course_name}_attendance.xlsx`)}downloadQrCode(t,e,a){return Object(wt.a)(this,void 0,void 0,(function*(){const i=`${Ct.a.host}/courses/${a}/${e}`,n=yield Dt.a.toDataURL(i,{width:400});fetch(n).then(t=>t.blob()).then(e=>{const a=window.URL.createObjectURL(e),i=document.createElement("a");i.href=a,i.download=`${t}_qrcode.png`,i.click()})}))}getQrCode(t){if(this.courseDetail.ucid)return this.downloadQrCode(this.courseDetail.course_name,this.courseDetail.ucid,t),!1;this.apiService.generateUcid(this.courseDetail.course_id).subscribe(e=>{this.downloadQrCode(this.courseDetail.course_name,e.ucid,t)},t=>{})}getEvaluationReport(){this.apiService.getEvaluationReport(this.courseDetail.course_id).subscribe(t=>{const{questions:e={},evaluationDetails:a=[]}=t||{};this.questions=e,this.evaluationDetails=a,this.dialog.open(Ft,{data:{questions:e,evaluationDetails:a,startDate:"asfd"},panelClass:"attendance-overlay"})},t=>{this.dialog.open(f.a,{data:{imgUrl:"/assets/images/alert-icon.jpg",msg:t=t||"Some errors occurred on the server",buttonType:"normal"}})})}getCandidateDetails(t){if(this.tabLabels=this.tabLabels.map(e=>(e.active=e.name===t.name,e)),"candidates"===t.name){this.isSelfCandidateTables=!1;const t=this.authService.getUserId(),e=this.authService.getUserTypeId();this.apiService.getCandidate(t,this.courseDetail.course_id,e).subscribe(t=>{let e=t.data.candidateDetail;e=e.map(t=>Object.assign(Object.assign({},t.candidate),{status:t.status,attended:t.attended,departName:t.department_name})),this.candidateDetails=e,this.dataSource.disconnect(),this.dataSource=null,setTimeout(()=>{this.dataSource=new d.o(this.candidateDetails),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},100)},t=>{})}else this.getSelfCandidateDetails()}getSelfCandidateDetails(){this.isSelfCandidateTables=!0,this.apiService.getSelfCandidateDetails(this.courseDetail.course_id,+this.authService.getUserId()).subscribe(t=>{this.candidateDetails=t.data||[],this.dataSource.disconnect(),this.dataSource=null,this.selfEnrollmentTotal=t.count.total,setTimeout(()=>{this.dataSource=new d.o(this.candidateDetails),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},100)},t=>{})}updateSelfEnrollment(t,e){if("approved"===t){const t=this.langObj.val.ministryType[this.userTypeId];if(this.authService.getPermission("dualRole")||this.authService.getPermission("isAdmin"))this.approveSelfEnrollment(e,t,this.pmoDepartments[0].department_id,!1);else if(this.authService.getPermission("isMin"))return this.approveSelfEnrollment(e,t,this.pmoDepartments[0].department_id,!1),!1}else this.rejectSelfEnrollment(e.candidate_id)}approveSelfEnrollment(t,e,a,i){const n={courseId:this.courseDetail.course_id,icNo:t.ic_number,ministryId:this.authService.getUserId(),ministry:e,departmentId:a};!0===i&&(n.isConfirmed=!0),this.apiService.updateSelfEnrollment(n).subscribe(i=>{if(!0===i.clashDate){const n=i.preAttended&&i.preAttended.length>0?i.preAttended[0]:null;return i.data&&this.dialog.open(f.a,{data:{type:"clashDate",header:"Candidate have below training sessions on the same date",preAttended:n,records:i.data,buttonType:"normal"}}),!i.data&&n&&this.dialog.open(f.a,{data:{type:"clashDate",header:"This candidate already attended this course previously",records:[n],preAttendConf:!0,buttonType:"action",successBtn:"Confirm"}}).afterClosed().subscribe(i=>{i&&this.approveSelfEnrollment(t,e,a,!0)}),!1}this.candidateDetails=i.data||[],this.selfEnrollmentTotal=i.count.total,this.dataSource.disconnect(),this.dataSource=null,setTimeout(()=>{this.dataSource=new d.o(this.candidateDetails),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},100),this.dialog.open(f.a,{data:{imgUrl:"/assets/images/success-icon.png",msg:"Candidate details has been approved successfully",buttonType:"normal"}})},t=>{this.showPopup(t,"/assets/images/alert-icon.jpg",!1)})}rejectSelfEnrollment(t){const e={candidateId:t,courseId:this.courseDetail.course_id,userId:+this.authService.getUserId()};this.apiService.deleteselfenrollment(e).subscribe(t=>{this.candidateDetails=t.data||[],this.selfEnrollmentTotal=t.count.total,this.dataSource.disconnect(),this.dataSource=null,setTimeout(()=>{this.dataSource=new d.o(this.candidateDetails),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},100),this.dialog.open(f.a,{data:{imgUrl:"/assets/images/success-icon.png",msg:"Candidate has been rejected successfully",buttonType:"normal"}})},t=>{})}exportToExcel(){this.apiService.getSelfCandidateDetails(this.courseDetail.course_id,+this.authService.getUserId()).subscribe(t=>{let e=t.data||[];const a=[["Name","Department","Ministry","Position","Salary Grade","Selected","Attended"]],i=[["Name","Position","Salary Grade"]],n=[["Course Name","Start Date","End Date","Last Date For Nomination","Days","Course Session","Class Size","Confirmed Seats","Candidates"]];let r=this.courseDetail.start_date.split(" ")[0];r=r.split("-"),r=`${r[2]}/${r[1]}/${r[0]}`;let o=this.courseDetail.end_date.split(" ")[0];o=o.split("-"),o=`${o[2]}/${o[1]}/${o[0]}`;let s=this.courseDetail.lastDateForNom.split(" ")[0];s=s.split("-"),s=`${s[2]}/${s[1]}/${s[0]}`,n.push([this.courseDetail.course_name.toUpperCase(),r,o,s,this.courseDetail.days,this.courseDetail.session.toUpperCase(),this.courseDetail.class_size,this.courseDetail.confirmed_seat,this.courseDetail.candidatesCount]);for(let b=0;b<this.candidateDetails.length;b++){const t=this.candidateDetails[b];a.push([t.candidate_name,t.departName,t.ministry,t.position,this.langObj.val.salaryGradeOptions[t.salary_grade],this.langObj.val.selectedObj[t.status],t.attended])}for(let b=0;b<e.length;b++){const t=e[b];i.push([t.candidate_name,t.position,this.langObj.val.salaryGradeOptions[t.salary_grade]])}const c=h.utils.book_new(),l=h.utils.aoa_to_sheet(n),u=h.utils.aoa_to_sheet(a),d=h.utils.aoa_to_sheet(i);new Date,h.utils.book_append_sheet(c,l,"Course Detail"),h.utils.book_append_sheet(c,u,"Candidate Details"),h.utils.book_append_sheet(c,d,"Self Enrolled Candidate Details"),l["!cols"]=[{wch:30},{wch:20},{wch:20},{wch:30},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20}],u["!cols"]=[{wch:30},{wch:30},{wch:30},{wch:20},{wch:20},{wch:20},{wch:20}],d["!cols"]=[{wch:30},{wch:30},{wch:30}],h.writeFile(c,"courses_candidate_report.xlsx")},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(o.a),s.Ob(_t.a),s.Ob(r.c),s.Ob(p.a),s.Ob(g.b),s.Ob(v.a),s.Ob(m.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-course-detail"]],viewQuery:function(t,e){var a;1&t&&(s.Jc(u.a,!0),s.Jc(b.a,!0)),2&t&&(s.tc(a=s.dc())&&(e.paginator=a.first),s.tc(a=s.dc())&&(e.sort=a.first))},decls:78,vars:46,consts:[[1,"backto-box"],[1,"btn","bgc-primary","backto-btn",3,"click"],[1,"btn","btn-dark","backto-btn",3,"click"],[1,"course-detail-container",3,"ngClass"],[1,"course-detail-box"],[1,"grid-container"],[1,"grid-row"],[1,"label-box"],[1,"grid-row","download-box"],["target","_blank",3,"href"],["src","/assets/images/download.png","title","Download"],["class","grid-row download-box",4,"ngIf"],["class","description-box",4,"ngIf"],[1,"description-box"],[3,"innerHTML"],["class","candidate-form-box",4,"ngIf"],[1,"candidate-detail-box"],[1,"tabs-label-container"],["class","tabs-label",3,"ngClass","click",4,"ngFor","ngForOf"],["class","table-box",4,"ngIf"],["class","ipa-spinner",4,"ngIf"],["class","modal-popup",4,"ngIf"],[1,"cur-pointer","course-report-icon",3,"click"],["src","/assets/images/report.png","title","Download"],["src","/assets/images/qrcode.png","title","Download"],[1,"candidate-form-box"],[1,"cand-btn"],["class","btn bgc-primary",3,"disabled","click",4,"ngIf"],["class","close-icon",3,"click",4,"ngIf"],["class","cand-form",4,"ngIf"],[1,"btn","bgc-primary",3,"disabled","click"],[1,"close-icon",3,"click"],[1,"cand-form"],[1,"container-fluid"],[1,"row","course-form"],[1,"col-xs-12","col-sm-10","col-md-6","col-sm-offset-1","col-md-offset-2","mg-auto"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","icNo","maxlength","8",3,"keydown"],[4,"ngIf"],[1,"form-btn","jc-fe"],["type","buton",1,"btn","btn-secondary","reset-btn","mg-rt-10",3,"click"],["type","submit","class","btn bgc-primary",4,"ngIf"],["matInput","","formControlName","candidateName","autocomplete","off"],["matInput","","formControlName","email"],["matInput","","formControlName","companyName"],["matInput","","formControlName","companyEmail"],[1,"mobile-code"],["maxLength","7","matInput","","formControlName","mobileNo","autocomplete","off",3,"keydown"],["matInput","","formControlName","ministry","autocomplete","off","readonly",""],["formControlName","dept"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","dob",3,"max","matDatepicker"],["matSuffix","",3,"for"],["dob",""],["matInput","","formControlName","doj",3,"max","matDatepicker"],["doj",""],["maxlength","50","matInput","","formControlName","position","autocomplete","off",1,"max-w-200"],["formControlName","candidateType"],["formControlName","salaryGrade"],["aria-label","Select an option","formControlName","gender"],[1,"mg-rt-10","radio-btn-label"],["value","male"],["value","female"],[3,"value"],["type","submit",1,"btn","bgc-primary"],[1,"tabs-label",3,"ngClass","click"],["class","selfEnrolledCount",4,"ngIf"],[1,"selfEnrolledCount"],[1,"table-box"],[1,"flex-sb"],[1,"header-2","table-header"],[1,"fl-jc-rg","mg-rt-10"],["matInput","","placeholder","Search","autocomplete","off",3,"keyup"],["mat-table","","matSort","",1,"full-width",3,"dataSource"],["matColumnDef","candidate_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","link-label",3,"click",4,"matCellDef"],["matColumnDef","department"],["mat-cell","",4,"matCellDef"],["matColumnDef","ministry"],["matColumnDef","position"],["matColumnDef","salary_grade"],["matColumnDef","status"],["mat-cell","","class","capitalize",4,"matCellDef"],["matColumnDef","attended"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","max-w-200",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-record-found",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"link-label",3,"click"],["mat-cell",""],["mat-cell","",1,"capitalize"],["mat-header-cell",""],["mat-cell","",1,"max-w-200"],["class","img-box-25 candidate-action-box",4,"ngIf"],["class","edit-icon cand-page","matTooltip","Edit","matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example edit icon",3,"click",4,"ngIf"],[1,"img-box-25","candidate-action-box"],["class","approve-icon cand-page","matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example thumb_up_alt icon",3,"matTooltip","title","click",4,"ngIf"],["class","defer-icon cand-page","matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example not_interested icon",3,"matTooltip","click",4,"ngIf"],["class","reject-icon cand-page","matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example thumb_down_alt icon",3,"matTooltip","click",4,"ngIf"],["matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example thumb_up_alt icon",1,"approve-icon","cand-page",3,"matTooltip","title","click"],["matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example not_interested icon",1,"defer-icon","cand-page",3,"matTooltip","click"],["matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example thumb_down_alt icon",1,"reject-icon","cand-page",3,"matTooltip","click"],["matTooltip","Edit","matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example edit icon",1,"edit-icon","cand-page",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-record-found"],[1,"ipa-spinner"],[1,"modal-popup"],[1,"backdrop"],[1,"modal-popup-content"],["class","alert alert-danger mg-b-5",4,"ngIf"],[1,"header-2"],[1,"attended-checkbox"],[3,"ngModel","ngModelChange"],[1,"text-align-rt"],["type","button",1,"btn","btn-secondary","reset-btn","mg-rt-10",3,"click"],["type","button",1,"btn","bgc-primary",3,"click"],[1,"alert","alert-danger","mg-b-5"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"button",1),s.cc("click",(function(t){return e.exportToExcel()})),s.Ec(2),s.Tb(),s.Ub(3,"button",2),s.cc("click",(function(t){return e.redirectTo()})),s.Ec(4),s.Tb(),s.Tb(),s.Ub(5,"div",3),s.Ub(6,"div",4),s.Ub(7,"div",5),s.Ub(8,"div",6),s.Ub(9,"div",7),s.Ec(10),s.Tb(),s.Ub(11,"div"),s.Ec(12),s.Tb(),s.Tb(),s.Ub(13,"div",6),s.Ub(14,"div",7),s.Ec(15),s.Tb(),s.Ub(16,"div"),s.Ec(17),s.hc(18,"dateFormat"),s.Tb(),s.Tb(),s.Ub(19,"div",6),s.Ub(20,"div",7),s.Ec(21),s.Tb(),s.Ub(22,"div"),s.Ec(23),s.hc(24,"dateFormat"),s.Tb(),s.Tb(),s.Ub(25,"div",6),s.Ub(26,"div",7),s.Ec(27),s.Tb(),s.Ub(28,"div"),s.Ec(29),s.hc(30,"dateFormat"),s.Tb(),s.Tb(),s.Ub(31,"div",6),s.Ub(32,"div",7),s.Ec(33),s.Tb(),s.Ub(34,"div"),s.Ec(35),s.Tb(),s.Tb(),s.Ub(36,"div",6),s.Ub(37,"div",7),s.Ec(38),s.Tb(),s.Ub(39,"div"),s.Ec(40),s.Tb(),s.Tb(),s.Ub(41,"div",6),s.Ub(42,"div",7),s.Ec(43),s.Tb(),s.Ub(44,"div"),s.Ec(45),s.Tb(),s.Tb(),s.Ub(46,"div",6),s.Ub(47,"div",7),s.Ec(48),s.Tb(),s.Ub(49,"div"),s.Ec(50),s.Tb(),s.Tb(),s.Ub(51,"div",6),s.Ub(52,"div",7),s.Ec(53),s.Tb(),s.Ub(54,"div"),s.Ec(55),s.Tb(),s.Tb(),s.Ub(56,"div",8),s.Ub(57,"div",7),s.Ec(58),s.Tb(),s.Ub(59,"div"),s.Ub(60,"a",9),s.Pb(61,"img",10),s.Tb(),s.Tb(),s.Tb(),s.Dc(62,Nt,5,0,"div",11),s.Dc(63,Mt,5,0,"div",11),s.Dc(64,Rt,5,0,"div",11),s.Dc(65,Bt,5,0,"div",11),s.Tb(),s.Dc(66,Vt,5,2,"div",12),s.Ub(67,"div",13),s.Ub(68,"div",7),s.Ec(69),s.Tb(),s.Pb(70,"div",14),s.Tb(),s.Tb(),s.Dc(71,Ht,5,3,"div",15),s.Ub(72,"div",16),s.Ub(73,"div",17),s.Dc(74,Qt,3,5,"div",18),s.Tb(),s.Dc(75,Ue,37,7,"div",19),s.Tb(),s.Tb(),s.Dc(76,Se,1,0,"app-loadingbar",20),s.Dc(77,Ae,20,9,"div",21)),2&t&&(s.Cb(2),s.Gc(" ",e.langObj.val.exportToExcel," "),s.Cb(2),s.Fc(e.langObj.val.back),s.Cb(1),s.mc("ngClass",s.pc(44,Oe,"ipa"===e.userType)),s.Cb(5),s.Fc(e.langObj.val.course),s.Cb(2),s.Fc(e.courseDetail.course_name),s.Cb(3),s.Fc(e.langObj.val.startDate),s.Cb(2),s.Fc(s.jc(18,35,e.courseDetail.start_date,"dd/mm/yyyy")),s.Cb(4),s.Fc(e.langObj.val.endDate),s.Cb(2),s.Fc(s.jc(24,38,e.courseDetail.end_date,"dd/mm/yyyy")),s.Cb(4),s.Fc(e.langObj.val.lastDateForNomination),s.Cb(2),s.Fc(s.jc(30,41,e.courseDetail.lastDateForNom,"dd/mm/yyyy")),s.Cb(4),s.Fc(e.langObj.val.days),s.Cb(2),s.Fc(e.courseDetail.days),s.Cb(3),s.Fc(e.langObj.val.courseSession),s.Cb(2),s.Fc(e.courseDetail.session),s.Cb(3),s.Fc(e.langObj.val.instructor),s.Cb(2),s.Fc(e.courseDetail.instructors),s.Cb(3),s.Fc(e.langObj.val.classSize),s.Cb(2),s.Fc(e.courseDetail.class_size),s.Cb(3),s.Fc(e.langObj.val.confirmSeats),s.Cb(2),s.Fc(e.courseDetail.confirmed_seat),s.Cb(3),s.Fc(e.langObj.val.download),s.Cb(2),s.mc("href",e.courseDetail.attachment,s.yc),s.Cb(2),s.mc("ngIf",e.showReport&&"ipa"===e.userType||"admin"===e.userType),s.Cb(1),s.mc("ngIf",e.showReport&&e.userAccess.ipa||e.userAccess.dualRole||e.userAccess.isAdmin),s.Cb(1),s.mc("ngIf",e.showReport&&e.userAccess.ipa||e.userAccess.dualRole||e.userAccess.isAdmin),s.Cb(1),s.mc("ngIf",e.userAccess.ipa||e.userAccess.dualRole||e.userAccess.isAdmin),s.Cb(1),s.mc("ngIf",e.userAccess.ipa||e.userAccess.dualRole||e.userAccess.isAdmin),s.Cb(3),s.Fc(e.langObj.val.description),s.Cb(1),s.mc("innerHTML",e.courseDetail.descriptions,s.xc),s.Cb(1),s.mc("ngIf",e.showAddButton),s.Cb(3),s.mc("ngForOf",e.tabLabels),s.Cb(1),s.mc("ngIf",e.showCandidateTables),s.Cb(1),s.mc("ngIf",e.loadingObj.show),s.Cb(1),s.mc("ngIf",e.showAttendancePopup))},directives:[i.i,i.k,i.j,n.t,n.n,n.g,y.b,y.e,C.b,n.b,n.m,n.e,n.i,w.a,xt.b,xt.d,y.f,xt.a,kt.b,kt.a,T.n,d.n,b.a,d.c,d.i,d.b,d.k,d.m,u.a,d.h,b.b,d.a,D.a,Pt.a,d.j,d.l,E.a,jt.a,n.p],pipes:[U.a],styles:[".course-detail-box[_ngcontent-%COMP%]{padding:20px;margin:5px 10px 10px;border-radius:10px;box-shadow:0 0 10px #b0a7a7;background:hsla(0,0%,100%,.84)}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));grid-gap:20px}.description-box[_ngcontent-%COMP%]{margin-top:20px}.label-box[_ngcontent-%COMP%]{font-size:13px;color:#380c3c;font-weight:600;letter-spacing:1px}"]}),t})();var _e=a("XNiG"),xe=a("Kj3r"),ke=a("/uUt"),Pe=a("dEyR");const je=["PageContent"];function Ne(t,e){1&t&&s.Pb(0,"mat-spinner",45)}function Me(t,e){if(1&t&&(s.Ub(0,"mat-option",48),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.mc("value",t.id),s.Cb(1),s.Gc(" ",t.category," ")}}function Re(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-form-field",46),s.Ub(1,"mat-label"),s.Ec(2),s.Tb(),s.Ub(3,"mat-select",47),s.cc("selectionChange",(function(e){return s.wc(t),s.gc().getSubcategory(e.value)})),s.Dc(4,Me,2,2,"mat-option",27),s.Tb(),s.Tb()}if(2&t){const t=s.gc();s.Cb(2),s.Fc(t.langObj.val.category),s.Cb(2),s.mc("ngForOf",t.category)}}function Be(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-icon",49),s.cc("click",(function(e){return s.wc(t),s.gc().showCategoryFields("showNewCategoryField")})),s.Ec(1,"add_box"),s.Tb()}}function Ve(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-form-field",50),s.Ub(1,"mat-label"),s.Ec(2,"Add New Category"),s.Tb(),s.Ub(3,"input",51),s.cc("keyup",(function(e){return s.wc(t),s.gc().updateCategoryControl("category",e)})),s.Tb(),s.Tb()}}function Ge(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-icon",52),s.cc("click",(function(e){return s.wc(t),s.gc().removeCategoryFields("removeNewCategoryField")})),s.Ec(1,"highlight_off"),s.Tb()}}function Le(t,e){if(1&t&&(s.Ub(0,"mat-option",48),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.mc("value",t.id),s.Cb(1),s.Gc(" ",t.name," ")}}function $e(t,e){if(1&t&&(s.Ub(0,"mat-form-field",46),s.Ub(1,"mat-label"),s.Ec(2,"Sub Category"),s.Tb(),s.Ub(3,"mat-select",56),s.Dc(4,Le,2,2,"mat-option",27),s.Tb(),s.Tb()),2&t){const t=s.gc(2);s.Cb(4),s.mc("ngForOf",t.subCategory)}}function qe(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-icon",57),s.cc("click",(function(e){return s.wc(t),s.gc(2).showCategoryFields("showSubCategoryField")})),s.Ec(1,"add_box"),s.Tb()}}function ze(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-form-field",58),s.Ub(1,"mat-label"),s.Ec(2,"Add New Sub Category"),s.Tb(),s.Ub(3,"input",59),s.cc("keyup",(function(e){return s.wc(t),s.gc(2).updateCategoryControl("subCategory",e)})),s.Tb(),s.Tb()}}function Ye(t,e){if(1&t){const t=s.Vb();s.Ub(0,"mat-icon",52),s.cc("click",(function(e){return s.wc(t),s.gc(2).removeCategoryFields("removeSubCategoryField")})),s.Ec(1,"highlight_off"),s.Tb()}}function Ze(t,e){if(1&t&&(s.Ub(0,"div",53),s.Dc(1,$e,5,1,"mat-form-field",12),s.Dc(2,qe,2,0,"mat-icon",54),s.Dc(3,ze,4,0,"mat-form-field",55),s.Dc(4,Ye,2,0,"mat-icon",15),s.Tb()),2&t){const t=s.gc();s.Cb(1),s.mc("ngIf",t.showSubCategoryDropdown),s.Cb(1),s.mc("ngIf",!t.showSubCategoryField),s.Cb(1),s.mc("ngIf",t.showSubCategoryField),s.Cb(1),s.mc("ngIf",t.removeSubCategoryField)}}function Je(t,e){if(1&t&&(s.Ub(0,"mat-option",48),s.Ec(1),s.Tb()),2&t){const t=e.$implicit;s.mc("value",t.value),s.Cb(1),s.Gc(" ",t.viewValue," ")}}function He(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",60),s.Ub(1,"span",61),s.Pb(2,"img",62),s.Tb(),s.Ub(3,"span",63),s.cc("click",(function(e){return s.wc(t),s.gc().removeFile(!0)})),s.Pb(4,"img",64),s.Tb(),s.Tb()}if(2&t){const t=s.gc();s.Cb(2),s.mc("src",t.imgPath,s.yc)}}function We(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",60),s.Ub(1,"span",65),s.Ec(2,"Already uploaded file"),s.Tb(),s.Ub(3,"span",61),s.Ub(4,"a",66),s.Pb(5,"img",67),s.Tb(),s.Tb(),s.Ub(6,"span",63),s.cc("click",(function(e){return s.wc(t),s.gc().removeFile(!1)})),s.Pb(7,"img",64),s.Tb(),s.Tb()}if(2&t){const t=s.gc();s.Cb(4),s.mc("href",t.filePath,s.yc)}}function Ke(t,e){1&t&&(s.Ub(0,"div",68),s.Ec(1,"Please enter description"),s.Tb())}function Qe(t,e){1&t&&s.Pb(0,"app-loadingbar",69)}const Xe=function(t){return{"form-field-spinner":t}};function ta(t,e){1&t&&(s.Ub(0,"div",4),s.Ec(1,"Successfully registered"),s.Tb())}function ea(t,e){if(1&t&&(s.Ub(0,"div",16),s.Ec(1),s.Tb()),2&t){const t=s.gc(2);s.Cb(1),s.Fc(t.err_msg)}}function aa(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",5),s.Pb(1,"div",6),s.Ub(2,"div",7),s.Pb(3,"div",8),s.Dc(4,ea,2,1,"div",9),s.Ub(5,"div",10),s.Ub(6,"form",11),s.cc("ngSubmit",(function(e){return s.wc(t),s.gc().onSubmit()})),s.Ub(7,"mat-form-field",12),s.Ub(8,"mat-label"),s.Ec(9,"Enter your IC Number"),s.Tb(),s.Ub(10,"input",13),s.cc("keydown",(function(e){return s.wc(t),s.gc().keyDown(e)})),s.Tb(),s.Tb(),s.Ub(11,"div",14),s.Ub(12,"button",15),s.Ec(13,"Submit"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.gc();s.Cb(4),s.mc("ngIf",t.err_msg),s.Cb(2),s.mc("formGroup",t.formGroup)}}function ia(t,e){1&t&&s.Pb(0,"app-loadingbar",17)}function na(t,e){1&t&&(s.Ub(0,"div",7),s.Ec(1,"Successfully Evaluated."),s.Tb())}function ra(t,e){if(1&t&&(s.Ub(0,"div",8),s.Ec(1),s.Tb()),2&t){const t=s.gc();s.Cb(1),s.Fc(t.err_msg)}}function oa(t,e){if(1&t){const t=s.Vb();s.Ub(0,"form",9),s.cc("ngSubmit",(function(e){return s.wc(t),s.gc().onSubmit()})),s.Ub(1,"mat-form-field",10),s.Ub(2,"mat-label"),s.Ec(3,"Enter your IC Number"),s.Tb(),s.Ub(4,"input",11),s.cc("keydown",(function(e){return s.wc(t),s.gc().keyDown(e)})),s.Tb(),s.Tb(),s.Ub(5,"div",12),s.Ub(6,"div",13),s.Ub(7,"span",14),s.Ec(8,"1-"),s.Tb(),s.Ec(9,"Strongly Disagree"),s.Tb(),s.Ub(10,"div",13),s.Ub(11,"span",14),s.Ec(12,"2-"),s.Tb(),s.Ec(13,"Disagree"),s.Tb(),s.Ub(14,"div",13),s.Ub(15,"span",14),s.Ec(16,"3-"),s.Tb(),s.Ec(17,"Neutral"),s.Tb(),s.Ub(18,"div",13),s.Ub(19,"span",14),s.Ec(20,"4-"),s.Tb(),s.Ec(21,"Agree"),s.Tb(),s.Ub(22,"div",13),s.Ub(23,"span",14),s.Ec(24,"5-"),s.Tb(),s.Ec(25,"Strongly Agree"),s.Tb(),s.Tb(),s.Ub(26,"mat-radio-group",15),s.Ub(27,"div",16),s.Ub(28,"mat-label",17),s.Ec(29,"The Objectives of the training were clearly defined."),s.Tb(),s.Tb(),s.Ub(30,"div",18),s.Ub(31,"mat-radio-button",19),s.Ec(32,"1"),s.Tb(),s.Ub(33,"mat-radio-button",20),s.Ec(34,"2"),s.Tb(),s.Ub(35,"mat-radio-button",21),s.Ec(36,"3"),s.Tb(),s.Ub(37,"mat-radio-button",22),s.Ec(38,"4"),s.Tb(),s.Ub(39,"mat-radio-button",23),s.Ec(40,"5"),s.Tb(),s.Tb(),s.Tb(),s.Ub(41,"mat-radio-group",24),s.Ub(42,"div",16),s.Ub(43,"mat-label",17),s.Ec(44,"The Content was organized and easy to follow."),s.Tb(),s.Tb(),s.Ub(45,"div",18),s.Ub(46,"mat-radio-button",19),s.Ec(47,"1"),s.Tb(),s.Ub(48,"mat-radio-button",20),s.Ec(49,"2"),s.Tb(),s.Ub(50,"mat-radio-button",21),s.Ec(51,"3"),s.Tb(),s.Ub(52,"mat-radio-button",22),s.Ec(53,"4"),s.Tb(),s.Ub(54,"mat-radio-button",23),s.Ec(55,"5"),s.Tb(),s.Tb(),s.Tb(),s.Ub(56,"mat-radio-group",25),s.Ub(57,"div",16),s.Ub(58,"mat-label",17),s.Ec(59,"The training experience will be useful in my work."),s.Tb(),s.Tb(),s.Ub(60,"div",18),s.Ub(61,"mat-radio-button",19),s.Ec(62,"1"),s.Tb(),s.Ub(63,"mat-radio-button",20),s.Ec(64,"2"),s.Tb(),s.Ub(65,"mat-radio-button",21),s.Ec(66,"3"),s.Tb(),s.Ub(67,"mat-radio-button",22),s.Ec(68,"4"),s.Tb(),s.Ub(69,"mat-radio-button",23),s.Ec(70,"5"),s.Tb(),s.Tb(),s.Tb(),s.Ub(71,"mat-radio-group",26),s.Ub(72,"div",16),s.Ub(73,"mat-label",17),s.Ec(74,"The trainer was knowledgeable about the training topics."),s.Tb(),s.Tb(),s.Ub(75,"div",18),s.Ub(76,"mat-radio-button",19),s.Ec(77,"1"),s.Tb(),s.Ub(78,"mat-radio-button",20),s.Ec(79,"2"),s.Tb(),s.Ub(80,"mat-radio-button",21),s.Ec(81,"3"),s.Tb(),s.Ub(82,"mat-radio-button",22),s.Ec(83,"4"),s.Tb(),s.Ub(84,"mat-radio-button",23),s.Ec(85,"5"),s.Tb(),s.Tb(),s.Tb(),s.Ub(86,"mat-radio-group",27),s.Ub(87,"div",16),s.Ub(88,"mat-label",17),s.Ec(89,"The meeting room and facilities were adequate and comfortable."),s.Tb(),s.Tb(),s.Ub(90,"div",18),s.Ub(91,"mat-radio-button",19),s.Ec(92,"1"),s.Tb(),s.Ub(93,"mat-radio-button",20),s.Ec(94,"2"),s.Tb(),s.Ub(95,"mat-radio-button",21),s.Ec(96,"3"),s.Tb(),s.Ub(97,"mat-radio-button",22),s.Ec(98,"4"),s.Tb(),s.Ub(99,"mat-radio-button",23),s.Ec(100,"5"),s.Tb(),s.Tb(),s.Tb(),s.Ub(101,"mat-form-field",10),s.Ub(102,"mat-label"),s.Ec(103,"Comments"),s.Tb(),s.Pb(104,"textarea",28),s.Tb(),s.Ub(105,"div",29),s.Ub(106,"button",30),s.Ec(107),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.gc();s.mc("formGroup",t.formGroup),s.Cb(107),s.Fc(t.langObj.val.submit)}}function sa(t,e){1&t&&s.Pb(0,"app-loadingbar",31)}const ca=[{path:"",component:c,canActivateChild:[l.a],children:[{path:"",component:pt,resolve:{data:yt}},{path:"detail",component:Fe,resolve:{data:yt}},{path:"add",component:(()=>{class t{constructor(t,e,a,i,n,r){this.coursesService=t,this.dialog=e,this.router=a,this.langService=i,this.apiService=n,this.authService=r,this.langObj={},this.cid="abc",this.lastDateMin=new Date,this.isEdit=!1,this.removedFile=!1,this.formSubmitted=!1,this.removeNewCategoryField=!1,this.removeSubCategoryField=!1,this.showCategoryDropdown=!0,this.uidUpdate=new _e.a,this.session=[{value:"full",viewValue:"Full day session"},{value:"morning",viewValue:"Morning session"},{value:"afternoon",viewValue:"Afternoon session"}],this.showNewCategoryField=!1,this.showSubCategoryField=!1,this.showSubCategory=!1,this.showSubCategoryDropdown=!1,this.subCategory=[],this.showIconSpinner=!1,this.langService.setLang(this.langService.defaultLangCode),this.langObj=this.langService.langDetail,this.uidUpdate.pipe(Object(xe.a)(400),Object(ke.a)()).subscribe(t=>{this.validateUID(t)})}ngOnInit(){this.category=this.coursesService.category,this.category||this.router.navigate(["courses"]),this.loadingObj=this.apiService.loadingObj;const t=new Date;if(this.formGroup=new n.f({course:new n.c("",[n.s.required]),uid:new n.c("",[n.s.minLength(5),n.s.pattern(/^[a-zA-z0-9]{5,}$/)]),startDate:new n.c("",[n.s.required]),endDate:new n.c("",[n.s.required]),days:new n.c("",[]),session:new n.c("",[n.s.required]),instructor:new n.c("",[n.s.required]),classSize:new n.c("",[n.s.required]),description:new n.c("",[n.s.required]),img:new n.c(""),file:new n.c(""),category:new n.c("",[n.s.required]),newCategory:new n.c(""),subCategory:new n.c(""),newSubCategory:new n.c(""),fileSource:new n.c(""),imgSource:new n.c(""),internalNotes:new n.c(""),lastDateForNom:new n.c(t,[n.s.required])}),this.coursesService.editCourseDetail){this.subCategory=this.coursesService.subCategory||[],this.showSubCategory=!0,this.showSubCategoryDropdown=!0,this.imgPath=this.coursesService.editCourseDetail.img,this.isEdit=!0,this.filePath=`/${this.coursesService.editCourseDetail.attachment}`;let t=this.coursesService.editCourseDetail.start_date,e=this.coursesService.editCourseDetail.end_date;const a=this.getISODate(this.coursesService.editCourseDetail.lastDateForNom),i=this.getISODate(t),n=this.getISODate(e);this.lastDateMax=i,this.lastDateMin=this.setLastDateMinVal(i,a),this.formGroup.patchValue({course:this.coursesService.editCourseDetail.course_name,uid:this.coursesService.editCourseDetail.uid,startDate:i,endDate:n,lastDateForNom:a,days:this.coursesService.editCourseDetail.days,session:this.coursesService.editCourseDetail.session,instructor:this.coursesService.editCourseDetail.instructors,classSize:this.coursesService.editCourseDetail.class_size,description:this.coursesService.editCourseDetail.descriptions,internalNotes:this.coursesService.editCourseDetail.internal_notes,category:this.coursesService.editCourseDetail.category_id,subCategory:this.coursesService.editCourseDetail.subcategory_id,img:"",imgSource:"",file:"",fileSource:""})}else this.lastDateMax=t,this.startMinDate=t,this.endMinDate=t,this.formGroup.patchValue({startDate:t,endDate:t});this.maxDate=new Date(t.getFullYear(),11,31),this.setDays(),this.langOpt=this.langService.defaultLangCode,this.getLanguageFile(this.langService.defaultLangCode),this.ckeConfig={allowedContent:!1,extraPlugins:"divarea",forcePasteAsPlainText:!0},this.onChanges()}validateUID(t){if(!/^[a-zA-Z0-9]{5,}$/.test(t))return!1;this.validateUidReq&&(this.validateUidReq.unsubscribe(),this.validateUidReq=null),this.showIconSpinner=!0,this.validateUidReq=this.apiService.validateUID(t).subscribe(e=>{this.validateUidReq=null,this.showIconSpinner=!1;const a=e.data||{};a.course_name&&this.dialog.open(f.a,{data:{type:"uid",uid:t,course_name:a.course_name,buttonType:"normal"}})},t=>{this.validateUidReq=null,this.showIconSpinner=!1,console.log("Error message for validateuid")})}onChanges(){this.formGroup.get("uid").valueChanges.subscribe(t=>{this.uidUpdate.next(t)})}setLastDateMinVal(t,e){const a=new Date,i=new Date(a.getFullYear()+"-"+this.padWithZero(+a.getMonth()+1)+"-"+this.padWithZero(+a.getDate())+"T00:00:00Z"),n=new Date(e.getFullYear()+"-"+this.padWithZero(+e.getMonth()+1)+"-"+this.padWithZero(+e.getDate())+"T00:00:00Z");return t=new Date(t.getFullYear()+"-"+this.padWithZero(+t.getMonth()+1)+"-"+this.padWithZero(+t.getDate())+"T00:00:00Z"),i.getTime()>t.getTime()?(this.lastDateMax=e,e):i.getTime()>n.getTime()?e:a}updateLastDateForNom(t){const e=new Date,a=new Date(e.getFullYear()+"-"+this.padWithZero(+e.getMonth()+1)+"-"+this.padWithZero(+e.getDate())+"T00:00:00Z");t=new Date(t.getFullYear()+"-"+this.padWithZero(+t.getMonth()+1)+"-"+this.padWithZero(+t.getDate())+"T00:00:00Z");const i=Math.abs(t.getTime()-a.getTime());if(Math.floor(i/864e5)>=7){const e=t.getTime()-6048e5;this.formGroup.patchValue({lastDateForNom:new Date(e)})}else this.formGroup.patchValue({lastDateForNom:a})}removeFile(t){t?this.removedImg=!0:this.removedFile=!0}getISODate(t){const e=t.split(" ");return new Date(`${e[0]}T00:00:00Z`)}getDate(t){if(!t)return new Date;const e=t.split("/");return new Date(e[2],+e[1]-1,e[0])}getDays(t,e){t=t.split("/"),e=e.split("/");const a=new Date(`${t.getMonth}/${t.getDate}/${t.getFullYear}`),i=new Date(`${e.getMonth}/${e.getDate}/${e.getFullYear}`),n=Math.abs(i.getTime()-a.getTime());let r=Math.floor(n/864e5);return r<0&&(r=0),r}getLanguageFile(t){}onSubmit(t){this.formSubmitted=!0;const e=new FormData,a=new Date(this.formGroup.get("startDate").value),i=new Date(this.formGroup.get("endDate").value),n=new Date(this.formGroup.get("lastDateForNom").value);JSON.parse(sessionStorage.getItem("currentUser")),e.append("courseName",this.formGroup.get("course").value),e.append("uid",this.formGroup.get("uid").value),e.append("startDate",`${a.getFullYear()}-${this.padWithZero(a.getMonth()+1)}-${this.padWithZero(a.getDate())} 00:00:00`),e.append("endDate",`${i.getFullYear()}-${this.padWithZero(i.getMonth()+1)}-${this.padWithZero(i.getDate())} 00:00:00`),e.append("lastDateForNom",`${n.getFullYear()}-${this.padWithZero(n.getMonth()+1)}-${this.padWithZero(n.getDate())} 00:00:00`),e.append("days",this.formGroup.get("days").value),e.append("session",this.formGroup.get("session").value),e.append("instructors",this.formGroup.get("instructor").value),e.append("classSize",this.formGroup.get("classSize").value),e.append("internalNotes",this.formGroup.get("internalNotes").value),e.append("img",this.formGroup.get("imgSource").value),e.append("file",this.formGroup.get("fileSource").value),e.append("description",this.formGroup.get("description").value),e.append("categoryId",this.formGroup.get("category").value),e.append("subCategoryId",this.formGroup.get("subCategory").value),e.append("newCategory",this.formGroup.get("newCategory").value),e.append("newSubCategory",this.formGroup.get("newSubCategory").value),e.append("userId",this.authService.userDetails.userId),this.formGroup.valid?(console.log("Course has been submitted"),this.coursesService.editCourseDetail&&(e.append("courseId",this.coursesService.editCourseDetail.course_id),e.append("fileRemoved",this.removedFile),e.append("imgRemoved",this.removedImg)),this.apiService.addCourse(e,this.isEdit).subscribe(t=>{this.showAlert(!0,`${this.coursesService.editCourseDetail?this.langObj.val.courseSuccessEditMsg:this.langObj.val.courseSuccessAddMsg}`)},t=>{this.showAlert(!1,this.langObj.val.recordNotSaved)})):console.log("Course hasn't been submitted",this.formGroup)}showAlert(t,e){this.dialog.open(f.a,{data:{imgUrl:t?"/assets/images/success-icon.png":"/assets/images/alert-icon.jpg",msg:e,buttonType:"normal"}}).afterClosed().subscribe(e=>{t&&this.router.navigate(["courses"])})}startDateChangeEvent(){const t=new Date(this.formGroup.value.startDate);this.endMinDate=t,this.lastDateMax=t,this.formGroup.patchValue({endDate:t}),this.updateLastDateForNom(t),this.setDays()}padWithZero(t){return t<10?`0${t}`:t}setDays(){const t=new Date(this.formGroup.value.startDate),e=new Date(this.formGroup.value.endDate),a=new Date(`${t.getFullYear()}-${this.padWithZero(t.getMonth()+1)}-${this.padWithZero(t.getDate())}T00:00:00Z`),i=new Date(`${e.getFullYear()}-${this.padWithZero(e.getMonth()+1)}-${this.padWithZero(e.getDate())}T00:00:00Z`),n=Math.abs(i.getTime()-a.getTime());let r=Math.floor(n/864e5);r<0?r=1:r+=1;let o=a.getDay(),s=0;for(var c=0;c<r;c++)0!==o&&5!==o&&(s+=1),6===o?o=0:o++;this.formGroup.patchValue({days:s})}ngOnDestroy(){this.coursesService.editCourseDetail=null}redirect(){this.formGroup.dirty?this.dialog.open(f.a,{data:{imgUrl:"/assets/images/warning-icon.png",msg:"All Unsaved data will be lost, do you want to contnue",buttonType:"action"}}).afterClosed().subscribe(t=>{t&&this.router.navigate(["courses"])}):this.router.navigate(["courses"])}uploadFile(t,e){if(t.target.files.length>0){const a=t.target.files[0];this.formGroup.patchValue(e?{imgSource:a}:{fileSource:a})}}myFilter(t){t&&(t=new Date(t));const e=(t||new Date).getDay();return 0!==e&&5!==e}showCategoryFields(t){const e=this.formGroup.get("category"),a=this.formGroup.get("newCategory"),i=this.formGroup.get("subCategory"),r=this.formGroup.get("newSubCategory");"showNewCategoryField"===t?(e.clearValidators(),a.setValidators(n.s.required),i.clearValidators(),r.setValidators(n.s.required),this.formGroup.patchValue({newCategory:"",newSubCategory:""}),this.showCategoryDropdown=!1,this.showSubCategoryDropdown=!1,this.removeNewCategoryField=!0,this.removeSubCategoryField=!1,this.showSubCategory=!0,this.showSubCategoryField=!0):(this.formGroup.patchValue({newSubCategory:""}),i.clearValidators(),r.setValidators(n.s.required),this.removeSubCategoryField=!0,this.showSubCategoryDropdown=!1),this[t]=!this[t]}updateCategoryControl(t,e){const a=e.target.value,i=this.formGroup.get(t),r=this.formGroup.get("subCategory"),o=this.formGroup.get("newSubCategory");a?i.clearValidators():i.setValidators(n.s.required),"category"===t&&(a?(r.clearValidators(),o.setValidators(n.s.required),r.updateValueAndValidity(),this.showSubCategoryField=!0):this.showSubCategoryDropdown?(r.setValidators(n.s.required),o.clearValidators(),r.updateValueAndValidity()):o.setValidators(n.s.required),o.updateValueAndValidity()),i.updateValueAndValidity()}removeCategoryFields(t){const e=this.formGroup.get("category"),a=this.formGroup.get("newCategory"),i=this.formGroup.get("subCategory"),r=this.formGroup.get("newSubCategory");if("removeNewCategoryField"===t){const t=!!this.formGroup.get("category").value,o=this.subCategory||[];a.clearValidators(),a.updateValueAndValidity(),this.formGroup.patchValue({newSubCategory:""}),!1===t?(e.setValidators(n.s.required),i.clearValidators(),i.updateValueAndValidity(),r.clearValidators(),r.updateValueAndValidity(),this.formGroup.patchValue({subCategory:"",newSubCategory:""}),this.showSubCategory=!1,this.showSubCategoryField=!1,this.showSubCategoryDropdown=!1):!0===t&&o.length>0?(r.clearValidators(),r.updateValueAndValidity(),i.setValidators(n.s.required),this.formGroup.patchValue({newSubCategory:""}),this.showSubCategory=!0,this.showSubCategoryField=!1,this.showSubCategoryDropdown=!0):(i.clearValidators(),i.updateValueAndValidity(),r.setValidators(n.s.required),this.showSubCategory=!0,this.showSubCategoryField=!0,this.showSubCategoryDropdown=!1,this.formGroup.patchValue({newSubCategory:""})),this.removeSubCategoryField=!1,this.showNewCategoryField=!1,this.showCategoryDropdown=!0}else r.clearValidators(),r.updateValueAndValidity(),this.formGroup.patchValue({newSubCategory:""}),i.setValidators(n.s.required),this.showSubCategoryDropdown=!0,this.showSubCategoryField=!1;this[t]=!this[t]}getSubcategory(t){this.showSubCategory=!1,this.formGroup.patchValue({subCategory:""});const e=this.formGroup.get("subCategory"),a=this.formGroup.get("newSubCategory");this.apiService.getSubCategory(this.formGroup.get("category").value).subscribe(t=>{t.data.length>0?(this.subCategory=t.data||[],this.showSubCategoryDropdown=!0,this.showSubCategoryField=!1,e.setValidators(n.s.required),a.clearValidators()):(e.clearValidators(),a.setValidators(n.s.required),this.showSubCategoryDropdown=!1,this.showSubCategoryField=!0),e.updateValueAndValidity(),a.updateValueAndValidity(),this.showSubCategory=!0},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(o.a),s.Ob(g.b),s.Ob(r.c),s.Ob(v.a),s.Ob(m.a),s.Ob(p.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-add"]],viewQuery:function(t,e){var a;1&t&&s.Jc(je,!0),2&t&&s.tc(a=s.dc())&&(e.PageContent=a.first)},decls:85,vars:44,consts:[[1,"container-fluid","ipa-container"],[1,"row","course-form"],[1,"col-xs-12","col-sm-10","col-md-6","col-sm-offset-1","col-md-offset-2","mg-auto"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","course","autocomplete","off"],[1,"uid-form-field"],["appearance","outline",1,"full-width",3,"ngClass"],["matInput","","formControlName","uid","autocomplete","off"],["class","spinner-icon",4,"ngIf"],[1,"uid-notes","alert","alert-success"],[1,"category-section","full-width"],["appearance","outline","class","grey-color dropdown",4,"ngIf"],["class","category-icon","title","Add New Category","aria-hidden","false","aria-label","Example add_box icon",3,"click",4,"ngIf"],["appearance","outline",4,"ngIf"],["class","category-icon remove-cat-icon","title","Add New Category","aria-hidden","false","aria-label","Example highlight_off icon",3,"click",4,"ngIf"],["class","category-section",4,"ngIf"],["matInput","","formControlName","startDate",3,"min","matDatepickerFilter","matDatepicker","dateChange"],["matSuffix","",3,"for"],["startDate",""],["matInput","","formControlName","endDate",3,"min","matDatepickerFilter","matDatepicker","dateChange"],["endDate",""],["matInput","","formControlName","lastDateForNom",3,"min","max","matDatepickerFilter","matDatepicker"],["lastDateForNom",""],["matInput","","readonly","","formControlName","days"],["appearance","outline",1,"full-width","grey-color"],["formControlName","session"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","instructor","autocomplete","off"],["type","number","matInput","","formControlName","classSize","autocomplete","off"],["matInput","","formControlName","internalNotes"],[1,"mat-form-field","upload-box","img-box"],[1,"mat-label"],["type","file","formControlName","img",3,"change"],["class","file-remove-box",4,"ngIf"],[1,"mat-form-field","upload-box"],["type","file","formControlName","file",3,"change"],[1,"course-text-editor"],["formControlName","description",3,"config"],["class","alert alert-danger mt-10",4,"ngIf"],[1,"form-btn"],["type","button",1,"btn","btn-dark","mg-rt-auto",3,"click"],["type","buton",1,"btn","btn-secondary","reset-btn"],["type","submit",1,"btn","bgc-primary"],["class","ipa-spinner",4,"ngIf"],[1,"spinner-icon"],["appearance","outline",1,"grey-color","dropdown"],["formControlName","category",3,"selectionChange"],[3,"value"],["title","Add New Category","aria-hidden","false","aria-label","Example add_box icon",1,"category-icon",3,"click"],["appearance","outline"],["type","text","matInput","","formControlName","newCategory","autocomplete","off",3,"keyup"],["title","Add New Category","aria-hidden","false","aria-label","Example highlight_off icon",1,"category-icon","remove-cat-icon",3,"click"],[1,"category-section"],["class","category-icon","title","Add New Sub Category","aria-hidden","false","aria-label","Example add_box icon",3,"click",4,"ngIf"],["appearance","outline","class","",4,"ngIf"],["formControlName","subCategory"],["title","Add New Sub Category","aria-hidden","false","aria-label","Example add_box icon",1,"category-icon",3,"click"],["appearance","outline",1,""],["type","text","matInput","","formControlName","newSubCategory","autocomplete","off",3,"keyup"],[1,"file-remove-box"],[1,"download-icon"],[1,"course-img-edit",3,"src"],[1,"remove-icon",3,"click"],["src","/assets/images/remove.png","title","Remove"],[1,"upload-file-label"],["target","_blank",3,"href"],["src","/assets/images/download.png","title","Download"],[1,"alert","alert-danger","mt-10"],[1,"ipa-spinner"]],template:function(t,e){if(1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"form",3),s.cc("ngSubmit",(function(t){return e.onSubmit(e.formGroup)})),s.Ub(4,"mat-form-field",4),s.Ub(5,"mat-label"),s.Ec(6),s.Tb(),s.Pb(7,"input",5),s.Tb(),s.Ub(8,"div",6),s.Ub(9,"mat-form-field",7),s.Ub(10,"mat-label"),s.Ec(11),s.Tb(),s.Pb(12,"input",8),s.Dc(13,Ne,1,0,"mat-spinner",9),s.Tb(),s.Ub(14,"p",10),s.Ec(15," Unique ID should be atleast five characters. Only letters and digits are allowed "),s.Tb(),s.Tb(),s.Ub(16,"div",11),s.Dc(17,Re,5,2,"mat-form-field",12),s.Dc(18,Be,2,0,"mat-icon",13),s.Dc(19,Ve,4,0,"mat-form-field",14),s.Dc(20,Ge,2,0,"mat-icon",15),s.Tb(),s.Dc(21,Ze,5,4,"div",16),s.Ub(22,"mat-form-field",4),s.Ub(23,"mat-label"),s.Ec(24),s.Tb(),s.Ub(25,"input",17),s.cc("dateChange",(function(t){return e.startDateChangeEvent()})),s.Tb(),s.Pb(26,"mat-datepicker-toggle",18),s.Pb(27,"mat-datepicker",null,19),s.Tb(),s.Ub(29,"mat-form-field",4),s.Ub(30,"mat-label"),s.Ec(31),s.Tb(),s.Ub(32,"input",20),s.cc("dateChange",(function(t){return e.setDays()})),s.Tb(),s.Pb(33,"mat-datepicker-toggle",18),s.Pb(34,"mat-datepicker",null,21),s.Tb(),s.Ub(36,"mat-form-field",4),s.Ub(37,"mat-label"),s.Ec(38),s.Tb(),s.Pb(39,"input",22),s.Pb(40,"mat-datepicker-toggle",18),s.Pb(41,"mat-datepicker",null,23),s.Tb(),s.Ub(43,"mat-form-field",4),s.Ub(44,"mat-label"),s.Ec(45),s.Tb(),s.Pb(46,"input",24),s.Tb(),s.Ub(47,"mat-form-field",25),s.Ub(48,"mat-label"),s.Ec(49),s.Tb(),s.Ub(50,"mat-select",26),s.Dc(51,Je,2,2,"mat-option",27),s.Tb(),s.Tb(),s.Ub(52,"mat-form-field",4),s.Ub(53,"mat-label"),s.Ec(54),s.Tb(),s.Pb(55,"input",28),s.Tb(),s.Ub(56,"mat-form-field",4),s.Ub(57,"mat-label"),s.Ec(58),s.Tb(),s.Pb(59,"input",29),s.Tb(),s.Ub(60,"mat-form-field",4),s.Ub(61,"mat-label"),s.Ec(62),s.Tb(),s.Pb(63,"textarea",30),s.Tb(),s.Ub(64,"div",31),s.Ub(65,"div",32),s.Ec(66),s.Tb(),s.Ub(67,"input",33),s.cc("change",(function(t){return e.uploadFile(t,!0)})),s.Tb(),s.Dc(68,He,5,1,"div",34),s.Tb(),s.Ub(69,"div",35),s.Ub(70,"div",32),s.Ec(71),s.Tb(),s.Ub(72,"input",36),s.cc("change",(function(t){return e.uploadFile(t,!1)})),s.Tb(),s.Dc(73,We,8,1,"div",34),s.Tb(),s.Ub(74,"div",37),s.Pb(75,"ckeditor",38),s.Dc(76,Ke,2,0,"div",39),s.Tb(),s.Ub(77,"div",40),s.Ub(78,"button",41),s.cc("click",(function(t){return e.redirect()})),s.Ec(79),s.Tb(),s.Ub(80,"button",42),s.Ec(81),s.Tb(),s.Ub(82,"button",43),s.Ec(83),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Dc(84,Qe,1,0,"app-loadingbar",44)),2&t){const t=s.uc(28),a=s.uc(35),i=s.uc(42);s.Cb(3),s.mc("formGroup",e.formGroup),s.Cb(3),s.Fc(e.langObj.val.courseName),s.Cb(3),s.mc("ngClass",s.pc(42,Xe,e.showIconSpinner)),s.Cb(2),s.Fc(e.langObj.val.uid),s.Cb(2),s.mc("ngIf",e.showIconSpinner),s.Cb(4),s.mc("ngIf",e.showCategoryDropdown),s.Cb(1),s.mc("ngIf",!e.showNewCategoryField),s.Cb(1),s.mc("ngIf",e.showNewCategoryField),s.Cb(1),s.mc("ngIf",e.removeNewCategoryField),s.Cb(1),s.mc("ngIf",e.showSubCategory),s.Cb(3),s.Fc(e.langObj.val.startDate),s.Cb(1),s.mc("min",e.startMinDate)("matDatepickerFilter",e.myFilter)("matDatepicker",t),s.Cb(1),s.mc("for",t),s.Cb(5),s.Fc(e.langObj.val.endDate),s.Cb(1),s.mc("min",e.endMinDate)("matDatepickerFilter",e.myFilter)("matDatepicker",a),s.Cb(1),s.mc("for",a),s.Cb(5),s.Fc(e.langObj.val.lastDateForNom),s.Cb(1),s.mc("min",e.lastDateMin)("max",e.lastDateMax)("matDatepickerFilter",e.myFilter)("matDatepicker",i),s.Cb(1),s.mc("for",i),s.Cb(5),s.Fc(e.langObj.val.days),s.Cb(4),s.Fc(e.langObj.val.courseSession),s.Cb(2),s.mc("ngForOf",e.session),s.Cb(3),s.Fc(e.langObj.val.instructor),s.Cb(4),s.Fc(e.langObj.val.classSize),s.Cb(4),s.Fc(e.langObj.val.internalNotes),s.Cb(4),s.Fc(e.langObj.val.uploadCourseImg),s.Cb(2),s.mc("ngIf",e.isEdit&&e.imgPath),s.Cb(3),s.Fc(e.langObj.val.uploadFile),s.Cb(2),s.mc("ngIf",e.isEdit&&!e.removedFile),s.Cb(2),s.mc("config",e.ckeConfig),s.Cb(1),s.mc("ngIf",e.formGroup.get("description").errors&&(e.formSubmitted||e.formGroup.get("description").dirty||e.formGroup.get("description").touched)),s.Cb(3),s.Fc(e.langObj.val.back),s.Cb(2),s.Fc(e.langObj.val.reset),s.Cb(2),s.Fc(e.langObj.val.submit),s.Cb(1),s.mc("ngIf",e.loadingObj.show)}},directives:[n.t,n.n,n.g,y.b,y.e,C.b,n.b,n.m,n.e,i.i,i.k,xt.b,xt.d,y.f,xt.a,w.a,i.j,n.q,Pe.b,St.b,T.n,D.a,E.a],styles:[".course-form[_ngcontent-%COMP%]{padding:20px 0}.reset-btn[_ngcontent-%COMP%]{margin-right:10px}.upload-box[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e1e2;padding:25px 10px;border-radius:6px;margin-bottom:20px}"]}),t})()},{path:"attendance/:course_id",component:(()=>{class t{constructor(t,e){this.route=t,this.apiService=e,this.success_msg=!1,this.err_msg=!1,this.showPopup=!0}ngOnInit(){this.loadingObj=this.apiService.loadingObj,this.courseId=this.route.snapshot.paramMap.get("course_id"),this.formGroup=new n.f({icNo:new n.c("",[n.s.required,n.s.pattern(/^[0-9]{8}$/)])})}onSubmit(){if(this.formGroup.valid){const t=this.formGroup.get("icNo").value;this.apiService.attendance({courseId:this.courseId,icNo:t}).subscribe(t=>{this.showPopup=!1,this.success_msg=!0},t=>{this.err_msg=t})}}keyDown(t){return t.keyCode>=48&&t.keyCode<=57&&t.shiftKey?(t.preventDefault(),!1):t.keyCode>=8&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||void t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(r.a),s.Ob(m.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-attendance"]],decls:4,vars:3,consts:[[1,"attendance-container"],["class","alert alert-success mg-10",4,"ngIf"],["class","modal-popup",4,"ngIf"],["class","ipa-spinner",4,"ngIf"],[1,"alert","alert-success","mg-10"],[1,"modal-popup"],[1,"backdrop"],[1,"modal-popup-content"],[1,"login-img-box","no-padding"],["class","alert alert-danger mg-b-5",4,"ngIf"],[1,"attended-checkbox"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","icNo","maxlength","8",3,"keydown"],[1,"text-align-rt"],["type","submit",1,"btn","bgc-primary"],[1,"alert","alert-danger","mg-b-5"],[1,"ipa-spinner"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Dc(1,ta,2,0,"div",1),s.Dc(2,aa,14,2,"div",2),s.Tb(),s.Dc(3,ia,1,0,"app-loadingbar",3)),2&t&&(s.Cb(1),s.mc("ngIf",e.success_msg),s.Cb(1),s.mc("ngIf",e.showPopup),s.Cb(1),s.mc("ngIf",e.loadingObj.show))},directives:[i.k,n.t,n.n,n.g,y.b,y.e,C.b,n.b,n.m,n.e,n.i,E.a],styles:[""]}),t})()},{path:"evaluation/:course_id",component:(()=>{class t{constructor(t,e,a){this.route=t,this.apiService=e,this.langService=a,this.success_msg=!1,this.isError=!1,this.showPopup=!0,this.langObj={},this.langService.setLang(this.langService.defaultLangCode),this.langObj=this.langService.langDetail}ngOnInit(){this.loadingObj=this.apiService.loadingObj,this.courseId=this.route.snapshot.paramMap.get("course_id"),this.formGroup=new n.f({icNo:new n.c("",[n.s.required,n.s.pattern(/^[0-9]{8}$/)]),question1:new n.c("",[n.s.required]),question2:new n.c("",[n.s.required]),question3:new n.c("",[n.s.required]),question4:new n.c("",[n.s.required]),question5:new n.c("",[n.s.required]),comments:new n.c("",[])})}onSubmit(){if(!this.formGroup.valid)return!1;const t=this.formGroup.value;this.apiService.saveCourseEvaluation({icNo:t.icNo,courseId:this.courseId,firstQuestion:t.question1,secondQuestion:t.question2,thirdQuestion:t.question3,fourthQuestion:t.question4,fifthQuestion:t.question5,comments:t.comments}).subscribe(t=>{console.log(t),this.formGroup.reset(),this.isError=!1,this.success_msg=!0},t=>{console.log(t),this.isError=!0,this.err_msg=t})}keyDown(t){return t.keyCode>=48&&t.keyCode<=57&&t.shiftKey?(t.preventDefault(),!1):t.keyCode>=8&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||void t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(r.a),s.Ob(m.a),s.Ob(v.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-evalutaion"]],decls:7,vars:4,consts:[[1,"container-fluid","ipa-container","evaluation-container"],[1,"row","course-form"],[1,"col-xs-12","col-sm-10","col-md-6","col-sm-offset-1","col-md-offset-2","mg-auto"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","ipa-spinner",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","icNo","maxlength","8",3,"keydown"],[1,"rating-label-container"],[1,"rating-label"],[1,""],["aria-label","Select an option","formControlName","question1"],[1,"question-label"],[1,"mg-rt-10","radio-btn-label"],[1,"question-input"],["value","1","matTooltip","Strongly Disagree","matTooltipClass","tooltip-box"],["value","2","matTooltip","Disagree","matTooltipClass","tooltip-box"],["value","3","matTooltip","Neutral","matTooltipClass","tooltip-box"],["value","4","matTooltip","Agree","matTooltipClass","tooltip-box"],["value","5","matTooltip","Strongly Agree","matTooltipClass","tooltip-box"],["aria-label","Select an option","formControlName","question2"],["aria-label","Select an option","formControlName","question3"],["aria-label","Select an option","formControlName","question4"],["aria-label","Select an option","formControlName","question5"],["matInput","","formControlName","comments"],[1,"form-btn"],["type","submit",1,"btn","bgc-primary"],[1,"ipa-spinner"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Dc(3,na,2,0,"div",3),s.Dc(4,ra,2,1,"div",4),s.Dc(5,oa,108,2,"form",5),s.Tb(),s.Tb(),s.Tb(),s.Dc(6,sa,1,0,"app-loadingbar",6)),2&t&&(s.Cb(3),s.mc("ngIf",e.success_msg),s.Cb(1),s.mc("ngIf",e.isError),s.Cb(1),s.mc("ngIf",!e.success_msg),s.Cb(1),s.mc("ngIf",e.loadingObj.show))},directives:[i.k,n.t,n.n,n.g,y.b,y.e,C.b,n.b,n.m,n.e,n.i,kt.b,kt.a,Pt.a,E.a],styles:[".evaluation-container[_ngcontent-%COMP%]{margin-top:20px}.evaluation-container[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{border:none;border-bottom:3px solid #6a4882;border-radius:5px!important;box-shadow:0 0 5px rgba(106,72,130,.36)}.question-label[_ngcontent-%COMP%]{margin-bottom:10px}.question-input[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.question-label[_ngcontent-%COMP%]   .radio-btn-label[_ngcontent-%COMP%]{color:#6a0676!important;font-weight:700;font-size:14px;letter-spacing:.4px}.rating-label-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;padding:20px 10px;-webkit-box-pack:justify;justify-content:space-between;margin-bottom:20px;border-bottom:3px solid #6a4882;border-radius:5px!important;box-shadow:0 0 5px rgba(106,72,130,.36)}.rating-label[_ngcontent-%COMP%]{color:#6a0676;font-weight:700}.form-btn[_ngcontent-%COMP%]{margin-bottom:10px;display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}"]}),t})()}]}];let la=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[r.f.forChild(ca)],r.f]}),t})();var ua=a("PCNd");a.d(e,"CourseModule",(function(){return da}));let da=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[i.c,n.h,n.r,la,ua.a]]}),t})()},Z92M:function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},aZ40:function(t,e,a){var i=a("Wogr"),n=i.alloc(512),r=i.alloc(256);!function(){for(var t=1,e=0;e<255;e++)n[e]=t,r[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)n[e]=n[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[r[t]+r[e]]}},"e/Dd":function(t,e){var a,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return i[t]},e.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');a=t},e.isKanjiModeEnabled=function(){return void 0!==a},e.toSJIS=function(t){return a(t)}},e6BP:function(t,e){function a(){this.buffer=[],this.length=0}a.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var a=0;a<e;a++)this.putBit(1==(t>>>e-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=a},eQOe:function(t,e){function a(t,a,i){switch(t){case e.Patterns.PATTERN000:return(a+i)%2==0;case e.Patterns.PATTERN001:return a%2==0;case e.Patterns.PATTERN010:return i%3==0;case e.Patterns.PATTERN011:return(a+i)%3==0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2==0;case e.Patterns.PATTERN101:return a*i%2+a*i%3==0;case e.Patterns.PATTERN110:return(a*i%2+a*i%3)%2==0;case e.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,a=0,i=0,n=0,r=null,o=null,s=0;s<e;s++){i=n=0,r=o=null;for(var c=0;c<e;c++){var l=t.get(s,c);l===r?i++:(i>=5&&(a+=i-5+3),r=l,i=1),(l=t.get(c,s))===o?n++:(n>=5&&(a+=n-5+3),o=l,n=1)}i>=5&&(a+=i-5+3),n>=5&&(a+=n-5+3)}return a},e.getPenaltyN2=function(t){for(var e=t.size,a=0,i=0;i<e-1;i++)for(var n=0;n<e-1;n++){var r=t.get(i,n)+t.get(i,n+1)+t.get(i+1,n)+t.get(i+1,n+1);4!==r&&0!==r||a++}return 3*a},e.getPenaltyN3=function(t){for(var e=t.size,a=0,i=0,n=0,r=0;r<e;r++){i=n=0;for(var o=0;o<e;o++)i=i<<1&2047|t.get(r,o),o>=10&&(1488===i||93===i)&&a++,n=n<<1&2047|t.get(o,r),o>=10&&(1488===n||93===n)&&a++}return 40*a},e.getPenaltyN4=function(t){for(var e=0,a=t.data.length,i=0;i<a;i++)e+=t.data[i];return 10*Math.abs(Math.ceil(100*e/a/5)-10)},e.applyMask=function(t,e){for(var i=e.size,n=0;n<i;n++)for(var r=0;r<i;r++)e.isReserved(r,n)||e.xor(r,n,a(t,r,n))},e.getBestMask=function(t,a){for(var i=Object.keys(e.Patterns).length,n=0,r=1/0,o=0;o<i;o++){a(o),e.applyMask(o,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),s<r&&(r=s,n=o)}return n}},ekOh:function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,a){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(i){return a}}},fBlX:function(t,e,a){"use strict";var i=a("H7XF"),n=a("kVK+"),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,a){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return u(t)}return c(t,e,a)}function c(t,e,a){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var a=0|f(t,e),i=o(a),n=i.write(t,e);return n!==a&&(i=i.slice(0,n)),i}(t,e);if(ArrayBuffer.isView(t))return d(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(V(t,ArrayBuffer)||t&&V(t.buffer,ArrayBuffer))return b(t,e,a);if("undefined"!=typeof SharedArrayBuffer&&(V(t,SharedArrayBuffer)||t&&V(t.buffer,SharedArrayBuffer)))return b(t,e,a);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return s.from(i,e,a);var n=function(t){if(s.isBuffer(t)){var e=0|h(t.length),a=o(e);return 0===a.length?a:(t.copy(a,0,0,e),a)}return void 0!==t.length?"number"!=typeof t.length||G(t.length)?o(0):d(t):"Buffer"===t.type&&Array.isArray(t.data)?d(t.data):void 0}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return l(t),o(t<0?0:0|h(t))}function d(t){for(var e=t.length<0?0:0|h(t.length),a=o(e),i=0;i<e;i+=1)a[i]=255&t[i];return a}function b(t,e,a){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(a||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===e&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,e):new Uint8Array(t,e,a),Object.setPrototypeOf(i,s.prototype),i}function h(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function f(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||V(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var a=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===a)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return R(t).length;default:if(n)return i?-1:M(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,a){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===a||a>this.length)&&(a=this.length),a<=0)return"";if((a>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,a);case"utf8":case"utf-8":return S(this,e,a);case"ascii":return I(this,e,a);case"latin1":case"binary":return A(this,e,a);case"base64":return U(this,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,a);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function p(t,e,a){var i=t[e];t[e]=t[a],t[a]=i}function m(t,e,a,i,n){if(0===t.length)return-1;if("string"==typeof a?(i=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),G(a=+a)&&(a=n?0:t.length-1),a<0&&(a=t.length+a),a>=t.length){if(n)return-1;a=t.length-1}else if(a<0){if(!n)return-1;a=0}if("string"==typeof e&&(e=s.from(e,i)),s.isBuffer(e))return 0===e.length?-1:v(t,e,a,i,n);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,a):Uint8Array.prototype.lastIndexOf.call(t,e,a):v(t,[e],a,i,n);throw new TypeError("val must be string, number or Buffer")}function v(t,e,a,i,n){var r,o=1,s=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,s/=2,c/=2,a/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var u=-1;for(r=a;r<s;r++)if(l(t,r)===l(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===c)return u*o}else-1!==u&&(r-=r-u),u=-1}else for(a+c>s&&(a=s-c),r=a;r>=0;r--){for(var d=!0,b=0;b<c;b++)if(l(t,r+b)!==l(e,b)){d=!1;break}if(d)return r}return-1}function y(t,e,a,i){a=Number(a)||0;var n=t.length-a;i?(i=Number(i))>n&&(i=n):i=n;var r=e.length;i>r/2&&(i=r/2);for(var o=0;o<i;++o){var s=parseInt(e.substr(2*o,2),16);if(G(s))return o;t[a+o]=s}return o}function w(t,e,a,i){return B(M(e,t.length-a),t,a,i)}function C(t,e,a,i){return B(function(t){for(var e=[],a=0;a<t.length;++a)e.push(255&t.charCodeAt(a));return e}(e),t,a,i)}function T(t,e,a,i){return C(t,e,a,i)}function D(t,e,a,i){return B(R(e),t,a,i)}function E(t,e,a,i){return B(function(t,e){for(var a,i,n=[],r=0;r<t.length&&!((e-=2)<0);++r)i=(a=t.charCodeAt(r))>>8,n.push(a%256),n.push(i);return n}(e,t.length-a),t,a,i)}function U(t,e,a){return i.fromByteArray(0===e&&a===t.length?t:t.slice(e,a))}function S(t,e,a){a=Math.min(t.length,a);for(var i=[],n=e;n<a;){var r,o,s,c,l=t[n],u=null,d=l>239?4:l>223?3:l>191?2:1;if(n+d<=a)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(r=t[n+1]))&&(c=(31&l)<<6|63&r)>127&&(u=c);break;case 3:o=t[n+2],128==(192&(r=t[n+1]))&&128==(192&o)&&(c=(15&l)<<12|(63&r)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[n+2],s=t[n+3],128==(192&(r=t[n+1]))&&128==(192&o)&&128==(192&s)&&(c=(15&l)<<18|(63&r)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(i.push((u-=65536)>>>10&1023|55296),u=56320|1023&u),i.push(u),n+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var a="",i=0;i<e;)a+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return a}(i)}function I(t,e,a){var i="";a=Math.min(t.length,a);for(var n=e;n<a;++n)i+=String.fromCharCode(127&t[n]);return i}function A(t,e,a){var i="";a=Math.min(t.length,a);for(var n=e;n<a;++n)i+=String.fromCharCode(t[n]);return i}function O(t,e,a){var i=t.length;(!e||e<0)&&(e=0),(!a||a<0||a>i)&&(a=i);for(var n="",r=e;r<a;++r)n+=L[t[r]];return n}function F(t,e,a){for(var i=t.slice(e,a),n="",r=0;r<i.length;r+=2)n+=String.fromCharCode(i[r]+256*i[r+1]);return n}function _(t,e,a){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>a)throw new RangeError("Trying to access beyond buffer length")}function x(t,e,a,i,n,r){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<r)throw new RangeError('"value" argument is out of bounds');if(a+i>t.length)throw new RangeError("Index out of range")}function k(t,e,a,i,n,r){if(a+i>t.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function P(t,e,a,i,r){return e=+e,a>>>=0,r||k(t,0,a,4),n.write(t,e,a,i,23,4),a+4}function j(t,e,a,i,r){return e=+e,a>>>=0,r||k(t,0,a,8),n.write(t,e,a,i,52,8),a+8}e.Buffer=s,e.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,(s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(a){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(t,e,a){return c(t,e,a)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,a){return function(t,e,a){return l(t),t<=0?o(t):void 0!==e?"string"==typeof a?o(t).fill(e,a):o(t).fill(e):o(t)}(t,e,a)},s.allocUnsafe=function(t){return u(t)},s.allocUnsafeSlow=function(t){return u(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(V(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),V(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var a=t.length,i=e.length,n=0,r=Math.min(a,i);n<r;++n)if(t[n]!==e[n]){a=t[n],i=e[n];break}return a<i?-1:i<a?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var a;if(void 0===e)for(e=0,a=0;a<t.length;++a)e+=t[a].length;var i=s.allocUnsafe(e),n=0;for(a=0;a<t.length;++a){var r=t[a];if(V(r,Uint8Array)&&(r=s.from(r)),!s.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,n),n+=r.length}return i},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):g.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",a=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(t+=" ... "),"<Buffer "+t+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(t,e,a,i,n){if(V(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===a&&(a=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||a>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=a)return 0;if(i>=n)return-1;if(e>=a)return 1;if(this===t)return 0;for(var r=(n>>>=0)-(i>>>=0),o=(a>>>=0)-(e>>>=0),c=Math.min(r,o),l=this.slice(i,n),u=t.slice(e,a),d=0;d<c;++d)if(l[d]!==u[d]){r=l[d],o=u[d];break}return r<o?-1:o<r?1:0},s.prototype.includes=function(t,e,a){return-1!==this.indexOf(t,e,a)},s.prototype.indexOf=function(t,e,a){return m(this,t,e,a,!0)},s.prototype.lastIndexOf=function(t,e,a){return m(this,t,e,a,!1)},s.prototype.write=function(t,e,a,i){if(void 0===e)i="utf8",a=this.length,e=0;else if(void 0===a&&"string"==typeof e)i=e,a=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(a)?(a>>>=0,void 0===i&&(i="utf8")):(i=a,a=void 0)}var n=this.length-e;if((void 0===a||a>n)&&(a=n),t.length>0&&(a<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return y(this,t,e,a);case"utf8":case"utf-8":return w(this,t,e,a);case"ascii":return C(this,t,e,a);case"latin1":case"binary":return T(this,t,e,a);case"base64":return D(this,t,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,a);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(t,e){var a=this.length;(t=~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),(e=void 0===e?a:~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,s.prototype),i},s.prototype.readUIntLE=function(t,e,a){t>>>=0,e>>>=0,a||_(t,e,this.length);for(var i=this[t],n=1,r=0;++r<e&&(n*=256);)i+=this[t+r]*n;return i},s.prototype.readUIntBE=function(t,e,a){t>>>=0,e>>>=0,a||_(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},s.prototype.readUInt8=function(t,e){return t>>>=0,e||_(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||_(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||_(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||_(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||_(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,a){t>>>=0,e>>>=0,a||_(t,e,this.length);for(var i=this[t],n=1,r=0;++r<e&&(n*=256);)i+=this[t+r]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},s.prototype.readIntBE=function(t,e,a){t>>>=0,e>>>=0,a||_(t,e,this.length);for(var i=e,n=1,r=this[t+--i];i>0&&(n*=256);)r+=this[t+--i]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readInt8=function(t,e){return t>>>=0,e||_(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||_(t,2,this.length);var a=this[t]|this[t+1]<<8;return 32768&a?4294901760|a:a},s.prototype.readInt16BE=function(t,e){t>>>=0,e||_(t,2,this.length);var a=this[t+1]|this[t]<<8;return 32768&a?4294901760|a:a},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||_(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||_(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return t>>>=0,e||_(t,4,this.length),n.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||_(t,4,this.length),n.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||_(t,8,this.length),n.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||_(t,8,this.length),n.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,a,i){t=+t,e>>>=0,a>>>=0,i||x(this,t,e,a,Math.pow(2,8*a)-1,0);var n=1,r=0;for(this[e]=255&t;++r<a&&(n*=256);)this[e+r]=t/n&255;return e+a},s.prototype.writeUIntBE=function(t,e,a,i){t=+t,e>>>=0,a>>>=0,i||x(this,t,e,a,Math.pow(2,8*a)-1,0);var n=a-1,r=1;for(this[e+n]=255&t;--n>=0&&(r*=256);)this[e+n]=t/r&255;return e+a},s.prototype.writeUInt8=function(t,e,a){return t=+t,e>>>=0,a||x(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,a){return t=+t,e>>>=0,a||x(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUInt16BE=function(t,e,a){return t=+t,e>>>=0,a||x(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUInt32LE=function(t,e,a){return t=+t,e>>>=0,a||x(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUInt32BE=function(t,e,a){return t=+t,e>>>=0,a||x(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeIntLE=function(t,e,a,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*a-1);x(this,t,e,a,n-1,-n)}var r=0,o=1,s=0;for(this[e]=255&t;++r<a&&(o*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/o>>0)-s&255;return e+a},s.prototype.writeIntBE=function(t,e,a,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*a-1);x(this,t,e,a,n-1,-n)}var r=a-1,o=1,s=0;for(this[e+r]=255&t;--r>=0&&(o*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/o>>0)-s&255;return e+a},s.prototype.writeInt8=function(t,e,a){return t=+t,e>>>=0,a||x(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,a){return t=+t,e>>>=0,a||x(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,a){return t=+t,e>>>=0,a||x(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,a){return t=+t,e>>>=0,a||x(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,a){return t=+t,e>>>=0,a||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeFloatLE=function(t,e,a){return P(this,t,e,!0,a)},s.prototype.writeFloatBE=function(t,e,a){return P(this,t,e,!1,a)},s.prototype.writeDoubleLE=function(t,e,a){return j(this,t,e,!0,a)},s.prototype.writeDoubleBE=function(t,e,a){return j(this,t,e,!1,a)},s.prototype.copy=function(t,e,a,i){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(a||(a=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<a&&(i=a),i===a)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-a&&(i=t.length-e+a);var n=i-a;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,a,i);else if(this===t&&a<e&&e<i)for(var r=n-1;r>=0;--r)t[r+e]=this[r+a];else Uint8Array.prototype.set.call(t,this.subarray(a,i),e);return n},s.prototype.fill=function(t,e,a,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,a=this.length):"string"==typeof a&&(i=a,a=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var n=t.charCodeAt(0);("utf8"===i&&n<128||"latin1"===i)&&(t=n)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<a)throw new RangeError("Out of range index");if(a<=e)return this;var r;if(e>>>=0,a=void 0===a?this.length:a>>>0,t||(t=0),"number"==typeof t)for(r=e;r<a;++r)this[r]=t;else{var o=s.isBuffer(t)?t:s.from(t,i),c=o.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<a-e;++r)this[r+e]=o[r%c]}return this};var N=/[^+/0-9A-Za-z-_]/g;function M(t,e){var a;e=e||1/0;for(var i=t.length,n=null,r=[],o=0;o<i;++o){if((a=t.charCodeAt(o))>55295&&a<57344){if(!n){if(a>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&r.push(239,191,189);continue}n=a;continue}if(a<56320){(e-=3)>-1&&r.push(239,191,189),n=a;continue}a=65536+(n-55296<<10|a-56320)}else n&&(e-=3)>-1&&r.push(239,191,189);if(n=null,a<128){if((e-=1)<0)break;r.push(a)}else if(a<2048){if((e-=2)<0)break;r.push(a>>6|192,63&a|128)}else if(a<65536){if((e-=3)<0)break;r.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return r}function R(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,a,i){for(var n=0;n<i&&!(n+a>=e.length||n>=t.length);++n)e[n+a]=t[n];return n}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function G(t){return t!=t}var L=function(){for(var t=new Array(256),e=0;e<16;++e)for(var a=16*e,i=0;i<16;++i)t[a+i]="0123456789abcdef"[e]+"0123456789abcdef"[i];return t}()},jSPq:function(t,e,a){var i=a("Wogr"),n=a("JzKC"),r=a("fBlX").Buffer;function o(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},o.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=i.alloc(this.degree),a=r.concat([t,e],t.length+this.degree),o=n.mod(a,this.genPoly),s=this.degree-o.length;if(s>0){var c=i.alloc(this.degree);return o.copy(c,s),c}return o},t.exports=o},"kVK+":function(t,e){e.read=function(t,e,a,i,n){var r,o,s=8*n-i-1,c=(1<<s)-1,l=c>>1,u=-7,d=a?n-1:0,b=a?-1:1,h=t[e+d];for(d+=b,r=h&(1<<-u)-1,h>>=-u,u+=s;u>0;r=256*r+t[e+d],d+=b,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=i;u>0;o=256*o+t[e+d],d+=b,u-=8);if(0===r)r=1-l;else{if(r===c)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,i),r-=l}return(h?-1:1)*o*Math.pow(2,r-i)},e.write=function(t,e,a,i,n,r){var o,s,c,l=8*r-n-1,u=(1<<l)-1,d=u>>1,b=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:r-1,f=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+d>=1?b/c:b*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(e*c-1)*Math.pow(2,n),o+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,n),o=0));n>=8;t[a+h]=255&s,h+=f,s/=256,n-=8);for(o=o<<n|s,l+=n;l>0;t[a+h]=255&o,h+=f,o/=256,l-=8);t[a+h-f]|=128*g}},"kk9/":function(t,e,a){var i=a("e/Dd").getSymbolSize;e.getPositions=function(t){var e=i(t);return[[0,0],[e-7,0],[0,e-7]]}},lYJp:function(t,e,a){var i=a("e/Dd"),n=i.getBCHDigit(1335);e.getEncodedBits=function(t,e){for(var a=t.bit<<3|e,r=a<<10;i.getBCHDigit(r)-n>=0;)r^=1335<<i.getBCHDigit(r)-n;return 21522^(a<<10|r)}},nZSm:function(t,e,a){var i=a("u/Db"),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(t){this.mode=i.ALPHANUMERIC,this.data=t}r.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var a=45*n.indexOf(this.data[e]);a+=n.indexOf(this.data[e+1]),t.put(a,11)}this.data.length%2&&t.put(n.indexOf(this.data[e]),6)},t.exports=r},qmMu:function(t,e,a){var i=a("Wogr"),n=a("e/Dd"),r=a("ekOh"),o=a("e6BP"),s=a("V35J"),c=a("1sBl"),l=a("kk9/"),u=a("eQOe"),d=a("NPxG"),b=a("jSPq"),h=a("yKow"),f=a("lYJp"),g=a("u/Db"),p=a("vvrf"),m=a("7uVY");function v(t,e,a){var i,n,r=t.size,o=f.getEncodedBits(e,a);for(i=0;i<15;i++)t.set(i<6?i:i<8?i+1:r-15+i,8,n=1==(o>>i&1),!0),t.set(8,i<8?r-i-1:i<9?15-i-1+1:15-i-1,n,!0);t.set(r-8,8,1,!0)}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var a,f,y=r.M;return void 0!==e&&(y=r.from(e.errorCorrectionLevel,r.M),a=h.from(e.version),f=u.from(e.maskPattern),e.toSJISFunc&&n.setToSJISFunction(e.toSJISFunc)),function(t,e,a,r){var f;if(m(t))f=p.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var y=e;if(!y){var w=p.rawSplit(t);y=h.getBestVersionForData(w,a)}f=p.fromString(t,y||40)}var C=h.getBestVersionForData(f,a);if(!C)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<C)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+C+".\n")}else e=C;var T=function(t,e,a){var r=new o;a.forEach((function(e){r.put(e.mode.bit,4),r.put(e.getLength(),g.getCharCountIndicator(e.mode,t)),e.write(r)}));var s=8*(n.getSymbolTotalCodewords(t)-d.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);for(var c=(s-r.getLengthInBits())/8,l=0;l<c;l++)r.put(l%2?17:236,8);return function(t,e,a){for(var r=n.getSymbolTotalCodewords(e),o=r-d.getTotalCodewordsCount(e,a),s=d.getBlocksCount(e,a),c=s-r%s,l=Math.floor(r/s),u=Math.floor(o/s),h=u+1,f=l-u,g=new b(f),p=0,m=new Array(s),v=new Array(s),y=0,w=i.from(t.buffer),C=0;C<s;C++){var T=C<c?u:h;m[C]=w.slice(p,p+T),v[C]=g.encode(m[C]),p+=T,y=Math.max(y,T)}var D,E,U=i.alloc(r),S=0;for(D=0;D<y;D++)for(E=0;E<s;E++)D<m[E].length&&(U[S++]=m[E][D]);for(D=0;D<f;D++)for(E=0;E<s;E++)U[S++]=v[E][D];return U}(r,t,e)}(e,a,f),D=n.getSymbolSize(e),E=new s(D);return function(t,e){for(var a=t.size,i=l.getPositions(e),n=0;n<i.length;n++)for(var r=i[n][0],o=i[n][1],s=-1;s<=7;s++)if(!(r+s<=-1||a<=r+s))for(var c=-1;c<=7;c++)o+c<=-1||a<=o+c||t.set(r+s,o+c,s>=0&&s<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===s||6===s)||s>=2&&s<=4&&c>=2&&c<=4,!0)}(E,e),function(t){for(var e=t.size,a=8;a<e-8;a++){var i=a%2==0;t.set(a,6,i,!0),t.set(6,a,i,!0)}}(E),function(t,e){for(var a=c.getPositions(e),i=0;i<a.length;i++)for(var n=a[i][0],r=a[i][1],o=-2;o<=2;o++)for(var s=-2;s<=2;s++)t.set(n+o,r+s,-2===o||2===o||-2===s||2===s||0===o&&0===s,!0)}(E,e),v(E,a,0),e>=7&&function(t,e){for(var a,i,n,r=t.size,o=h.getEncodedBits(e),s=0;s<18;s++)a=Math.floor(s/3),t.set(a,i=s%3+r-8-3,n=1==(o>>s&1),!0),t.set(i,a,n,!0)}(E,e),function(t,e){for(var a=t.size,i=-1,n=a-1,r=7,o=0,s=a-1;s>0;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!t.isReserved(n,s-c)){var l=!1;o<e.length&&(l=1==(e[o]>>>r&1)),t.set(n,s-c,l),-1==--r&&(o++,r=7)}if((n+=i)<0||a<=n){n-=i,i=-i;break}}}(E,T),isNaN(r)&&(r=u.getBestMask(E,v.bind(null,E,a))),u.applyMask(r,E),v(E,a,r),{modules:E,version:e,errorCorrectionLevel:a,maskPattern:r,segments:f}}(t,a,y,f)}},"u/Db":function(t,e,a){var i=a("J6Nv"),n=a("BCVQ");e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!i.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,a){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(i){return a}}},vvrf:function(t,e,a){var i=a("u/Db"),n=a("3X7Y"),r=a("nZSm"),o=a("AZa5"),s=a("Lzq4"),c=a("BCVQ"),l=a("e/Dd"),u=a("ELBg");function d(t){return unescape(encodeURIComponent(t)).length}function b(t,e,a){for(var i,n=[];null!==(i=t.exec(a));)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function h(t){var e,a,n=b(c.NUMERIC,i.NUMERIC,t),r=b(c.ALPHANUMERIC,i.ALPHANUMERIC,t);return l.isKanjiModeEnabled()?(e=b(c.BYTE,i.BYTE,t),a=b(c.KANJI,i.KANJI,t)):(e=b(c.BYTE_KANJI,i.BYTE,t),a=[]),n.concat(r,e,a).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function f(t,e){switch(e){case i.NUMERIC:return n.getBitsLength(t);case i.ALPHANUMERIC:return r.getBitsLength(t);case i.KANJI:return s.getBitsLength(t);case i.BYTE:return o.getBitsLength(t)}}function g(t,e){var a,c=i.getBestModeForData(t);if((a=i.from(e,c))!==i.BYTE&&a.bit<c.bit)throw new Error('"'+t+'" cannot be encoded with mode '+i.toString(a)+".\n Suggested mode is: "+i.toString(c));switch(a!==i.KANJI||l.isKanjiModeEnabled()||(a=i.BYTE),a){case i.NUMERIC:return new n(t);case i.ALPHANUMERIC:return new r(t);case i.KANJI:return new s(t);case i.BYTE:return new o(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t}),[])},e.fromString=function(t,a){for(var n=function(t,e){for(var a={},n={start:{}},r=["start"],o=0;o<t.length;o++){for(var s=t[o],c=[],l=0;l<s.length;l++){var u=s[l],d=""+o+l;c.push(d),a[d]={node:u,lastCount:0},n[d]={};for(var b=0;b<r.length;b++){var h=r[b];a[h]&&a[h].node.mode===u.mode?(n[h][d]=f(a[h].lastCount+u.length,u.mode)-f(a[h].lastCount,u.mode),a[h].lastCount+=u.length):(a[h]&&(a[h].lastCount=u.length),n[h][d]=f(u.length,u.mode)+4+i.getCharCountIndicator(u.mode,e))}}r=c}for(b=0;b<r.length;b++)n[r[b]].end=0;return{map:n,table:a}}(function(t){for(var e=[],a=0;a<t.length;a++){var n=t[a];switch(n.mode){case i.NUMERIC:e.push([n,{data:n.data,mode:i.ALPHANUMERIC,length:n.length},{data:n.data,mode:i.BYTE,length:n.length}]);break;case i.ALPHANUMERIC:e.push([n,{data:n.data,mode:i.BYTE,length:n.length}]);break;case i.KANJI:e.push([n,{data:n.data,mode:i.BYTE,length:d(n.data)}]);break;case i.BYTE:e.push([{data:n.data,mode:i.BYTE,length:d(n.data)}])}}return e}(h(t,l.isKanjiModeEnabled())),a),r=u.find_path(n.map,"start","end"),o=[],s=1;s<r.length-1;s++)o.push(n.table[r[s]].node);return e.fromArray(o.reduce((function(t,e){var a=t.length-1>=0?t[t.length-1]:null;return a&&a.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[]))},e.rawSplit=function(t){return e.fromArray(h(t,l.isKanjiModeEnabled()))}},yKow:function(t,e,a){var i=a("e/Dd"),n=a("NPxG"),r=a("ekOh"),o=a("u/Db"),s=a("J6Nv"),c=a("7uVY"),l=i.getBCHDigit(7973);function u(t,e){return o.getCharCountIndicator(t,e)+4}function d(t,e){var a=0;return t.forEach((function(t){var i=u(t.mode,e);a+=i+t.getBitsLength()})),a}e.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,a){if(!s.isValid(t))throw new Error("Invalid QR Code version");void 0===a&&(a=o.BYTE);var r=8*(i.getSymbolTotalCodewords(t)-n.getTotalCodewordsCount(t,e));if(a===o.MIXED)return r;var c=r-u(a,t);switch(a){case o.NUMERIC:return Math.floor(c/10*3);case o.ALPHANUMERIC:return Math.floor(c/11*2);case o.KANJI:return Math.floor(c/13);case o.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,a){var i,n=r.from(a,r.M);if(c(t)){if(t.length>1)return function(t,a){for(var i=1;i<=40;i++)if(d(t,i)<=e.getCapacity(i,a,o.MIXED))return i}(t,n);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,a,i){for(var n=1;n<=40;n++)if(a<=e.getCapacity(n,i,t))return n}(i.mode,i.getLength(),n)},e.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;i.getBCHDigit(e)-l>=0;)e^=7973<<i.getBCHDigit(e)-l;return t<<12|e}}}]);