(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Y71p:function(e,t,r){"use strict";r.r(t);var o=r("ofXK"),i=r("3Pt+"),a=r("PCNd"),s=r("tyNb"),n=r("fXoL");let c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Ib({type:e,selectors:[["app-users"]],decls:1,vars:0,template:function(e,t){1&e&&n.Pb(0,"router-outlet")},directives:[s.g],styles:[""]}),e})();var l=r("I9ts"),u=r("M9IT"),m=r("+0xr"),b=r("Dh3D"),d=r("qXBG");let f=(()=>{class e{constructor(){this.userData=[{id:1,username:"Rafeeq",password:"123",confirmPassword:"123",icNo:"12345678",email:"rafeeq@gmail.com",userType:100,mobileNo:89765478},{id:2,username:"Basha",password:"123",confirmPassword:"123",icNo:"48784976",email:"Basha@gmail.com",userType:108,mobileNo:83767658},{id:3,username:"Rahman",password:"123",confirmPassword:"123",icNo:"87676765",email:"rahman@gmail.com",userType:106,mobileNo:87987654},{id:4,username:"Rilwan",password:"123",confirmPassword:"123",icNo:"66676564",email:"rilwan@gmail.com",userType:104,mobileNo:88879876},{id:5,username:"Irfan",password:"123",confirmPassword:"123",icNo:"22324567",email:"irfan@gmail.com",userType:105,mobileNo:89788879},{id:6,username:"Jamal",password:"123",confirmPassword:"123",icNo:"11123456",email:"jamal@gmail.com",userType:100,mobileNo:88888765}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=r("yTNM"),h=r("kmnG"),w=r("qFsG");function v(e,t){1&e&&(n.Ub(0,"th",23),n.Ec(1," User Name "),n.Tb())}function g(e,t){if(1&e&&(n.Ub(0,"td",24),n.Ec(1),n.Tb()),2&e){const e=t.$implicit;n.Cb(1),n.Gc(" ",e.username," ")}}function y(e,t){1&e&&(n.Ub(0,"th",23),n.Ec(1," Ic No "),n.Tb())}function U(e,t){if(1&e&&(n.Ub(0,"td",24),n.Ec(1),n.Tb()),2&e){const e=t.$implicit;n.Cb(1),n.Gc(" ",e.icNo," ")}}function T(e,t){1&e&&(n.Ub(0,"th",23),n.Ec(1," Email "),n.Tb())}function D(e,t){if(1&e&&(n.Ub(0,"td",24),n.Ec(1),n.Tb()),2&e){const e=t.$implicit;n.Cb(1),n.Gc(" ",e.email," ")}}function C(e,t){1&e&&(n.Ub(0,"th",23),n.Ec(1," User Type "),n.Tb())}function S(e,t){if(1&e&&(n.Ub(0,"td",24),n.Ec(1),n.Tb()),2&e){const e=t.$implicit;n.Cb(1),n.Gc(" ",e.userType," ")}}function P(e,t){1&e&&(n.Ub(0,"th",23),n.Ec(1," Mobile No "),n.Tb())}function N(e,t){if(1&e&&(n.Ub(0,"td",24),n.Ec(1),n.Tb()),2&e){const e=t.$implicit;n.Cb(1),n.Gc(" ",e.mobileNo," ")}}function M(e,t){1&e&&(n.Ub(0,"th",23),n.Ec(1,"Action"),n.Tb())}function E(e,t){if(1&e){const e=n.Vb();n.Ub(0,"td",25),n.cc("click",(function(r){n.wc(e);const o=t.$implicit;return n.gc().editUser(o)})),n.Ec(1,"Edit"),n.Tb()}}function k(e,t){1&e&&(n.Ub(0,"td",28),n.Ec(1," No Record Found"),n.Tb())}function R(e,t){1&e&&(n.Sb(0,26),n.Dc(1,k,2,0,"td",27),n.Rb())}function I(e,t){1&e&&n.Pb(0,"tr",29)}function V(e,t){1&e&&n.Pb(0,"tr",30)}function O(e,t){1&e&&n.Pb(0,"tr",32)}const G=function(){return["noRecord"]};function F(e,t){1&e&&(n.Sb(0),n.Dc(1,O,1,0,"tr",31),n.Rb()),2&e&&(n.Cb(1),n.mc("matFooterRowDef",n.oc(1,G)))}const q=function(){return[5,50,100]};let A=(()=>{class e{constructor(e,t,r,o){this.authService=e,this.router=t,this.userService=r,this.apiService=o,this.columnHeaders=["username","icNo","email","userType","mobileNo","action"]}ngOnInit(){this.userDetails=this.userService.userData,this.dataSource=new m.o(this.userDetails),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}redirectToRegistration(){this.router.navigate(["users","registration"])}editUser(e){this.userService.editUserDetail=e,this.router.navigate(["users","registration"])}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(d.a),n.Ob(s.c),n.Ob(f),n.Ob(p.a))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-dashboard"]],viewQuery:function(e,t){var r;1&e&&(n.Bc(u.a,!0),n.Bc(b.a,!0)),2&e&&(n.tc(r=n.dc())&&(t.paginator=r.first),n.tc(r=n.dc())&&(t.sort=r.first))},decls:36,vars:7,consts:[[1,"container-fluid"],[1,"filter-box"],["type","button",1,"btn","bgc-primary",3,"click"],[1,"table-box","mat-elevation-z8"],[1,"flex-sb"],[1,"header-2","table-header"],[1,"fl-jc-rg","mg-rt-10"],["matInput","","placeholder","Search","autocomplete","off",3,"keyup"],["mat-table","","matSort","",1,"full-width",3,"dataSource"],["matColumnDef","username"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","icNo"],["matColumnDef","email"],["matColumnDef","userType"],["matColumnDef","mobileNo"],["matColumnDef","action"],["class","link-label","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","noRecord",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"link-label",3,"click"],["matColumnDef","noRecord"],["mat-footer-cell","","colspan","6","class","ta-center",4,"matFooterCellDef"],["mat-footer-cell","","colspan","6",1,"ta-center"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""]],template:function(e,t){1&e&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"button",2),n.cc("click",(function(e){return t.redirectToRegistration()})),n.Ec(3,"Add User"),n.Tb(),n.Tb(),n.Ub(4,"div",3),n.Ub(5,"div",4),n.Ub(6,"h2",5),n.Ec(7,"Users Dashboard"),n.Tb(),n.Ub(8,"mat-form-field",6),n.Ub(9,"mat-label"),n.Ec(10,"Search"),n.Tb(),n.Ub(11,"input",7),n.cc("keyup",(function(e){return t.applyFilter(e)})),n.Tb(),n.Tb(),n.Tb(),n.Ub(12,"table",8),n.Sb(13,9),n.Dc(14,v,2,0,"th",10),n.Dc(15,g,2,1,"td",11),n.Rb(),n.Sb(16,12),n.Dc(17,y,2,0,"th",10),n.Dc(18,U,2,1,"td",11),n.Rb(),n.Sb(19,13),n.Dc(20,T,2,0,"th",10),n.Dc(21,D,2,1,"td",11),n.Rb(),n.Sb(22,14),n.Dc(23,C,2,0,"th",10),n.Dc(24,S,2,1,"td",11),n.Rb(),n.Sb(25,15),n.Dc(26,P,2,0,"th",10),n.Dc(27,N,2,1,"td",11),n.Rb(),n.Sb(28,16),n.Dc(29,M,2,0,"th",10),n.Dc(30,E,2,0,"td",17),n.Rb(),n.Dc(31,R,2,0,"ng-container",18),n.Dc(32,I,1,0,"tr",19),n.Dc(33,V,1,0,"tr",20),n.Dc(34,F,2,2,"ng-container",21),n.Tb(),n.Pb(35,"mat-paginator",22),n.Tb(),n.Tb()),2&e&&(n.Cb(12),n.mc("dataSource",t.dataSource),n.Cb(19),n.mc("ngIf",!t.userDetails||0===t.userDetails.length),n.Cb(1),n.mc("matHeaderRowDef",t.columnHeaders),n.Cb(1),n.mc("matRowDefColumns",t.columnHeaders),n.Cb(1),n.mc("ngIf",!t.userDetails||0===t.userDetails.length),n.Cb(1),n.mc("pageSizeOptions",n.oc(6,q)))},directives:[h.b,h.e,w.b,m.n,b.a,m.c,m.i,m.b,o.k,m.k,m.m,u.a,m.h,b.b,m.a,m.e,m.d,m.j,m.l,m.g,m.f],styles:[""]}),e})();var $=r("dK5w"),j=r("0IaG"),x=r("d3UM"),H=r("FKr1");function L(e,t){if(1&e&&(n.Ub(0,"mat-option",17),n.Ec(1),n.Tb()),2&e){const e=t.$implicit;n.mc("value",e.value),n.Cb(1),n.Gc(" ",e.viewValue," ")}}const B=[{path:"",component:c,canActivateChild:[l.a],children:[{path:"",component:A},{path:"registration",component:(()=>{class e{constructor(e,t,r,o){this.dialog=e,this.router=t,this.userService=r,this.apiService=o,this.userTypeOptions=[{value:100,viewValue:"IPA"},{value:114,viewValue:"Admin"},{value:115,viewValue:"Dual Role"},{value:101,viewValue:"Prime Minister's Office"},{value:102,viewValue:"Ministry of Finance and Economy"},{value:103,viewValue:"Ministry of Defence"},{value:104,viewValue:"Ministry of Home Affairs"},{value:105,viewValue:"Ministry of Foreign Affairs"},{value:106,viewValue:"Ministry of Education"},{value:107,viewValue:"Ministry of Primary Resources and Tourism"},{value:108,viewValue:"Ministry of Development"},{value:109,viewValue:"Ministry of Culture, Youth and Sports"},{value:110,viewValue:"Ministry of Health"},{value:111,viewValue:"Ministry of Religious Affairs"},{value:112,viewValue:"Ministry of Transport and Infocommunications"},{value:113,viewValue:"Ministry of Energy"}]}ngOnInit(){if(this.formGroup=new i.f({username:new i.c("",[i.s.required]),email:new i.c("",[i.s.required,i.s.email]),password:new i.c("",[i.s.required,this.PasswordValidation.bind(this)]),confirmPassword:new i.c("",[i.s.required,this.confirmPassValidation.bind(this)]),userType:new i.c("",[i.s.required]),mobileNo:new i.c("",[i.s.required,i.s.pattern(/^[0-9]{7}$/)])}),this.userService.editUserDetail){console.clear(),console.log("password",this.userService.editUserDetail.password);const e={username:this.userService.editUserDetail.username,email:this.userService.editUserDetail.email,password:this.userService.editUserDetail.password,confirmPassword:this.userService.editUserDetail.confirmPassword,userType:this.userService.editUserDetail.userType,mobileNo:this.userService.editUserDetail.mobileNo};this.password=this.userService.editUserDetail.password,this.confirmPassword=this.userService.editUserDetail.confirmPassword,this.formGroup.setValue(e)}}onSubmit(e){let t=!1;if(e.valid){const r=Object.assign({},e.value),o={fullname:r.username,email:r.email,password:r.password,confirmPassword:r.confirmPassword,userType:r.userType+"",phoneNumber:r.mobileNo,api_key:"ngam"};this.userService.editUserDetail&&(this.userService.userData=this.userService.userData.map(e=>e.id===this.userService.editUserDetail.id?r:e),t=!0),this.apiService.registerUser(o).subscribe(e=>{this.showModalPoppup(t,!1)},e=>{this.showModalPoppup(null,!0)})}}showModalPoppup(e,t){let r="/assets/images/success-icon.png",o=`User details has been ${e?"updated":"added"} successfully`;t&&(r="/assets/images/alert-icon.jpg",o="User not saved"),this.dialog.open($.a,{data:{imgUrl:r,msg:o,buttonType:"normal"}}).afterClosed().subscribe(e=>{t||this.router.navigate(["users"])})}mobileOrIcLengthValidator(e){const t=e.value;return t&&8!==t.length?{invalidLength:!0}:null}PasswordValidation(e){return this.formGroup&&this.formGroup.controls.confirmPassword.dirty&&e.value!==this.confirmPassword?{invalidMatch:!0}:null}confirmPassValidation(e){return this.formGroup&&this.formGroup.controls.password.dirty&&e.value!==this.password?{invalidMatch:!0}:null}redirect(){this.formGroup.dirty?this.dialog.open($.a,{data:{imgUrl:"/assets/images/warning-icon.png",msg:"All Unsaved data will be lost, do you want to contnue",buttonType:"action"}}).afterClosed().subscribe(e=>{e&&this.router.navigate(["users"])}):this.router.navigate(["users"])}ngOnDestroy(){this.formGroup.reset()}keyDown(e){return e.keyCode>=48&&e.keyCode<=57&&e.shiftKey?(e.preventDefault(),!1):e.keyCode>=8&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||void e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(j.b),n.Ob(s.c),n.Ob(f),n.Ob(p.a))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-registration"]],decls:38,vars:4,consts:[[1,"container-fluid"],[1,"row","course-form"],[1,"col-xs-12","col-sm-10","col-md-6","col-sm-offset-1","col-md-offset-2","mg-auto"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","autocomplete","off"],["matInput","","formControlName","email"],["matInput","","formControlName","password","type","password",3,"ngModel","ngModelChange"],["type","password","matInput","","formControlName","confirmPassword","autocomplete","off",3,"ngModel","ngModelChange"],["formControlName","userType"],[3,"value",4,"ngFor","ngForOf"],[1,"mobile-code"],["maxLength","7","matInput","","formControlName","mobileNo","autocomplete","off",3,"keydown"],[1,"form-btn"],["type","button",1,"btn","btn-dark","mg-rt-auto",3,"click"],["type","buton",1,"btn","btn-secondary","reset-btn"],["type","submit",1,"btn","bgc-primary"],[3,"value"]],template:function(e,t){1&e&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Ub(3,"form",3),n.cc("ngSubmit",(function(e){return t.onSubmit(t.formGroup)})),n.Ub(4,"mat-form-field",4),n.Ub(5,"mat-label"),n.Ec(6,"User Name"),n.Tb(),n.Pb(7,"input",5),n.Tb(),n.Ub(8,"mat-form-field",4),n.Ub(9,"mat-label"),n.Ec(10,"Email"),n.Tb(),n.Pb(11,"input",6),n.Tb(),n.Ub(12,"mat-form-field",4),n.Ub(13,"mat-label"),n.Ec(14,"Password"),n.Tb(),n.Ub(15,"input",7),n.cc("ngModelChange",(function(e){return t.password=e})),n.Tb(),n.Tb(),n.Ub(16,"mat-form-field",4),n.Ub(17,"mat-label"),n.Ec(18,"Confirm Password"),n.Tb(),n.Ub(19,"input",8),n.cc("ngModelChange",(function(e){return t.confirmPassword=e})),n.Tb(),n.Tb(),n.Ub(20,"mat-form-field",4),n.Ub(21,"mat-label"),n.Ec(22,"User Type"),n.Tb(),n.Ub(23,"mat-select",9),n.Dc(24,L,2,2,"mat-option",10),n.Tb(),n.Tb(),n.Ub(25,"mat-form-field",4),n.Ub(26,"mat-label"),n.Ec(27,"Mobile No"),n.Tb(),n.Ub(28,"span",11),n.Ec(29,"+673"),n.Tb(),n.Ub(30,"input",12),n.cc("keydown",(function(e){return t.keyDown(e)})),n.Tb(),n.Tb(),n.Ub(31,"div",13),n.Ub(32,"button",14),n.cc("click",(function(e){return t.redirect()})),n.Ec(33,"Back"),n.Tb(),n.Ub(34,"button",15),n.Ec(35,"Reset"),n.Tb(),n.Ub(36,"button",16),n.Ec(37,"Submit"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&e&&(n.Cb(3),n.mc("formGroup",t.formGroup),n.Cb(12),n.mc("ngModel",t.password),n.Cb(4),n.mc("ngModel",t.confirmPassword),n.Cb(5),n.mc("ngForOf",t.userTypeOptions))},directives:[i.t,i.n,i.g,h.b,h.e,w.b,i.b,i.m,i.e,x.a,o.j,H.n],styles:[".course-form[_ngcontent-%COMP%]{padding:20px 0}.reset-btn[_ngcontent-%COMP%]{margin-right:10px}"]}),e})()}]}];let K=(()=>{class e{}return e.\u0275mod=n.Mb({type:e}),e.\u0275inj=n.Lb({factory:function(t){return new(t||e)},imports:[[s.f.forChild(B)],s.f]}),e})();r.d(t,"UserModule",(function(){return z}));let z=(()=>{class e{}return e.\u0275mod=n.Mb({type:e}),e.\u0275inj=n.Lb({factory:function(t){return new(t||e)},imports:[[o.c,i.r,K,a.a]]}),e})()}}]);