function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Y71p:function(e,t,i){"use strict";i.r(t);var r,a,o=i("ofXK"),n=i("3Pt+"),s=i("PCNd"),c=i("tyNb"),l=i("fXoL"),u=((r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Ib({type:r,selectors:[["app-users"]],decls:1,vars:0,template:function(e,t){1&e&&l.Pb(0,"router-outlet")},directives:[c.g],styles:[""]}),r),m=i("I9ts"),f=i("M9IT"),b=i("+0xr"),d=i("Dh3D"),p=i("qXBG"),h=((a=function e(){_classCallCheck(this,e),this.userData=[{id:1,username:"Rafeeq",password:"123",confirmPassword:"123",icNo:"12345678",email:"rafeeq@gmail.com",userType:100,mobileNo:89765478},{id:2,username:"Basha",password:"123",confirmPassword:"123",icNo:"48784976",email:"Basha@gmail.com",userType:108,mobileNo:83767658},{id:3,username:"Rahman",password:"123",confirmPassword:"123",icNo:"87676765",email:"rahman@gmail.com",userType:106,mobileNo:87987654},{id:4,username:"Rilwan",password:"123",confirmPassword:"123",icNo:"66676564",email:"rilwan@gmail.com",userType:104,mobileNo:88879876},{id:5,username:"Irfan",password:"123",confirmPassword:"123",icNo:"22324567",email:"irfan@gmail.com",userType:105,mobileNo:89788879},{id:6,username:"Jamal",password:"123",confirmPassword:"123",icNo:"11123456",email:"jamal@gmail.com",userType:100,mobileNo:88888765}]}).\u0275fac=function(e){return new(e||a)},a.\u0275prov=l.Kb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),v=i("yTNM"),w=i("kmnG"),y=i("qFsG");function g(e,t){1&e&&(l.Ub(0,"th",23),l.Ec(1," User Name "),l.Tb())}function U(e,t){if(1&e&&(l.Ub(0,"td",24),l.Ec(1),l.Tb()),2&e){var i=t.$implicit;l.Cb(1),l.Gc(" ",i.username," ")}}function T(e,t){1&e&&(l.Ub(0,"th",23),l.Ec(1," Ic No "),l.Tb())}function C(e,t){if(1&e&&(l.Ub(0,"td",24),l.Ec(1),l.Tb()),2&e){var i=t.$implicit;l.Cb(1),l.Gc(" ",i.icNo," ")}}function D(e,t){1&e&&(l.Ub(0,"th",23),l.Ec(1," Email "),l.Tb())}function k(e,t){if(1&e&&(l.Ub(0,"td",24),l.Ec(1),l.Tb()),2&e){var i=t.$implicit;l.Cb(1),l.Gc(" ",i.email," ")}}function S(e,t){1&e&&(l.Ub(0,"th",23),l.Ec(1," User Type "),l.Tb())}function P(e,t){if(1&e&&(l.Ub(0,"td",24),l.Ec(1),l.Tb()),2&e){var i=t.$implicit;l.Cb(1),l.Gc(" ",i.userType," ")}}function N(e,t){1&e&&(l.Ub(0,"th",23),l.Ec(1," Mobile No "),l.Tb())}function M(e,t){if(1&e&&(l.Ub(0,"td",24),l.Ec(1),l.Tb()),2&e){var i=t.$implicit;l.Cb(1),l.Gc(" ",i.mobileNo," ")}}function E(e,t){1&e&&(l.Ub(0,"th",23),l.Ec(1,"Action"),l.Tb())}function R(e,t){if(1&e){var i=l.Vb();l.Ub(0,"td",25),l.cc("click",(function(e){l.wc(i);var r=t.$implicit;return l.gc().editUser(r)})),l.Ec(1,"Edit"),l.Tb()}}function I(e,t){1&e&&(l.Ub(0,"td",28),l.Ec(1," No Record Found"),l.Tb())}function O(e,t){1&e&&(l.Sb(0,26),l.Dc(1,I,2,0,"td",27),l.Rb())}function V(e,t){1&e&&l.Pb(0,"tr",29)}function G(e,t){1&e&&l.Pb(0,"tr",30)}function _(e,t){1&e&&l.Pb(0,"tr",32)}var F=function(){return["noRecord"]};function q(e,t){1&e&&(l.Sb(0),l.Dc(1,_,1,0,"tr",31),l.Rb()),2&e&&(l.Cb(1),l.mc("matFooterRowDef",l.oc(1,F)))}var j,A=function(){return[5,50,100]},x=((j=function(){function e(t,i,r,a){_classCallCheck(this,e),this.authService=t,this.router=i,this.userService=r,this.apiService=a,this.columnHeaders=["username","icNo","email","userType","mobileNo","action"]}return _createClass(e,[{key:"ngOnInit",value:function(){this.userDetails=this.userService.userData,this.dataSource=new b.o(this.userDetails),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"applyFilter",value:function(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}},{key:"redirectToRegistration",value:function(){this.router.navigate(["users","registration"])}},{key:"editUser",value:function(e){this.userService.editUserDetail=e,this.router.navigate(["users","registration"])}}]),e}()).\u0275fac=function(e){return new(e||j)(l.Ob(p.a),l.Ob(c.c),l.Ob(h),l.Ob(v.a))},j.\u0275cmp=l.Ib({type:j,selectors:[["app-dashboard"]],viewQuery:function(e,t){var i;1&e&&(l.Bc(f.a,!0),l.Bc(d.a,!0)),2&e&&(l.tc(i=l.dc())&&(t.paginator=i.first),l.tc(i=l.dc())&&(t.sort=i.first))},decls:36,vars:7,consts:[[1,"container-fluid"],[1,"filter-box"],["type","button",1,"btn","bgc-primary",3,"click"],[1,"table-box","mat-elevation-z8"],[1,"flex-sb"],[1,"header-2","table-header"],[1,"fl-jc-rg","mg-rt-10"],["matInput","","placeholder","Search","autocomplete","off",3,"keyup"],["mat-table","","matSort","",1,"full-width",3,"dataSource"],["matColumnDef","username"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","icNo"],["matColumnDef","email"],["matColumnDef","userType"],["matColumnDef","mobileNo"],["matColumnDef","action"],["class","link-label","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","noRecord",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"link-label",3,"click"],["matColumnDef","noRecord"],["mat-footer-cell","","colspan","6","class","ta-center",4,"matFooterCellDef"],["mat-footer-cell","","colspan","6",1,"ta-center"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""]],template:function(e,t){1&e&&(l.Ub(0,"div",0),l.Ub(1,"div",1),l.Ub(2,"button",2),l.cc("click",(function(e){return t.redirectToRegistration()})),l.Ec(3,"Add User"),l.Tb(),l.Tb(),l.Ub(4,"div",3),l.Ub(5,"div",4),l.Ub(6,"h2",5),l.Ec(7,"Users Dashboard"),l.Tb(),l.Ub(8,"mat-form-field",6),l.Ub(9,"mat-label"),l.Ec(10,"Search"),l.Tb(),l.Ub(11,"input",7),l.cc("keyup",(function(e){return t.applyFilter(e)})),l.Tb(),l.Tb(),l.Tb(),l.Ub(12,"table",8),l.Sb(13,9),l.Dc(14,g,2,0,"th",10),l.Dc(15,U,2,1,"td",11),l.Rb(),l.Sb(16,12),l.Dc(17,T,2,0,"th",10),l.Dc(18,C,2,1,"td",11),l.Rb(),l.Sb(19,13),l.Dc(20,D,2,0,"th",10),l.Dc(21,k,2,1,"td",11),l.Rb(),l.Sb(22,14),l.Dc(23,S,2,0,"th",10),l.Dc(24,P,2,1,"td",11),l.Rb(),l.Sb(25,15),l.Dc(26,N,2,0,"th",10),l.Dc(27,M,2,1,"td",11),l.Rb(),l.Sb(28,16),l.Dc(29,E,2,0,"th",10),l.Dc(30,R,2,0,"td",17),l.Rb(),l.Dc(31,O,2,0,"ng-container",18),l.Dc(32,V,1,0,"tr",19),l.Dc(33,G,1,0,"tr",20),l.Dc(34,q,2,2,"ng-container",21),l.Tb(),l.Pb(35,"mat-paginator",22),l.Tb(),l.Tb()),2&e&&(l.Cb(12),l.mc("dataSource",t.dataSource),l.Cb(19),l.mc("ngIf",!t.userDetails||0===t.userDetails.length),l.Cb(1),l.mc("matHeaderRowDef",t.columnHeaders),l.Cb(1),l.mc("matRowDefColumns",t.columnHeaders),l.Cb(1),l.mc("ngIf",!t.userDetails||0===t.userDetails.length),l.Cb(1),l.mc("pageSizeOptions",l.oc(6,A)))},directives:[w.b,w.e,y.b,b.n,d.a,b.c,b.i,b.b,o.k,b.k,b.m,f.a,b.h,d.b,b.a,b.e,b.d,b.j,b.l,b.g,b.f],styles:[""]}),j),H=i("dK5w"),L=i("0IaG"),$=i("d3UM"),B=i("FKr1");function K(e,t){if(1&e&&(l.Ub(0,"mat-option",17),l.Ec(1),l.Tb()),2&e){var i=t.$implicit;l.mc("value",i.value),l.Cb(1),l.Gc(" ",i.viewValue," ")}}var z,J,X=[{path:"",component:u,canActivateChild:[m.a],children:[{path:"",component:x},{path:"registration",component:(z=function(){function e(t,i,r,a){_classCallCheck(this,e),this.dialog=t,this.router=i,this.userService=r,this.apiService=a,this.userTypeOptions=[{value:100,viewValue:"IPA"},{value:114,viewValue:"Admin"},{value:115,viewValue:"Dual Role"},{value:101,viewValue:"Prime Minister's Office"},{value:102,viewValue:"Ministry of Finance and Economy"},{value:103,viewValue:"Ministry of Defence"},{value:104,viewValue:"Ministry of Home Affairs"},{value:105,viewValue:"Ministry of Foreign Affairs"},{value:106,viewValue:"Ministry of Education"},{value:107,viewValue:"Ministry of Primary Resources and Tourism"},{value:108,viewValue:"Ministry of Development"},{value:109,viewValue:"Ministry of Culture, Youth and Sports"},{value:110,viewValue:"Ministry of Health"},{value:111,viewValue:"Ministry of Religious Affairs"},{value:112,viewValue:"Ministry of Transport and Infocommunications"},{value:113,viewValue:"Ministry of Energy"}]}return _createClass(e,[{key:"ngOnInit",value:function(){if(this.formGroup=new n.f({username:new n.c("",[n.s.required]),email:new n.c("",[n.s.required,n.s.email]),password:new n.c("",[n.s.required,this.PasswordValidation.bind(this)]),confirmPassword:new n.c("",[n.s.required,this.confirmPassValidation.bind(this)]),userType:new n.c("",[n.s.required]),mobileNo:new n.c("",[n.s.required,n.s.pattern(/^[0-9]{7}$/)])}),this.userService.editUserDetail){console.clear(),console.log("password",this.userService.editUserDetail.password);var e={username:this.userService.editUserDetail.username,email:this.userService.editUserDetail.email,password:this.userService.editUserDetail.password,confirmPassword:this.userService.editUserDetail.confirmPassword,userType:this.userService.editUserDetail.userType,mobileNo:this.userService.editUserDetail.mobileNo};this.password=this.userService.editUserDetail.password,this.confirmPassword=this.userService.editUserDetail.confirmPassword,this.formGroup.setValue(e)}}},{key:"onSubmit",value:function(e){var t=this,i=!1;if(e.valid){var r=Object.assign({},e.value),a={fullname:r.username,email:r.email,password:r.password,confirmPassword:r.confirmPassword,userType:r.userType+"",phoneNumber:r.mobileNo,api_key:"ngam"};this.userService.editUserDetail&&(this.userService.userData=this.userService.userData.map((function(e){return e.id===t.userService.editUserDetail.id?r:e})),i=!0),this.apiService.registerUser(a).subscribe((function(e){t.showModalPoppup(i,!1)}),(function(e){t.showModalPoppup(null,!0)}))}}},{key:"showModalPoppup",value:function(e,t){var i=this,r="/assets/images/success-icon.png",a="User details has been ".concat(e?"updated":"added"," successfully");t&&(r="/assets/images/alert-icon.jpg",a="User not saved"),this.dialog.open(H.a,{data:{imgUrl:r,msg:a,buttonType:"normal"}}).afterClosed().subscribe((function(e){t||i.router.navigate(["users"])}))}},{key:"mobileOrIcLengthValidator",value:function(e){var t=e.value;return t&&8!==t.length?{invalidLength:!0}:null}},{key:"PasswordValidation",value:function(e){return this.formGroup&&this.formGroup.controls.confirmPassword.dirty&&e.value!==this.confirmPassword?{invalidMatch:!0}:null}},{key:"confirmPassValidation",value:function(e){return this.formGroup&&this.formGroup.controls.password.dirty&&e.value!==this.password?{invalidMatch:!0}:null}},{key:"redirect",value:function(){var e=this;this.formGroup.dirty?this.dialog.open(H.a,{data:{imgUrl:"/assets/images/warning-icon.png",msg:"All Unsaved data will be lost, do you want to contnue",buttonType:"action"}}).afterClosed().subscribe((function(t){t&&e.router.navigate(["users"])})):this.router.navigate(["users"])}},{key:"ngOnDestroy",value:function(){this.formGroup.reset()}},{key:"keyDown",value:function(e){return e.keyCode>=48&&e.keyCode<=57&&e.shiftKey?(e.preventDefault(),!1):e.keyCode>=8&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||void e.preventDefault()}}]),e}(),z.\u0275fac=function(e){return new(e||z)(l.Ob(L.b),l.Ob(c.c),l.Ob(h),l.Ob(v.a))},z.\u0275cmp=l.Ib({type:z,selectors:[["app-registration"]],decls:38,vars:4,consts:[[1,"container-fluid"],[1,"row","course-form"],[1,"col-xs-12","col-sm-10","col-md-6","col-sm-offset-1","col-md-offset-2","mg-auto"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","autocomplete","off"],["matInput","","formControlName","email"],["matInput","","formControlName","password","type","password",3,"ngModel","ngModelChange"],["type","password","matInput","","formControlName","confirmPassword","autocomplete","off",3,"ngModel","ngModelChange"],["formControlName","userType"],[3,"value",4,"ngFor","ngForOf"],[1,"mobile-code"],["maxLength","7","matInput","","formControlName","mobileNo","autocomplete","off",3,"keydown"],[1,"form-btn"],["type","button",1,"btn","btn-dark","mg-rt-auto",3,"click"],["type","buton",1,"btn","btn-secondary","reset-btn"],["type","submit",1,"btn","bgc-primary"],[3,"value"]],template:function(e,t){1&e&&(l.Ub(0,"div",0),l.Ub(1,"div",1),l.Ub(2,"div",2),l.Ub(3,"form",3),l.cc("ngSubmit",(function(e){return t.onSubmit(t.formGroup)})),l.Ub(4,"mat-form-field",4),l.Ub(5,"mat-label"),l.Ec(6,"User Name"),l.Tb(),l.Pb(7,"input",5),l.Tb(),l.Ub(8,"mat-form-field",4),l.Ub(9,"mat-label"),l.Ec(10,"Email"),l.Tb(),l.Pb(11,"input",6),l.Tb(),l.Ub(12,"mat-form-field",4),l.Ub(13,"mat-label"),l.Ec(14,"Password"),l.Tb(),l.Ub(15,"input",7),l.cc("ngModelChange",(function(e){return t.password=e})),l.Tb(),l.Tb(),l.Ub(16,"mat-form-field",4),l.Ub(17,"mat-label"),l.Ec(18,"Confirm Password"),l.Tb(),l.Ub(19,"input",8),l.cc("ngModelChange",(function(e){return t.confirmPassword=e})),l.Tb(),l.Tb(),l.Ub(20,"mat-form-field",4),l.Ub(21,"mat-label"),l.Ec(22,"User Type"),l.Tb(),l.Ub(23,"mat-select",9),l.Dc(24,K,2,2,"mat-option",10),l.Tb(),l.Tb(),l.Ub(25,"mat-form-field",4),l.Ub(26,"mat-label"),l.Ec(27,"Mobile No"),l.Tb(),l.Ub(28,"span",11),l.Ec(29,"+673"),l.Tb(),l.Ub(30,"input",12),l.cc("keydown",(function(e){return t.keyDown(e)})),l.Tb(),l.Tb(),l.Ub(31,"div",13),l.Ub(32,"button",14),l.cc("click",(function(e){return t.redirect()})),l.Ec(33,"Back"),l.Tb(),l.Ub(34,"button",15),l.Ec(35,"Reset"),l.Tb(),l.Ub(36,"button",16),l.Ec(37,"Submit"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&e&&(l.Cb(3),l.mc("formGroup",t.formGroup),l.Cb(12),l.mc("ngModel",t.password),l.Cb(4),l.mc("ngModel",t.confirmPassword),l.Cb(5),l.mc("ngForOf",t.userTypeOptions))},directives:[n.t,n.n,n.g,w.b,w.e,y.b,n.b,n.m,n.e,$.a,o.j,B.n],styles:[".course-form[_ngcontent-%COMP%]{padding:20px 0}.reset-btn[_ngcontent-%COMP%]{margin-right:10px}"]}),z)}]}],Y=((J=function e(){_classCallCheck(this,e)}).\u0275mod=l.Mb({type:J}),J.\u0275inj=l.Lb({factory:function(e){return new(e||J)},imports:[[c.f.forChild(X)],c.f]}),J);i.d(t,"UserModule",(function(){return W}));var Q,W=((Q=function e(){_classCallCheck(this,e)}).\u0275mod=l.Mb({type:Q}),Q.\u0275inj=l.Lb({factory:function(e){return new(e||Q)},imports:[[o.c,n.r,Y,s.a]]}),Q)}}]);