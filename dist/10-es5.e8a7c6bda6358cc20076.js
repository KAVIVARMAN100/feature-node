function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{uHdG:function(t,e,a){"use strict";a.r(e);var c,n=a("ofXK"),i=a("3Pt+"),o=a("PCNd"),r=a("tyNb"),l=a("I9ts"),s=a("fXoL"),d=((c=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||c)},c.\u0275cmp=s.Ib({type:c,selectors:[["app-reports"]],decls:1,vars:0,template:function(t,e){1&t&&s.Pb(0,"router-outlet")},directives:[r.g],styles:[""]}),c),b=a("M9IT"),u=a("+0xr"),m=a("Dh3D"),f=a("0IaG"),p=a("EUZL"),h=a("mroY"),g=a("kmnG"),v=a("qFsG"),C=a("OHc7");function D(t,e){1&t&&(s.Ub(0,"th",28),s.Ec(1," No "),s.Tb())}function w(t,e){if(1&t&&(s.Ub(0,"td",29),s.Ec(1),s.Tb()),2&t){var a=e.index;s.Cb(1),s.Gc(" ",a+1,"")}}function T(t,e){1&t&&(s.Ub(0,"th",30),s.Ec(1," Date "),s.Tb())}function y(t,e){if(1&t&&(s.Ub(0,"td",29),s.Ec(1),s.hc(2,"dateFormat"),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",s.jc(2,1,a.attended_date,"dd/mm/yyyy")," ")}}function U(t,e){1&t&&(s.Ub(0,"th",30),s.Ec(1," Time "),s.Tb())}function S(t,e){if(1&t&&(s.Ub(0,"td",31),s.Ec(1),s.hc(2,"dateFormat"),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",s.jc(2,1,a.attended_date,"time")," ")}}function O(t,e){1&t&&s.Pb(0,"tr",32)}function _(t,e){1&t&&s.Pb(0,"tr",33)}function k(t,e){if(1&t&&(s.Ub(0,"div",34),s.Ec(1),s.Tb()),2&t){var a=s.gc();s.Cb(1),s.Fc(a.langObj.val.noRecordFound)}}var E,j=function(){return[10,25,100]},I=((E=function(){function t(e,a){_classCallCheck(this,t),this.data=e,this.langService=a,this.langObj={},this.attendanceHeaders=["position","date","time"],this.langService.setLang(this.langService.defaultLangCode),this.langObj=this.langService.langDetail}return _createClass(t,[{key:"ngOnInit",value:function(){this.attendanceDetails=this.data.attendanceDetails,this.dataSource=new u.o(this.data.attendanceDetails)}},{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"exportToExcel",value:function(){var t=[["Candidate Name","Course Name","Start Date","End Date","Days"]],e=[["Date","Time"]],a=this.data.start_date.split(" ")[0];a=a.split("-");var c=this.data.end_date.split(" ")[0];c=c.split("-"),t.push([this.data.candidateName,this.data.course_name,"".concat(a[2],"/").concat(a[1],"/").concat(a[0]),"".concat(c[2],"/").concat(c[1],"/").concat(c[0]),this.data.days]);for(var n=0;n<this.data.attendanceDetails.length;n++){var i=this.data.attendanceDetails[n].attended_date.split(" "),o=i[0];o=o.split("-"),o="".concat(o[2],"/").concat(o[1],"/").concat(o[0]);var r=i[1],l=r.split(":"),s=+r.split(":")[0],d="AM";12==s&&(d="PM"),0==s&&(s=12,d="AM"),s>12&&(s-=12,d="PM"),e.push([o,"".concat(s,":").concat(l[1],":").concat(l[2]," ").concat(d)])}var b=p.utils.book_new(),u=p.utils.aoa_to_sheet(t),m=p.utils.aoa_to_sheet(e);new Date,p.utils.book_append_sheet(b,u,"Course Detail"),p.utils.book_append_sheet(b,m,"Attendance Details"),u["!cols"]=[{wch:30},{wch:30},{wch:20},{wch:20},{wch:20}],m["!cols"]=[{wch:30},{wch:30}],p.writeFile(b,"candiate_attendace_details.xlsx")}}]),t}()).\u0275fac=function(t){return new(t||E)(s.Ob(f.a),s.Ob(h.a))},E.\u0275cmp=s.Ib({type:E,selectors:[["app-attendance"]],viewQuery:function(t,e){var a;1&t&&(s.Jc(b.a,!0),s.Jc(m.a,!0)),2&t&&(s.tc(a=s.dc())&&(e.paginator=a.first),s.tc(a=s.dc())&&(e.sort=a.first))},decls:57,vars:24,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"course-detail-box"],[1,"grid-container"],[1,"grid-row"],[1,"label-box"],[1,"grid-row","download-box"],[1,"img-box-25","img",3,"click"],["src","/assets/images/download.png","title","Download"],[1,"table-box","mat-elevation-z8"],[1,"flex-sb","dashboard-filters"],[1,"header-2","table-header"],[1,"fl-jc-rg","mg-rt-10"],["matInput","","autocomplete","off",3,"placeholder","keyup"],["mat-table","","matSort","",1,"full-width",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","time"],["mat-cell","","class","announcement-desc",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-record-found",4,"ngIf"],[3,"pageSizeOptions"],["align","end"],["mat-button","","mat-dialog-close","",1,"btn","bgc-primary"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"announcement-desc"],["mat-header-row",""],["mat-row",""],[1,"no-record-found"]],template:function(t,e){1&t&&(s.Ub(0,"h2",0),s.Ec(1,"Attendance Details"),s.Tb(),s.Ub(2,"mat-dialog-content",1),s.Pb(3,"div",2),s.Ub(4,"div",3),s.Ub(5,"div",4),s.Ub(6,"div",5),s.Ec(7),s.Tb(),s.Ub(8,"div"),s.Ec(9),s.Tb(),s.Tb(),s.Ub(10,"div",4),s.Ub(11,"div",5),s.Ec(12),s.Tb(),s.Ub(13,"div"),s.Ec(14),s.hc(15,"dateFormat"),s.Tb(),s.Tb(),s.Ub(16,"div",4),s.Ub(17,"div",5),s.Ec(18),s.Tb(),s.Ub(19,"div"),s.Ec(20),s.hc(21,"dateFormat"),s.Tb(),s.Tb(),s.Ub(22,"div",4),s.Ub(23,"div",5),s.Ec(24),s.Tb(),s.Ub(25,"div"),s.Ec(26),s.Tb(),s.Tb(),s.Ub(27,"div",6),s.Ub(28,"div",5),s.Ec(29),s.Tb(),s.Ub(30,"div",7),s.cc("click",(function(t){return e.exportToExcel()})),s.Pb(31,"img",8),s.Tb(),s.Tb(),s.Tb(),s.Ub(32,"div",9),s.Ub(33,"div",10),s.Ub(34,"h2",11),s.Ec(35),s.Tb(),s.Ub(36,"mat-form-field",12),s.Ub(37,"mat-label"),s.Ec(38),s.Tb(),s.Ub(39,"input",13),s.cc("keyup",(function(t){return e.applyFilter(t)})),s.Tb(),s.Tb(),s.Tb(),s.Ub(40,"table",14),s.Sb(41,15),s.Dc(42,D,2,0,"th",16),s.Dc(43,w,2,1,"td",17),s.Rb(),s.Sb(44,18),s.Dc(45,T,2,0,"th",19),s.Dc(46,y,3,4,"td",17),s.Rb(),s.Sb(47,20),s.Dc(48,U,2,0,"th",19),s.Dc(49,S,3,4,"td",21),s.Rb(),s.Dc(50,O,1,0,"tr",22),s.Dc(51,_,1,0,"tr",23),s.Tb(),s.Dc(52,k,2,1,"div",24),s.Pb(53,"mat-paginator",25),s.Tb(),s.Tb(),s.Ub(54,"mat-dialog-actions",26),s.Ub(55,"button",27),s.Ec(56,"Close"),s.Tb(),s.Tb()),2&t&&(s.Cb(7),s.Fc(e.langObj.val.course),s.Cb(2),s.Fc(e.data.course_name),s.Cb(3),s.Fc(e.langObj.val.startDate),s.Cb(2),s.Fc(s.jc(15,17,e.data.start_date,"dd/mm/yyyy")),s.Cb(4),s.Fc(e.langObj.val.endDate),s.Cb(2),s.Fc(s.jc(21,20,e.data.end_date,"dd/mm/yyyy")),s.Cb(4),s.Fc(e.langObj.val.days),s.Cb(2),s.Fc(e.data.days),s.Cb(3),s.Fc(e.langObj.val.exportToExcel),s.Cb(6),s.Fc(e.langObj.val.courseDashboard),s.Cb(3),s.Fc(e.langObj.val.search),s.Cb(1),s.mc("placeholder",e.langObj.val.search),s.Cb(1),s.mc("dataSource",e.dataSource),s.Cb(10),s.mc("matHeaderRowDef",e.attendanceHeaders),s.Cb(1),s.mc("matRowDefColumns",e.attendanceHeaders),s.Cb(1),s.mc("ngIf",!e.attendanceDetails||0===e.attendanceDetails.length),s.Cb(1),s.mc("pageSizeOptions",s.oc(23,j)))},directives:[f.h,f.e,g.b,g.e,v.b,u.n,m.a,u.c,u.i,u.b,u.k,u.m,n.k,b.a,f.c,f.d,u.h,u.a,m.b,u.j,u.l],pipes:[C.a],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));grid-gap:20px;justify-items:flex-start;border-radius:10px;padding:10px 22px;box-shadow:0 0 4px #b8b4b4;margin-top:7px}.description-box[_ngcontent-%COMP%]{margin-top:20px}.label-box[_ngcontent-%COMP%]{font-size:13px;color:#380c3c;font-weight:600;letter-spacing:1px}"]}),E),R=a("dK5w"),x=a("qXBG"),F=a("yTNM"),A=a("cxbk"),P=a("NFeN"),G=a("Qu3c"),H=a("X9+O");function $(t,e){if(1&t&&(s.Ub(0,"th",17),s.Ec(1),s.Tb()),2&t){var a=s.gc().$implicit,c=s.gc(2);s.Cb(1),s.Gc(" ",c.langObj.val[a]," ")}}function M(t,e){if(1&t){var a=s.Vb();s.Ub(0,"mat-icon",22),s.cc("click",(function(t){s.wc(a);var e=s.gc(2).$implicit;return s.gc(3).getCertificate(e)})),s.Ec(1,"get_app"),s.Tb()}}function z(t,e){if(1&t&&(s.Ub(0,"div"),s.Dc(1,M,2,0,"mat-icon",21),s.Tb()),2&t){var a=s.gc().$implicit;s.Cb(1),s.mc("ngIf","approved"===a.status)}}function L(t,e){if(1&t){var a=s.Vb();s.Ub(0,"mat-icon",24),s.cc("click",(function(t){s.wc(a);var e=s.gc(2).$implicit;return s.gc(3).getAttendanceDetails(e)})),s.Ec(1,"description"),s.Tb()}}function N(t,e){if(1&t&&(s.Ub(0,"div"),s.Dc(1,L,2,0,"mat-icon",23),s.Tb()),2&t){var a=s.gc().$implicit;s.Cb(1),s.mc("ngIf","approved"===a.status)}}function V(t,e){if(1&t&&(s.Ub(0,"div"),s.Ec(1),s.Tb()),2&t){var a=s.gc().$implicit,c=s.gc().$implicit,n=s.gc(2);s.Cb(1),s.Fc("department"===c?n.langObj.val.pmoDepartments[a[c]]:a[c])}}function J(t,e){if(1&t&&(s.Ub(0,"td",18),s.Dc(1,z,2,1,"div",19),s.Dc(2,N,2,1,"div",19),s.Dc(3,V,2,1,"div",20),s.Tb()),2&t){var a=s.gc().$implicit;s.mc("ngSwitch",a),s.Cb(1),s.mc("ngSwitchCase","certificate"),s.Cb(1),s.mc("ngSwitchCase","attendanceReport")}}function q(t,e){1&t&&(s.Sb(0,14),s.Dc(1,$,2,1,"th",15),s.Dc(2,J,4,3,"td",16),s.Rb()),2&t&&s.mc("matColumnDef",e.$implicit)}function B(t,e){if(1&t&&(s.Ub(0,"td",27),s.Ec(1),s.Tb()),2&t){var a=s.gc(3);s.Cb(1),s.Gc(" ",a.langObj.val.noRecordFound,"")}}function Q(t,e){1&t&&(s.Sb(0,25),s.Dc(1,B,2,1,"td",26),s.Rb())}function X(t,e){1&t&&s.Pb(0,"tr",28)}function Y(t,e){1&t&&s.Pb(0,"tr",29)}function K(t,e){1&t&&s.Pb(0,"tr",31)}var Z=function(){return["noRecord"]};function W(t,e){1&t&&(s.Sb(0),s.Dc(1,K,1,0,"tr",30),s.Rb()),2&t&&(s.Cb(1),s.mc("matFooterRowDef",s.oc(1,Z)))}var tt=function(){return[10,25,100]};function et(t,e){if(1&t){var a=s.Vb();s.Ub(0,"div",2),s.Ub(1,"div",3),s.Ub(2,"h2",4),s.Ec(3),s.Tb(),s.Ub(4,"mat-form-field",5),s.Ub(5,"mat-label"),s.Ec(6),s.Tb(),s.Ub(7,"input",6),s.cc("keyup",(function(t){return s.wc(a),s.gc().applyFilter(t)})),s.Tb(),s.Tb(),s.Tb(),s.Ub(8,"table",7),s.Dc(9,q,3,1,"ng-container",8),s.Dc(10,Q,2,0,"ng-container",9),s.Dc(11,X,1,0,"tr",10),s.Dc(12,Y,1,0,"tr",11),s.Dc(13,W,2,2,"ng-container",12),s.Tb(),s.Pb(14,"mat-paginator",13),s.Tb()}if(2&t){var c=s.gc();s.Cb(3),s.Hc("",c.title," ",c.langObj.val.candidateDashboard,""),s.Cb(3),s.Fc(c.langObj.val.search),s.Cb(1),s.mc("placeholder",c.langObj.val.search),s.Cb(1),s.mc("dataSource",c.dataSource),s.Cb(1),s.mc("ngForOf",c.headers),s.Cb(1),s.mc("ngIf",!c.details||0===c.details.length),s.Cb(1),s.mc("matHeaderRowDef",c.headers),s.Cb(1),s.mc("matRowDefColumns",c.headers),s.Cb(1),s.mc("ngIf",!c.details||0===c.details.length),s.Cb(1),s.mc("pageSizeOptions",s.oc(11,tt))}}function at(t,e){if(1&t){var a=s.Vb();s.Ub(0,"div",32),s.Ub(1,"div",33),s.cc("click",(function(t){return s.wc(a),s.gc().closeAttendancePopup()})),s.Tb(),s.Ub(2,"div",34),s.Ub(3,"div",35),s.cc("click",(function(t){return s.wc(a),s.gc().closeAttendancePopup()})),s.Ub(4,"mat-icon",36),s.Ec(5,"close"),s.Tb(),s.Tb(),s.Ub(6,"div",37),s.Pb(7,"h5",38),s.Ub(8,"div",39),s.Pb(9,"app-candidate-form"),s.Tb(),s.Tb(),s.Tb(),s.Tb()}}var ct,nt=((ct=function(){function t(e,a,c,n){_classCallCheck(this,t),this.authService=e,this.apiService=a,this.langService=c,this.dialog=n,this.getAttendance=new s.o,this.showAttendancePopup=!1,this.langObj={},this.showTable=!1,this.langService.setLang(this.langService.defaultLangCode),this.langObj=this.langService.langDetail}return _createClass(t,[{key:"ngOnInit",value:function(){this.dataSource=new u.o(this.details),this.showTable=!0}},{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getCertificate",value:function(t){var e=this,a=this.selectedCourse,c=a.course_name,n=a.start_date,i=a.end_date,o=a.ucid;n=n.split(" ")[0],i=i.split(" ")[0];var r={day:"numeric",month:"long",weekday:"long",year:"numeric"},l=new Intl.DateTimeFormat("en-GB-u-ca-islamic",r).format(new Date);l=l.replace(/\u02bb/g,"");var s=new Intl.DateTimeFormat("en-GB",r).format(new Date);this.apiService.getCertificate({username:t.candidate_name,title:c,startDate:n,endDate:i,islamDate:l,date:s,ucid:o,icNo:t.ic_number}).subscribe((function(e){var a="".concat(A.a.host,"/").concat(e.path),c=document.createElement("a");c.href=a,c.download="".concat(t.candidate_name,".pdf"),c.click()}),(function(t){e.dialog.open(R.a,{data:{imgUrl:"/assets/images/alert-icon.jpg",msg:"Some errors occurred on the server",buttonType:"normal"}})}))}},{key:"getAttendanceDetails",value:function(t){return this.getAttendance.emit({userData:t,courseData:this.selectedCourse}),!1}},{key:"closeAttendancePopup",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ct)(s.Ob(x.a),s.Ob(F.a),s.Ob(h.a),s.Ob(f.b))},ct.\u0275cmp=s.Ib({type:ct,selectors:[["app-datatable-grid"]],viewQuery:function(t,e){var a;1&t&&(s.Jc(b.a,!0),s.Jc(m.a,!0)),2&t&&(s.tc(a=s.dc())&&(e.paginator=a.first),s.tc(a=s.dc())&&(e.sort=a.first))},inputs:{headers:"headers",details:"details",title:"title",selectedCourse:"selectedCourse"},outputs:{getAttendance:"getAttendance"},decls:2,vars:2,consts:[["class","table-box mat-elevation-z8",4,"ngIf"],["class","ipaModalPopup",4,"ngIf"],[1,"table-box","mat-elevation-z8"],[1,"flex-sb"],[1,"header-2","table-header"],[1,"fl-jc-rg","mg-rt-10"],["matInput","","autocomplete","off",3,"placeholder","keyup"],["mat-table","","matSort","",1,"full-width",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","noRecord",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"pageSizeOptions"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"ngSwitch",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","edit-icon ","matTooltip","Download","matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example get_app icon",3,"click",4,"ngIf"],["matTooltip","Download","matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example get_app icon",1,"edit-icon",3,"click"],["class","edit-icon ","matTooltip","Attendance Report","matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example description icon",3,"click",4,"ngIf"],["matTooltip","Attendance Report","matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example description icon",1,"edit-icon",3,"click"],["matColumnDef","noRecord"],["mat-footer-cell","","colspan","10","class","ta-center",4,"matFooterCellDef"],["mat-footer-cell","","colspan","10",1,"ta-center"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""],[1,"ipaModalPopup"],[1,"backdrop",3,"click"],[1,"content","enrollment-modal"],[1,"modal-close",3,"click"],["matTooltip","Close","matTooltipClass","tooltip-box","aria-hidden","false","aria-label","Example close icon",1,"edit-icon"],[1,"ipaModalPopupContainer"],[1,"text-al-center","no-text"],[1,"candidate-form-container"]],template:function(t,e){1&t&&(s.Dc(0,et,15,12,"div",0),s.Dc(1,at,10,0,"div",1)),2&t&&(s.mc("ngIf",e.showTable),s.Cb(1),s.mc("ngIf",e.showAttendancePopup))},directives:[n.k,g.b,g.e,v.b,u.n,m.a,n.j,u.k,u.m,b.a,u.c,u.i,u.b,u.h,m.b,u.a,n.l,n.m,n.n,P.a,G.a,u.e,u.d,u.j,u.l,u.g,u.f,H.a],styles:[""]}),ct),it=a("PA/I");function ot(t,e){if(1&t){var a=s.Vb();s.Ub(0,"div",8),s.Ub(1,"strong"),s.Ec(2,"Error:"),s.Tb(),s.Ec(3," Server error please try after some time "),s.Ub(4,"button",9),s.cc("click",(function(t){return s.wc(a),s.gc().hideErrorMsg()})),s.Ub(5,"span",10),s.Ec(6,"\xd7"),s.Tb(),s.Tb(),s.Tb()}}function rt(t,e){if(1&t){var a=s.Vb();s.Ub(0,"button",11),s.cc("click",(function(t){return s.wc(a),s.gc().getCandidates(!1)})),s.Ec(1),s.Tb()}if(2&t){var c=s.gc();s.Cb(1),s.Fc(c.langObj.val.candidateAdded)}}function lt(t,e){if(1&t){var a=s.Vb();s.Ub(0,"button",12),s.cc("click",(function(t){return s.wc(a),s.gc().getCandidates(!0)})),s.Ec(1),s.Tb()}if(2&t){var c=s.gc();s.Cb(1),s.Fc(c.langObj.val.candidateEnrolled)}}function st(t,e){if(1&t&&(s.Ub(0,"th",39),s.Ec(1),s.Tb()),2&t){var a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.courseName," ")}}function dt(t,e){if(1&t&&(s.Ub(0,"td",40),s.Ec(1),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",a.course_name," ")}}function bt(t,e){if(1&t&&(s.Ub(0,"th",39),s.Ec(1),s.Tb()),2&t){var a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.startDate," ")}}function ut(t,e){if(1&t&&(s.Ub(0,"td",41),s.Ec(1),s.hc(2,"dateFormat"),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",s.ic(2,1,a.start_date)," ")}}function mt(t,e){if(1&t&&(s.Ub(0,"th",39),s.Ec(1),s.Tb()),2&t){var a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.endDate," ")}}function ft(t,e){if(1&t&&(s.Ub(0,"td",41),s.Ec(1),s.hc(2,"dateFormat"),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",s.ic(2,1,a.end_date)," ")}}function pt(t,e){if(1&t&&(s.Ub(0,"th",39),s.Ec(1),s.Tb()),2&t){var a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.days," ")}}function ht(t,e){if(1&t&&(s.Ub(0,"td",41),s.Ec(1),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",a.days," ")}}function gt(t,e){if(1&t&&(s.Ub(0,"th",39),s.Ec(1),s.Tb()),2&t){var a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.courseSession," ")}}function vt(t,e){if(1&t&&(s.Ub(0,"td",42),s.Ec(1),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",a.session," ")}}function Ct(t,e){if(1&t&&(s.Ub(0,"th",39),s.Ec(1),s.Tb()),2&t){var a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.instructors," ")}}function Dt(t,e){if(1&t&&(s.Ub(0,"td",41),s.Ec(1),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",a.instructor," ")}}function wt(t,e){if(1&t&&(s.Ub(0,"th",39),s.Ec(1),s.Tb()),2&t){var a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.classSize," ")}}function Tt(t,e){if(1&t&&(s.Ub(0,"td",41),s.Ec(1),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",a.class_size," ")}}function yt(t,e){if(1&t&&(s.Ub(0,"th",39),s.Ec(1),s.Tb()),2&t){var a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.confirmSeats," ")}}function Ut(t,e){if(1&t&&(s.Ub(0,"td",41),s.Ec(1),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",a.confirmed_seat," ")}}function St(t,e){if(1&t&&(s.Ub(0,"th",39),s.Ec(1),s.Tb()),2&t){var a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.nominated," ")}}function Ot(t,e){if(1&t&&(s.Ub(0,"td",41),s.Ec(1),s.Tb()),2&t){var a=e.$implicit;s.Cb(1),s.Gc(" ",a.candidatesCount," ")}}function _t(t,e){if(1&t&&(s.Ub(0,"th",39),s.Ec(1),s.Tb()),2&t){var a=s.gc(2);s.Cb(1),s.Gc(" ",a.langObj.val.candidateList," ")}}function kt(t,e){if(1&t){var a=s.Vb();s.Ub(0,"td",43),s.cc("click",(function(t){s.wc(a);var c=e.$implicit;return s.gc(2).getCourseCandidate(c)})),s.Ec(1),s.Tb()}if(2&t){var c=s.gc(2);s.Cb(1),s.Gc(" ",c.langObj.val.candidateList," ")}}function Et(t,e){if(1&t&&(s.Ub(0,"td",46),s.Ec(1),s.Tb()),2&t){var a=s.gc(3);s.Cb(1),s.Gc(" ",a.langObj.val.noRecordFound,"")}}function jt(t,e){1&t&&(s.Sb(0,44),s.Dc(1,Et,2,1,"td",45),s.Rb())}function It(t,e){1&t&&s.Pb(0,"tr",47)}function Rt(t,e){1&t&&s.Pb(0,"tr",48)}function xt(t,e){1&t&&s.Pb(0,"tr",50)}var Ft=function(){return["noRecord"]};function At(t,e){1&t&&(s.Sb(0),s.Dc(1,xt,1,0,"tr",49),s.Rb()),2&t&&(s.Cb(1),s.mc("matFooterRowDef",s.oc(1,Ft)))}var Pt=function(){return[10,25,100]};function Gt(t,e){if(1&t){var a=s.Vb();s.Ub(0,"div",13),s.Ub(1,"div",14),s.Ub(2,"h2",15),s.Ec(3),s.Tb(),s.Ub(4,"mat-form-field",16),s.Ub(5,"mat-label"),s.Ec(6),s.Tb(),s.Ub(7,"input",17),s.cc("keyup",(function(t){return s.wc(a),s.gc().applyFilter(t)})),s.Tb(),s.Tb(),s.Tb(),s.Ub(8,"table",18),s.Sb(9,19),s.Dc(10,st,2,1,"th",20),s.Dc(11,dt,2,1,"td",21),s.Rb(),s.Sb(12,22),s.Dc(13,bt,2,1,"th",20),s.Dc(14,ut,3,3,"td",23),s.Rb(),s.Sb(15,24),s.Dc(16,mt,2,1,"th",20),s.Dc(17,ft,3,3,"td",23),s.Rb(),s.Sb(18,25),s.Dc(19,pt,2,1,"th",20),s.Dc(20,ht,2,1,"td",23),s.Rb(),s.Sb(21,26),s.Dc(22,gt,2,1,"th",20),s.Dc(23,vt,2,1,"td",27),s.Rb(),s.Sb(24,28),s.Dc(25,Ct,2,1,"th",20),s.Dc(26,Dt,2,1,"td",23),s.Rb(),s.Sb(27,29),s.Dc(28,wt,2,1,"th",20),s.Dc(29,Tt,2,1,"td",23),s.Rb(),s.Sb(30,30),s.Dc(31,yt,2,1,"th",20),s.Dc(32,Ut,2,1,"td",23),s.Rb(),s.Sb(33,31),s.Dc(34,St,2,1,"th",20),s.Dc(35,Ot,2,1,"td",23),s.Rb(),s.Sb(36,32),s.Dc(37,_t,2,1,"th",20),s.Dc(38,kt,2,1,"td",33),s.Rb(),s.Dc(39,jt,2,0,"ng-container",34),s.Dc(40,It,1,0,"tr",35),s.Dc(41,Rt,1,0,"tr",36),s.Dc(42,At,2,2,"ng-container",37),s.Tb(),s.Pb(43,"mat-paginator",38),s.Tb()}if(2&t){var c=s.gc();s.Cb(3),s.Fc(c.langObj.val.courseDashboard),s.Cb(3),s.Fc(c.langObj.val.search),s.Cb(1),s.mc("placeholder",c.langObj.val.search),s.Cb(1),s.mc("dataSource",c.dataSource),s.Cb(31),s.mc("ngIf",!c.courses||0===c.courses.length),s.Cb(1),s.mc("matHeaderRowDef",c.courseHeader),s.Cb(1),s.mc("matRowDefColumns",c.courseHeader),s.Cb(1),s.mc("ngIf",!c.courses||0===c.courses.length),s.Cb(1),s.mc("pageSizeOptions",s.oc(9,Pt))}}function Ht(t,e){if(1&t){var a=s.Vb();s.Ub(0,"div",51),s.Ub(1,"app-datatable-grid",52),s.cc("getAttendance",(function(t){return s.wc(a),s.gc().getAttendanceDetails(t)})),s.Tb(),s.Tb()}if(2&t){var c=s.gc();s.Cb(1),s.mc("headers",c.courseCandidateHeader)("details",c.courseCandidateDetails)("title",c.selectedCourse.course_name)("selectedCourse",c.selectedCourse)}}function $t(t,e){1&t&&s.Pb(0,"app-loadingbar",53)}var Mt,zt,Lt,Nt=function(t){return{"ipa-container":t}},Vt=((Mt=function(){function t(e,a,c,n,i,o,r){_classCallCheck(this,t),this.route=e,this.router=a,this.authService=c,this.apiService=n,this.langService=i,this.dialog=o,this.elementRef=r,this.userAccess={},this.loading=!0,this.langObj={},this.langOpt="ms",this.courseHeader=["course_name","start_date","end_date","days","hours","instructor","class_size","confirmed_seat","total","candidates"],this.courseCandidateHeader=["candidate_name","departName","cemail_id","position","salary_grade","status","attended"],this.showErrorMsg=!1,this.courses=[],this.showCandidateTable=!1,this.courseCandidateDetails=!1,this.langService.setLang(this.langService.defaultLangCode),this.langObj=this.langService.langDetail}return _createClass(t,[{key:"ngOnInit",value:function(){this.userAccess=this.authService.userAccess,(this.userAccess.ipa||this.userAccess.dualRole||this.userAccess.isAdmin)&&(this.courseCandidateHeader.push("certificate"),this.courseCandidateHeader.push("attendanceReport"));var t=this.route.snapshot.data.data.data||[];t=t.map((function(t){return Object.assign(Object.assign({},t.course),{candidatesCount:t.total})})),this.loadingObj=this.apiService.loadingObj,this.courses=t,this.dataSource=new u.o(this.courses),this.userType=this.authService.getUserType(),this.showTable=!0}},{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"hideErrorMsg",value:function(){this.showErrorMsg=!1}},{key:"redirectToAddCourse",value:function(t,e){}},{key:"redirectToDetails",value:function(t){}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getCandidates",value:function(t){}},{key:"getAttendanceDetails",value:function(t){var e=this,a=t.userData,c=t.courseData,n=a.candidate_id,i=c.course_id,o=c.start_date,r=c.end_date,l=c.course_name,s=c.days;this.apiService.getCandidateAttendance(n,i).subscribe((function(t){var c=(t||{}).data,n=void 0===c?[]:c;e.dialog.open(I,{data:{start_date:o,end_date:r,course_name:l,days:s,attendanceDetails:n,candidateName:a.candidate_name},panelClass:"attendance-overlay"})}),(function(t){e.dialog.open(R.a,{data:{imgUrl:"/assets/images/alert-icon.jpg",msg:"Some errors occurred on the server",buttonType:"normal"}})}))}},{key:"getCourseCandidate",value:function(t){var e=this;this.courseCandidateDetails=[],this.showCandidateTable=!1,this.apiService.getCourseCandidate(t.course_id).subscribe((function(a){e.selectedCourse=t;var c=a.data||[];c=c.map((function(t){return Object.assign(Object.assign({},t.candidate),{status:t.status,attended:t.attended,departName:t.department_name})})),e.courseCandidateDetails=c,e.showCandidateTable=!0,window.setTimeout((function(){var t=window.screen.height,e=(document.querySelector("body"),document.querySelector(".course-candidate-table").getBoundingClientRect()),a=0;e.top>t&&(a=e.top-t);var c=a+e.height/1.5;if(window.scrollY<c)var n=0,i=window.setInterval((function(){n>=c?(n=c,window.scrollTo(0,n),window.clearInterval(i)):(n+=5,window.scrollTo(0,n))}),5)}),10)}),(function(t){e.dialog.open(R.a,{data:{imgUrl:"/assets/images/alert-icon.jpg",msg:"Some errors occurred on the server",buttonType:"normal"}})}))}}]),t}()).\u0275fac=function(t){return new(t||Mt)(s.Ob(r.a),s.Ob(r.c),s.Ob(x.a),s.Ob(F.a),s.Ob(h.a),s.Ob(f.b),s.Ob(s.l))},Mt.\u0275cmp=s.Ib({type:Mt,selectors:[["app-dashboard"]],viewQuery:function(t,e){var a;1&t&&(s.Jc(b.a,!0),s.Jc(m.a,!0)),2&t&&(s.tc(a=s.dc())&&(e.paginator=a.first),s.tc(a=s.dc())&&(e.sort=a.first))},decls:8,vars:9,consts:[[1,"container-fluid",3,"ngClass"],["class","alert alert-danger alert-dismissible fade show m-t-b-10","role","alert",4,"ngIf"],[1,"filter-box"],["type","button","class","btn bgc-primary",3,"click",4,"ngIf"],["type","button","class","btn bgc-primary mg-l-10",3,"click",4,"ngIf"],["class","table-box mat-elevation-z8",4,"ngIf"],["class","course-candidate-table",4,"ngIf"],["class","ipa-spinner",4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","m-t-b-10"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["type","button",1,"btn","bgc-primary",3,"click"],["type","button",1,"btn","bgc-primary","mg-l-10",3,"click"],[1,"table-box","mat-elevation-z8"],[1,"flex-sb"],[1,"header-2","table-header"],[1,"fl-jc-rg","mg-rt-10"],["matInput","","autocomplete","off",3,"placeholder","keyup"],["mat-table","","matSort","",1,"full-width",3,"dataSource"],["matColumnDef","course_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","course-name-title",4,"matCellDef"],["matColumnDef","start_date"],["mat-cell","",4,"matCellDef"],["matColumnDef","end_date"],["matColumnDef","days"],["matColumnDef","hours"],["mat-cell","","class","capitalize",4,"matCellDef"],["matColumnDef","instructor"],["matColumnDef","class_size"],["matColumnDef","confirmed_seat"],["matColumnDef","total"],["matColumnDef","candidates"],["mat-cell","","class","max-w-150 table-ellipsis","class","link-label",3,"click",4,"matCellDef"],["matColumnDef","noRecord",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"course-name-title"],["mat-cell",""],["mat-cell","",1,"capitalize"],["mat-cell","",1,"link-label",3,"click"],["matColumnDef","noRecord"],["mat-footer-cell","","colspan","10","class","ta-center",4,"matFooterCellDef"],["mat-footer-cell","","colspan","10",1,"ta-center"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""],[1,"course-candidate-table"],[3,"headers","details","title","selectedCourse","getAttendance"],[1,"ipa-spinner"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Dc(1,ot,7,0,"div",1),s.Ub(2,"div",2),s.Dc(3,rt,2,1,"button",3),s.Dc(4,lt,2,1,"button",4),s.Tb(),s.Dc(5,Gt,44,10,"div",5),s.Tb(),s.Dc(6,Ht,2,4,"div",6),s.Dc(7,$t,1,0,"app-loadingbar",7)),2&t&&(s.mc("ngClass",s.pc(7,Nt,"ipa"===e.userType)),s.Cb(1),s.mc("ngIf",e.showErrorMsg),s.Cb(2),s.mc("ngIf","ministry"===e.userType),s.Cb(1),s.mc("ngIf","ministry"===e.userType),s.Cb(1),s.mc("ngIf",e.showTable),s.Cb(1),s.mc("ngIf",e.showCandidateTable),s.Cb(1),s.mc("ngIf",e.loadingObj.show))},directives:[n.i,n.k,g.b,g.e,v.b,u.n,m.a,u.c,u.i,u.b,u.k,u.m,b.a,u.h,m.b,u.a,u.e,u.d,u.j,u.l,u.g,u.f,nt,it.a],pipes:[C.a],styles:[""]}),Mt),Jt=a("LRne"),qt=a("JIr8"),Bt=[{path:"",component:d,canActivateChild:[l.a],children:[{path:"",component:Vt,resolve:{data:(zt=function(){function t(e,a){_classCallCheck(this,t),this.authService=e,this.apiService=a}return _createClass(t,[{key:"resolve",value:function(t){return this.apiService.getCourse({userId:this.authService.getUserId(),isAll:!0,catId:!1}).pipe(Object(qt.a)((function(t){return Object(Jt.a)([])})))}}]),t}(),zt.\u0275fac=function(t){return new(t||zt)(s.Yb(x.a),s.Yb(F.a))},zt.\u0275prov=s.Kb({token:zt,factory:zt.\u0275fac,providedIn:"root"}),zt)}}]}],Qt=((Lt=function t(){_classCallCheck(this,t)}).\u0275mod=s.Mb({type:Lt}),Lt.\u0275inj=s.Lb({factory:function(t){return new(t||Lt)},imports:[[r.f.forChild(Bt)],r.f]}),Lt);a.d(e,"ReportsModule",(function(){return Yt}));var Xt,Yt=((Xt=function t(){_classCallCheck(this,t)}).\u0275mod=s.Mb({type:Xt}),Xt.\u0275inj=s.Lb({factory:function(t){return new(t||Xt)},imports:[[n.c,i.h,Qt,i.r,o.a]]}),Xt)}}]);